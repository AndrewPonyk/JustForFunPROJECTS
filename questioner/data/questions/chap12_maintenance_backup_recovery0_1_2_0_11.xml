<?xml version="1.0" encoding="UTF-8"?>
<questions id="0_1_2_0_11" name="Chap12_Maintenance_Backup_Recovery" nofquestions="4" nofsubcategories="0" filename="chap12_maintenance_backup_recovery0_1_2_0_11.xml">
  <question id="0_1_2_0_11:0" type="2">
    <questiontext>&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;What&amp;nbsp;types&amp;nbsp;of&amp;nbsp;logging&amp;nbsp;are&amp;nbsp;available&amp;nbsp;in&amp;nbsp;MySQL&amp;nbsp;?&amp;nbsp;&lt;br&gt;
&amp;nbsp;&amp;nbsp;</questiontext>
    <questionanswer>https://dev.mysql.com/doc/refman/5.0/en/binary-log.html&lt;br&gt;
======================================&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Several&amp;nbsp;different&amp;nbsp;types&amp;nbsp;of&amp;nbsp;logs&amp;nbsp;are&amp;nbsp;available:&lt;br&gt;
1&amp;nbsp;The&amp;nbsp;error&amp;nbsp;log&lt;br&gt;
2&amp;nbsp;The&amp;nbsp;general&amp;nbsp;query&amp;nbsp;log&lt;br&gt;
3&amp;nbsp;The&amp;nbsp;slow&amp;nbsp;query&amp;nbsp;log&lt;br&gt;
4&amp;nbsp;The&amp;nbsp;binary&amp;nbsp;log&lt;br&gt;
&lt;br&gt;
You&amp;nbsp;can&amp;nbsp;configure&amp;nbsp;each&amp;nbsp;of&amp;nbsp;them&amp;nbsp;in&amp;nbsp;my.cnf&amp;nbsp;(config&amp;nbsp;file&amp;nbsp;/etc/mysql/my.cnf)&lt;br&gt;
&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;1&amp;nbsp;The&amp;nbsp;Error&amp;nbsp;Log&lt;br&gt;
The&amp;nbsp;error&amp;nbsp;log&amp;nbsp;does&amp;nbsp;exactly&amp;nbsp;what&amp;nbsp;you&amp;nbsp;think&amp;nbsp;it&amp;nbsp;would&amp;nbsp;do—it&amp;nbsp;keeps&amp;nbsp;a&amp;nbsp;record&amp;nbsp;of&amp;nbsp;every&amp;nbsp;error&lt;br&gt;
that&amp;nbsp;occurs&amp;nbsp;on&amp;nbsp;the&amp;nbsp;server.&amp;nbsp;As&amp;nbsp;such,&amp;nbsp;this&amp;nbsp;is&amp;nbsp;a&amp;nbsp;basic&amp;nbsp;diagnostic&amp;nbsp;tool,&amp;nbsp;and&amp;nbsp;one&amp;nbsp;that&amp;nbsp;comes&amp;nbsp;in&lt;br&gt;
handy&amp;nbsp;when&amp;nbsp;troubleshooting&amp;nbsp;hard-to-diagnose&amp;nbsp;problems.&lt;br&gt;
&lt;br&gt;
Config&amp;nbsp;&amp;nbsp;:&lt;br&gt;
#&amp;nbsp;Error&amp;nbsp;log&amp;nbsp;-&amp;nbsp;should&amp;nbsp;be&amp;nbsp;very&amp;nbsp;few&amp;nbsp;entries.&lt;br&gt;
#&lt;br&gt;
log_error&amp;nbsp;=&amp;nbsp;/var/log/mysql/error.log&lt;br&gt;
-----------&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2&amp;nbsp;The&amp;nbsp;General&amp;nbsp;Query&amp;nbsp;Log&lt;br&gt;
The&amp;nbsp;general&amp;nbsp;query&amp;nbsp;log&amp;nbsp;is&amp;nbsp;another&amp;nbsp;useful&amp;nbsp;log&amp;nbsp;because&amp;nbsp;it&amp;nbsp;(surprise,&amp;nbsp;surprise!)&amp;nbsp;keeps&amp;nbsp;track&lt;br&gt;
of&amp;nbsp;every&amp;nbsp;query&amp;nbsp;sent&amp;nbsp;to&amp;nbsp;the&amp;nbsp;server&amp;nbsp;by&amp;nbsp;a&amp;nbsp;client.&amp;nbsp;It&amp;nbsp;also&amp;nbsp;displays&amp;nbsp;details&amp;nbsp;about&amp;nbsp;which&amp;nbsp;clients&lt;br&gt;
are&amp;nbsp;connected&amp;nbsp;to&amp;nbsp;the&amp;nbsp;server&amp;nbsp;and&amp;nbsp;what&amp;nbsp;these&amp;nbsp;clients&amp;nbsp;are&amp;nbsp;doing.&lt;br&gt;
&lt;br&gt;
Config&amp;nbsp;&amp;nbsp;:&lt;br&gt;
#&amp;nbsp;Both&amp;nbsp;location&amp;nbsp;gets&amp;nbsp;rotated&amp;nbsp;by&amp;nbsp;the&amp;nbsp;cronjob.&lt;br&gt;
#&amp;nbsp;Be&amp;nbsp;aware&amp;nbsp;that&amp;nbsp;this&amp;nbsp;log&amp;nbsp;type&amp;nbsp;is&amp;nbsp;a&amp;nbsp;performance&amp;nbsp;killer.&lt;br&gt;
#&amp;nbsp;As&amp;nbsp;of&amp;nbsp;5.1&amp;nbsp;you&amp;nbsp;can&amp;nbsp;enable&amp;nbsp;the&amp;nbsp;log&amp;nbsp;at&amp;nbsp;runtime!&lt;br&gt;
general_log_file&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;/var/log/mysql/mysql.log&lt;br&gt;
general_log&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;1&lt;br&gt;
&lt;br&gt;
----------&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;3&amp;nbsp;The&amp;nbsp;Slow&amp;nbsp;Query&amp;nbsp;Log&lt;br&gt;
A&amp;nbsp;related&amp;nbsp;log&amp;nbsp;is&amp;nbsp;the&amp;nbsp;slow&amp;nbsp;query&amp;nbsp;log,&amp;nbsp;which&amp;nbsp;lists&amp;nbsp;all&amp;nbsp;the&amp;nbsp;queries&amp;nbsp;that&amp;nbsp;exceed&amp;nbsp;a&amp;nbsp;predefined&lt;br&gt;
amount&amp;nbsp;of&amp;nbsp;time&amp;nbsp;(specified&amp;nbsp;by&amp;nbsp;the&amp;nbsp;long_query_time&amp;nbsp;variable).&amp;nbsp;Any&amp;nbsp;query&amp;nbsp;that&amp;nbsp;takes&amp;nbsp;longer&lt;br&gt;
than&amp;nbsp;this&amp;nbsp;value&amp;nbsp;is&amp;nbsp;listed&amp;nbsp;in&amp;nbsp;this&amp;nbsp;log.&amp;nbsp;If&amp;nbsp;you’re&amp;nbsp;looking&amp;nbsp;for&amp;nbsp;a&amp;nbsp;way&amp;nbsp;to&amp;nbsp;optimize&amp;nbsp;performance,&lt;br&gt;
this&amp;nbsp;log&amp;nbsp;is&amp;nbsp;a&amp;nbsp;good&amp;nbsp;place&amp;nbsp;to&amp;nbsp;start.&lt;br&gt;
&lt;br&gt;
COnfig&amp;nbsp;&amp;nbsp;:&lt;br&gt;
#&amp;nbsp;Here&amp;nbsp;you&amp;nbsp;can&amp;nbsp;see&amp;nbsp;queries&amp;nbsp;with&amp;nbsp;especially&amp;nbsp;long&amp;nbsp;duration&lt;br&gt;
log_slow_queries&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;/var/log/mysql/mysql-slow.log&lt;br&gt;
long_query_time&amp;nbsp;=&amp;nbsp;2&lt;br&gt;
-----------&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;4&amp;nbsp;The&amp;nbsp;Binary&amp;nbsp;Log&lt;br&gt;
MySQL&amp;nbsp;3.23.14&amp;nbsp;and&amp;nbsp;later&amp;nbsp;also&amp;nbsp;support&amp;nbsp;logging&amp;nbsp;of&amp;nbsp;all&amp;nbsp;the&amp;nbsp;commands&amp;nbsp;that&amp;nbsp;make&amp;nbsp;changes&lt;br&gt;
to&amp;nbsp;a&amp;nbsp;table’s&amp;nbsp;data.&amp;nbsp;Commands&amp;nbsp;such&amp;nbsp;as&amp;nbsp;INSERT,&amp;nbsp;REPLACE,&amp;nbsp;DELETE,&amp;nbsp;GRANT,&amp;nbsp;and&amp;nbsp;REVOKE,&lt;br&gt;
along&amp;nbsp;with&amp;nbsp;UPDATE,&amp;nbsp;CREATE&amp;nbsp;TABLE,&amp;nbsp;and&amp;nbsp;DROP&amp;nbsp;TABLE&amp;nbsp;are&amp;nbsp;all&amp;nbsp;in&amp;nbsp;this&amp;nbsp;category.&amp;nbsp;This&lt;br&gt;
information&amp;nbsp;is&amp;nbsp;stored&amp;nbsp;in&amp;nbsp;a&amp;nbsp;binary&amp;nbsp;log,&amp;nbsp;which&amp;nbsp;provides&amp;nbsp;a&amp;nbsp;more&amp;nbsp;efficient&amp;nbsp;storage&amp;nbsp;format&lt;br&gt;
for&amp;nbsp;data&amp;nbsp;and&amp;nbsp;also&amp;nbsp;records&amp;nbsp;a&amp;nbsp;larger&amp;nbsp;amount&amp;nbsp;of&amp;nbsp;information.&amp;nbsp;A&amp;nbsp;utility&amp;nbsp;named&amp;nbsp;mysqlbinlog&lt;br&gt;
converts&amp;nbsp;the&amp;nbsp;binary&amp;nbsp;log&amp;nbsp;back&amp;nbsp;to&amp;nbsp;text&amp;nbsp;so&amp;nbsp;you&amp;nbsp;can&amp;nbsp;read&amp;nbsp;it.&lt;br&gt;
&lt;br&gt;
Binary&amp;nbsp;logging&amp;nbsp;is&amp;nbsp;done&amp;nbsp;immediately&amp;nbsp;after&amp;nbsp;a&amp;nbsp;statement&amp;nbsp;or&amp;nbsp;transaction&amp;nbsp;completes&amp;nbsp;but&amp;nbsp;before&lt;br&gt;
any&amp;nbsp;locks&amp;nbsp;are&amp;nbsp;released&amp;nbsp;or&amp;nbsp;any&amp;nbsp;commit&amp;nbsp;is&amp;nbsp;done.&amp;nbsp;This&amp;nbsp;ensures&amp;nbsp;that&amp;nbsp;the&amp;nbsp;log&amp;nbsp;is&amp;nbsp;logged&amp;nbsp;in&amp;nbsp;commit&amp;nbsp;order.&lt;br&gt;
&lt;br&gt;
Tip:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Because&amp;nbsp;the&amp;nbsp;binary&amp;nbsp;log&amp;nbsp;is&amp;nbsp;critical&amp;nbsp;for&amp;nbsp;crash&amp;nbsp;recovery,&amp;nbsp;it’s&amp;nbsp;always&amp;nbsp;a&amp;nbsp;good&amp;nbsp;idea&lt;br&gt;
to&amp;nbsp;save&amp;nbsp;it&amp;nbsp;to&amp;nbsp;a&amp;nbsp;different&amp;nbsp;drive&amp;nbsp;or&amp;nbsp;device&amp;nbsp;than&amp;nbsp;the&amp;nbsp;one&amp;nbsp;which&amp;nbsp;holds&amp;nbsp;the&amp;nbsp;MySQL&amp;nbsp;database&amp;nbsp;files&lt;br&gt;
&lt;br&gt;
Config&amp;nbsp;:&amp;nbsp;&lt;br&gt;
#&amp;nbsp;The&amp;nbsp;following&amp;nbsp;can&amp;nbsp;be&amp;nbsp;used&amp;nbsp;as&amp;nbsp;easy&amp;nbsp;to&amp;nbsp;replay&amp;nbsp;backup&amp;nbsp;logs&amp;nbsp;or&amp;nbsp;for&amp;nbsp;replication.&lt;br&gt;
#&amp;nbsp;note:&amp;nbsp;if&amp;nbsp;you&amp;nbsp;are&amp;nbsp;setting&amp;nbsp;up&amp;nbsp;a&amp;nbsp;replication&amp;nbsp;slave,&amp;nbsp;see&amp;nbsp;README.Debian&amp;nbsp;about&lt;br&gt;
#&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;other&amp;nbsp;settings&amp;nbsp;you&amp;nbsp;may&amp;nbsp;need&amp;nbsp;to&amp;nbsp;change.&lt;br&gt;
#server-id&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;1&lt;br&gt;
#log_bin&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;/var/log/mysql/mysql-bin.log&lt;br&gt;
expire_logs_days&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;10&lt;br&gt;
max_binlog_size&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;100M&lt;br&gt;
#binlog_do_db&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;include_database_name&lt;br&gt;
#binlog_ignore_db&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;include_database_name&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
TIP&amp;nbsp;:&amp;nbsp;you&amp;nbsp;can&amp;nbsp;convert&amp;nbsp;bin&amp;nbsp;log&amp;nbsp;to&amp;nbsp;TEXT&amp;nbsp;using&amp;nbsp;mysqlbinlog&amp;nbsp;application&amp;nbsp;,&amp;nbsp;in&amp;nbsp;my&amp;nbsp;case&amp;nbsp;&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;sudo&amp;nbsp;mysqlbinlog&amp;nbsp;/var/lib/mysql/mysql-bin.000004&lt;br&gt;
&lt;br&gt;
Example&amp;nbsp;output&amp;nbsp;:&amp;nbsp;&lt;br&gt;
......&lt;br&gt;
#&amp;nbsp;at&amp;nbsp;1737&lt;br&gt;
#150411&amp;nbsp;&amp;nbsp;1:22:43&amp;nbsp;server&amp;nbsp;id&amp;nbsp;10&amp;nbsp;&amp;nbsp;end_log_pos&amp;nbsp;1945&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Query&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;thread_id=57&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;exec_time=0&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;error_code=0&lt;br&gt;
SET&amp;nbsp;TIMESTAMP=1428704563/*!*/;&lt;br&gt;
UPDATE&amp;nbsp;`db1`.`airport`&amp;nbsp;SET&amp;nbsp;`AirportName`='International&amp;nbsp;Boryspil&amp;nbsp;Airport&amp;nbsp;(Replication&amp;nbsp;in&amp;nbsp;action&amp;nbsp;=)&amp;nbsp;It&amp;nbsp;works,&amp;nbsp;but&amp;nbsp;be&amp;nbsp;..&amp;nbsp;)'&amp;nbsp;WHERE&amp;nbsp;`AirportID`='1001'&lt;br&gt;
/*!*/;&lt;br&gt;
#&amp;nbsp;at&amp;nbsp;1945&lt;br&gt;
#150411&amp;nbsp;&amp;nbsp;1:22:43&amp;nbsp;server&amp;nbsp;id&amp;nbsp;10&amp;nbsp;&amp;nbsp;end_log_pos&amp;nbsp;2013&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Query&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;thread_id=57&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;exec_time=0&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;error_code=0&lt;br&gt;
SET&amp;nbsp;TIMESTAMP=1428704563/*!*/;&lt;br&gt;
COMMIT&lt;br&gt;
/*!*/;&lt;br&gt;
DELIMITER&amp;nbsp;;&lt;br&gt;
#&amp;nbsp;End&amp;nbsp;of&amp;nbsp;log&amp;nbsp;file&lt;br&gt;
ROLLBACK&amp;nbsp;/*&amp;nbsp;added&amp;nbsp;by&amp;nbsp;mysqlbinlog&amp;nbsp;*/;&lt;br&gt;
/*!50003&amp;nbsp;SET&amp;nbsp;COMPLETION_TYPE=@OLD_COMPLETION_TYPE*/;&lt;br&gt;
/*!50530&amp;nbsp;SET&amp;nbsp;@@SESSION.PSEUDO_SLAVE_MODE=0*/;&lt;br&gt;
....&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
at&amp;nbsp;1737&amp;nbsp;-&amp;nbsp;it&amp;nbsp;is&amp;nbsp;current&amp;nbsp;position&amp;nbsp;in&amp;nbsp;bin&amp;nbsp;log&amp;nbsp;(it&amp;nbsp;is&amp;nbsp;using&amp;nbsp;for&amp;nbsp;replication)&amp;nbsp;&lt;br&gt;
========</questionanswer>
  </question>
  <question id="0_1_2_0_11:1" type="2">
    <questiontext>&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;MySQL&amp;nbsp;.frm&amp;nbsp;File&amp;nbsp;Format,&amp;nbsp;describe.&amp;nbsp;&lt;br&gt;
What&amp;nbsp;is&amp;nbsp;the&amp;nbsp;ibdata1&amp;nbsp;file&amp;nbsp;in&amp;nbsp;my&amp;nbsp;/var/lib/mysql&amp;nbsp;directory?&lt;br&gt;
&amp;nbsp;&amp;nbsp;</questiontext>
    <questionanswer>https://dev.mysql.com/doc/internals/en/frm-file-format.html&lt;br&gt;
&lt;br&gt;
Regardless&amp;nbsp;of&amp;nbsp;the&amp;nbsp;storage&amp;nbsp;engine&amp;nbsp;you&amp;nbsp;choose,&amp;nbsp;every&amp;nbsp;MySQL&amp;nbsp;table&amp;nbsp;you&amp;nbsp;create&amp;nbsp;is&amp;nbsp;represented&lt;br&gt;
on&amp;nbsp;disk&amp;nbsp;by&amp;nbsp;a&amp;nbsp;.frm&amp;nbsp;file&amp;nbsp;that&amp;nbsp;describes&amp;nbsp;the&amp;nbsp;table's&amp;nbsp;format&amp;nbsp;(that&amp;nbsp;is,&amp;nbsp;the&amp;nbsp;table&amp;nbsp;definition).&lt;br&gt;
The&amp;nbsp;file&amp;nbsp;bears&amp;nbsp;the&amp;nbsp;same&amp;nbsp;name&amp;nbsp;as&amp;nbsp;the&amp;nbsp;table,&amp;nbsp;with&amp;nbsp;an&amp;nbsp;.frm&amp;nbsp;extension.&amp;nbsp;The&amp;nbsp;.frm&amp;nbsp;format&amp;nbsp;is&amp;nbsp;the&lt;br&gt;
same&amp;nbsp;on&amp;nbsp;all&amp;nbsp;platforms,&amp;nbsp;but&amp;nbsp;in&amp;nbsp;the&amp;nbsp;description&amp;nbsp;of&amp;nbsp;the&amp;nbsp;.frm&amp;nbsp;format&amp;nbsp;that&amp;nbsp;follows,&amp;nbsp;the&lt;br&gt;
examples&amp;nbsp;come&amp;nbsp;from&amp;nbsp;tables&amp;nbsp;created&amp;nbsp;under&amp;nbsp;the&amp;nbsp;Linux&amp;nbsp;operating&amp;nbsp;system.&lt;br&gt;
&lt;br&gt;
To&amp;nbsp;understand&amp;nbsp;the&amp;nbsp;.frm&amp;nbsp;format,&amp;nbsp;let's&amp;nbsp;look&amp;nbsp;at&amp;nbsp;table1.frm&amp;nbsp;using&amp;nbsp;a&amp;nbsp;hexadecimal-dump&amp;nbsp;utility:&lt;br&gt;
hexdump&amp;nbsp;-v&amp;nbsp;-C&amp;nbsp;table1.frm&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
=============================================&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ibdata1&amp;nbsp;file&amp;nbsp;&lt;br&gt;
http://serverfault.com/questions/487159/what-is-the-ibdata1-file-in-my-var-lib-mysql-directory&lt;br&gt;
&lt;br&gt;
The&amp;nbsp;file&amp;nbsp;ibdata1&amp;nbsp;is&amp;nbsp;the&amp;nbsp;system&amp;nbsp;tablespace&amp;nbsp;for&amp;nbsp;the&amp;nbsp;InnoDB&amp;nbsp;infrastructure.&lt;br&gt;
&lt;br&gt;
It&amp;nbsp;contains&amp;nbsp;several&amp;nbsp;classes&amp;nbsp;for&amp;nbsp;information&amp;nbsp;vital&amp;nbsp;for&amp;nbsp;InnoDB&lt;br&gt;
&lt;br&gt;
Table&amp;nbsp;Data&amp;nbsp;Pages&lt;br&gt;
Table&amp;nbsp;Index&amp;nbsp;Pages&lt;br&gt;
Data&amp;nbsp;Dictionary&lt;br&gt;
MVCC&amp;nbsp;Control&amp;nbsp;Data&lt;br&gt;
Undo&amp;nbsp;Space&lt;br&gt;
Rollback&amp;nbsp;Segments&lt;br&gt;
Double&amp;nbsp;Write&amp;nbsp;Buffer&amp;nbsp;(Pages&amp;nbsp;Written&amp;nbsp;in&amp;nbsp;the&amp;nbsp;Background&amp;nbsp;to&amp;nbsp;avoid&amp;nbsp;OS&amp;nbsp;caching)&lt;br&gt;
Insert&amp;nbsp;Buffer&amp;nbsp;(Changes&amp;nbsp;to&amp;nbsp;Secondary&amp;nbsp;Indexes)&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
You&amp;nbsp;can&amp;nbsp;separate&amp;nbsp;Data&amp;nbsp;and&amp;nbsp;Index&amp;nbsp;Pages&amp;nbsp;from&amp;nbsp;ibdata1&amp;nbsp;by&amp;nbsp;enabling&amp;nbsp;innodb_file_per_table.&amp;nbsp;This&amp;nbsp;will&lt;br&gt;
cause&amp;nbsp;any&amp;nbsp;newly&amp;nbsp;created&amp;nbsp;InnoDB&amp;nbsp;table&amp;nbsp;to&amp;nbsp;store&amp;nbsp;data&amp;nbsp;and&amp;nbsp;index&amp;nbsp;pages&amp;nbsp;in&amp;nbsp;an&amp;nbsp;external&amp;nbsp;.ibd&amp;nbsp;file.&lt;br&gt;
&lt;br&gt;
Example&lt;br&gt;
&lt;br&gt;
datadir&amp;nbsp;is&amp;nbsp;/var/lib/mysql&lt;br&gt;
CREATE&amp;nbsp;TABLE&amp;nbsp;mydb.mytable&amp;nbsp;(...)&amp;nbsp;ENGINE=InnoDB;,&amp;nbsp;creates&amp;nbsp;/var/lib/mysql/mydb/mytable.frm&lt;br&gt;
innodb_file_per_table&amp;nbsp;enabled,&amp;nbsp;Data/Index&amp;nbsp;Pages&amp;nbsp;Stored&amp;nbsp;in&amp;nbsp;/var/lib/mysql/mydb/mytable.ibd&lt;br&gt;
innodb_file_per_table&amp;nbsp;disabled,&amp;nbsp;Data/Index&amp;nbsp;Pages&amp;nbsp;Stored&amp;nbsp;in&amp;nbsp;ibdata1&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
=======&lt;br&gt;
!!!&amp;nbsp;Also&amp;nbsp;look&amp;nbsp;at&amp;nbsp;innodbchecksum&amp;nbsp;application&lt;br&gt;
http://dev.mysql.com/doc/refman/5.1/en/innochecksum.html</questionanswer>
  </question>
  <question id="0_1_2_0_11:2" type="2">
    <questiontext>&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;'analyze&amp;nbsp;table'&amp;nbsp;and&amp;nbsp;'check&amp;nbsp;table'&amp;nbsp;commands&amp;nbsp;in&amp;nbsp;MySQL,&amp;nbsp;describe.&lt;br&gt;
&amp;nbsp;&amp;nbsp;</questiontext>
    <questionanswer>12.4.2&amp;nbsp;Table&amp;nbsp;Maintenance&amp;nbsp;Statements&lt;br&gt;
[+/-]&lt;br&gt;
&lt;br&gt;
12.4.2.1&amp;nbsp;ANALYZE&amp;nbsp;TABLE&amp;nbsp;Syntax&lt;br&gt;
12.4.2.2&amp;nbsp;BACKUP&amp;nbsp;TABLE&amp;nbsp;Syntax&lt;br&gt;
12.4.2.3&amp;nbsp;CHECK&amp;nbsp;TABLE&amp;nbsp;Syntax&lt;br&gt;
12.4.2.4&amp;nbsp;CHECKSUM&amp;nbsp;TABLE&amp;nbsp;Syntax&lt;br&gt;
12.4.2.5&amp;nbsp;OPTIMIZE&amp;nbsp;TABLE&amp;nbsp;Syntax&lt;br&gt;
12.4.2.6&amp;nbsp;REPAIR&amp;nbsp;TABLE&amp;nbsp;Syntax&lt;br&gt;
12.4.2.7&amp;nbsp;RESTORE&amp;nbsp;TABLE&amp;nbsp;Syntax&lt;br&gt;
===============================================&lt;br&gt;
https://dev.mysql.com/doc/refman/4.1/en/check-table.html&lt;br&gt;
&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;CHECK&amp;nbsp;TABLE&amp;nbsp;Syntax&lt;br&gt;
CHECK&amp;nbsp;TABLE&amp;nbsp;tbl_name&amp;nbsp;[,&amp;nbsp;tbl_name]&amp;nbsp;...&amp;nbsp;[option]&amp;nbsp;...&lt;br&gt;
&lt;br&gt;
option&amp;nbsp;=&amp;nbsp;{QUICK&amp;nbsp;|&amp;nbsp;FAST&amp;nbsp;|&amp;nbsp;MEDIUM&amp;nbsp;|&amp;nbsp;EXTENDED&amp;nbsp;|&amp;nbsp;CHANGED}&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
CHECK&amp;nbsp;TABLE&amp;nbsp;checks&amp;nbsp;a&amp;nbsp;table&amp;nbsp;or&amp;nbsp;tables&amp;nbsp;for&amp;nbsp;errors.&amp;nbsp;CHECK&amp;nbsp;TABLE&amp;nbsp;works&amp;nbsp;for&amp;nbsp;MyISAM&amp;nbsp;and&amp;nbsp;InnoDB&lt;br&gt;
tables.&amp;nbsp;For&amp;nbsp;MyISAM&amp;nbsp;tables,&amp;nbsp;the&amp;nbsp;key&amp;nbsp;statistics&amp;nbsp;are&amp;nbsp;updated&amp;nbsp;as&amp;nbsp;well.&lt;br&gt;
&lt;br&gt;
CHECK&amp;nbsp;TABLE&amp;nbsp;returns&amp;nbsp;a&amp;nbsp;result&amp;nbsp;set&amp;nbsp;with&amp;nbsp;the&amp;nbsp;following&amp;nbsp;columns.&lt;br&gt;
&lt;br&gt;
Column&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Value&lt;br&gt;
Table&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;The&amp;nbsp;table&amp;nbsp;name&lt;br&gt;
Op&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Always&amp;nbsp;check&lt;br&gt;
Msg_type&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;status,&amp;nbsp;error,&amp;nbsp;info,&amp;nbsp;note,&amp;nbsp;or&amp;nbsp;warning&lt;br&gt;
Msg_text&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;An&amp;nbsp;informational&amp;nbsp;message&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
Note&amp;nbsp;!&amp;nbsp;that&amp;nbsp;the&amp;nbsp;statement&amp;nbsp;might&amp;nbsp;produce&amp;nbsp;many&amp;nbsp;rows&amp;nbsp;of&amp;nbsp;information&amp;nbsp;for&amp;nbsp;each&amp;nbsp;checked&amp;nbsp;table.&amp;nbsp;The&lt;br&gt;
last&amp;nbsp;row&amp;nbsp;has&amp;nbsp;a&amp;nbsp;Msg_type&amp;nbsp;value&amp;nbsp;of&amp;nbsp;status&amp;nbsp;and&amp;nbsp;the&amp;nbsp;Msg_text&amp;nbsp;normally&amp;nbsp;should&amp;nbsp;be&amp;nbsp;OK.&amp;nbsp;If&amp;nbsp;you&amp;nbsp;don't&amp;nbsp;get&amp;nbsp;OK,&lt;br&gt;
or&amp;nbsp;Table&amp;nbsp;is&amp;nbsp;already&amp;nbsp;up&amp;nbsp;to&amp;nbsp;date&amp;nbsp;you&amp;nbsp;should&amp;nbsp;normally&amp;nbsp;run&amp;nbsp;a&amp;nbsp;repair&amp;nbsp;of&amp;nbsp;the&amp;nbsp;table.&amp;nbsp;See&amp;nbsp;Section&amp;nbsp;6.6,&lt;br&gt;
“MyISAM&amp;nbsp;Table&amp;nbsp;Maintenance&amp;nbsp;and&amp;nbsp;Crash&amp;nbsp;Recovery”.&amp;nbsp;Table&amp;nbsp;is&amp;nbsp;already&amp;nbsp;up&amp;nbsp;to&amp;nbsp;date&amp;nbsp;means&amp;nbsp;that&amp;nbsp;the&amp;nbsp;storage&lt;br&gt;
engine&amp;nbsp;for&amp;nbsp;the&amp;nbsp;table&amp;nbsp;indicated&amp;nbsp;that&amp;nbsp;there&amp;nbsp;was&amp;nbsp;no&amp;nbsp;need&amp;nbsp;to&amp;nbsp;check&amp;nbsp;the&amp;nbsp;table.&lt;br&gt;
&lt;br&gt;
The&amp;nbsp;different&amp;nbsp;check&amp;nbsp;options&amp;nbsp;that&amp;nbsp;can&amp;nbsp;be&amp;nbsp;given&amp;nbsp;are&amp;nbsp;shown&amp;nbsp;in&amp;nbsp;the&amp;nbsp;following&amp;nbsp;table.&amp;nbsp;These&amp;nbsp;options&amp;nbsp;are&amp;nbsp;passed&amp;nbsp;to&amp;nbsp;&lt;br&gt;
the&amp;nbsp;storage&amp;nbsp;engine,&amp;nbsp;which&amp;nbsp;may&amp;nbsp;use&amp;nbsp;them&amp;nbsp;or&amp;nbsp;not.&amp;nbsp;MyISAM&amp;nbsp;uses&amp;nbsp;them;&amp;nbsp;they&amp;nbsp;are&amp;nbsp;ignored&amp;nbsp;for&amp;nbsp;InnoDB&amp;nbsp;tables.&lt;br&gt;
&lt;br&gt;
Type&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Meaning&lt;br&gt;
QUICK&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Do&amp;nbsp;not&amp;nbsp;scan&amp;nbsp;the&amp;nbsp;rows&amp;nbsp;to&amp;nbsp;check&amp;nbsp;for&amp;nbsp;incorrect&amp;nbsp;links.&lt;br&gt;
FAST&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Check&amp;nbsp;only&amp;nbsp;tables&amp;nbsp;that&amp;nbsp;have&amp;nbsp;not&amp;nbsp;been&amp;nbsp;closed&amp;nbsp;properly.&lt;br&gt;
CHANGED&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Check&amp;nbsp;only&amp;nbsp;tables&amp;nbsp;that&amp;nbsp;have&amp;nbsp;been&amp;nbsp;changed&amp;nbsp;since&amp;nbsp;the&amp;nbsp;last&amp;nbsp;check&amp;nbsp;or&amp;nbsp;that&amp;nbsp;have&amp;nbsp;not&amp;nbsp;been&amp;nbsp;closed&amp;nbsp;properly.&lt;br&gt;
MEDIUM&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Scan&amp;nbsp;rows&amp;nbsp;to&amp;nbsp;verify&amp;nbsp;that&amp;nbsp;deleted&amp;nbsp;links&amp;nbsp;are&amp;nbsp;valid.&amp;nbsp;This&amp;nbsp;also&amp;nbsp;calculates&amp;nbsp;a&amp;nbsp;key&amp;nbsp;checksum&amp;nbsp;for&amp;nbsp;the&lt;br&gt;
rows&amp;nbsp;and&amp;nbsp;verifies&amp;nbsp;this&amp;nbsp;with&amp;nbsp;a&amp;nbsp;calculated&amp;nbsp;checksum&amp;nbsp;for&amp;nbsp;the&amp;nbsp;keys.&lt;br&gt;
EXTENDED&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Do&amp;nbsp;a&amp;nbsp;full&amp;nbsp;key&amp;nbsp;lookup&amp;nbsp;for&amp;nbsp;all&amp;nbsp;keys&amp;nbsp;for&amp;nbsp;each&amp;nbsp;row.&amp;nbsp;This&amp;nbsp;ensures&amp;nbsp;that&amp;nbsp;the&amp;nbsp;table&amp;nbsp;is&amp;nbsp;100%&amp;nbsp;consistent,&amp;nbsp;but&amp;nbsp;takes&amp;nbsp;a&amp;nbsp;long&amp;nbsp;time.&lt;br&gt;
&lt;br&gt;
==================================================&lt;br&gt;
https://dev.mysql.com/doc/refman/5.0/en/analyze-table.html&lt;br&gt;
&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ANALYZE&amp;nbsp;TABLE&amp;nbsp;Syntax&lt;br&gt;
ANALYZE&amp;nbsp;[NO_WRITE_TO_BINLOG&amp;nbsp;|&amp;nbsp;LOCAL]&amp;nbsp;TABLE&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;tbl_name&amp;nbsp;[,&amp;nbsp;tbl_name]&amp;nbsp;...&lt;br&gt;
&lt;br&gt;
ANALYZE&amp;nbsp;TABLE&amp;nbsp;analyzes&amp;nbsp;and&amp;nbsp;stores&amp;nbsp;the&amp;nbsp;key&amp;nbsp;distribution&amp;nbsp;for&amp;nbsp;a&amp;nbsp;table.&amp;nbsp;During&amp;nbsp;the&amp;nbsp;analysis,&amp;nbsp;the&amp;nbsp;table&amp;nbsp;is&amp;nbsp;locked&lt;br&gt;
with&amp;nbsp;a&amp;nbsp;read&amp;nbsp;lock&amp;nbsp;for&amp;nbsp;MyISAM,&amp;nbsp;BDB,&amp;nbsp;and&amp;nbsp;InnoDB.&amp;nbsp;This&amp;nbsp;statement&amp;nbsp;works&amp;nbsp;with&amp;nbsp;MyISAM,&amp;nbsp;BDB,&amp;nbsp;InnoDB,&amp;nbsp;and&amp;nbsp;NDB&amp;nbsp;tables.&lt;br&gt;
For&amp;nbsp;MyISAM&amp;nbsp;tables,&amp;nbsp;this&amp;nbsp;statement&amp;nbsp;is&amp;nbsp;equivalent&amp;nbsp;to&amp;nbsp;using&amp;nbsp;myisamchk&amp;nbsp;--analyze-&lt;br&gt;
&lt;br&gt;</questionanswer>
  </question>
  <question id="0_1_2_0_11:3" type="2">
    <questiontext>&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Backup&amp;nbsp;and&amp;nbsp;Restore&amp;nbsp;MySQL&amp;nbsp;database,&amp;nbsp;describe.&lt;br&gt;
&amp;nbsp;&amp;nbsp;</questiontext>
    <questionanswer>Backup&amp;nbsp;Using&amp;nbsp;mysldump&amp;nbsp;:&amp;nbsp;&lt;br&gt;
&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$&amp;nbsp;mysqldump&amp;nbsp;--opt&amp;nbsp;-u&amp;nbsp;[uname]&amp;nbsp;-p[pass]&amp;nbsp;[dbname]&amp;nbsp;&gt;&amp;nbsp;[backupfile.sql]&lt;br&gt;
&lt;br&gt;
-----&lt;br&gt;
Restoring&amp;nbsp;your&amp;nbsp;MySQL&amp;nbsp;Database&lt;br&gt;
&lt;br&gt;
$&amp;nbsp;mysql&amp;nbsp;-u&amp;nbsp;[uname]&amp;nbsp;-p[pass]&amp;nbsp;[db_to_restore]&amp;nbsp;&lt;&amp;nbsp;[backupfile.sql]&lt;br&gt;
&lt;br&gt;
=============================&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Backing&amp;nbsp;Up&amp;nbsp;Table&amp;nbsp;Structures&lt;br&gt;
&lt;br&gt;
What&amp;nbsp;if&amp;nbsp;you&amp;nbsp;want&amp;nbsp;to&amp;nbsp;create&amp;nbsp;a&amp;nbsp;table&amp;nbsp;with&amp;nbsp;the&amp;nbsp;same&amp;nbsp;structure&amp;nbsp;but&amp;nbsp;different&amp;nbsp;data&amp;nbsp;from&amp;nbsp;the&lt;br&gt;
one&amp;nbsp;you&amp;nbsp;have?&amp;nbsp;Again,&amp;nbsp;the&amp;nbsp;mysqldump&amp;nbsp;utility&amp;nbsp;comes&amp;nbsp;to&amp;nbsp;the&amp;nbsp;rescue.&amp;nbsp;The&amp;nbsp;--no-data&amp;nbsp;option&lt;br&gt;
produces&amp;nbsp;the&amp;nbsp;same&amp;nbsp;table&amp;nbsp;in&amp;nbsp;form,&amp;nbsp;but&amp;nbsp;empty&amp;nbsp;of&amp;nbsp;content.&amp;nbsp;To&amp;nbsp;see&amp;nbsp;this&amp;nbsp;in&amp;nbsp;action,&amp;nbsp;try&amp;nbsp;the&lt;br&gt;
following&amp;nbsp;command:&lt;br&gt;
&lt;br&gt;
[user@host]#&amp;nbsp;/usr/local/mysql/bin/mysqldump&amp;nbsp;--user=john&amp;nbsp;--password=hoonose&lt;br&gt;
--no-data&amp;nbsp;db1&amp;nbsp;airport&amp;nbsp;&gt;&amp;nbsp;airport.sql&lt;br&gt;
==========================&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Backing&amp;nbsp;Up&amp;nbsp;Table&amp;nbsp;Contents&lt;br&gt;
&lt;br&gt;
The&amp;nbsp;other&amp;nbsp;side&amp;nbsp;of&amp;nbsp;the&amp;nbsp;coin&amp;nbsp;is&amp;nbsp;a&amp;nbsp;situation&amp;nbsp;where&amp;nbsp;you&amp;nbsp;only&amp;nbsp;need&amp;nbsp;the&amp;nbsp;contents&amp;nbsp;of&amp;nbsp;a&amp;nbsp;table—&lt;br&gt;
for&amp;nbsp;example,&amp;nbsp;to&amp;nbsp;dump&amp;nbsp;them&amp;nbsp;into&amp;nbsp;a&amp;nbsp;different&amp;nbsp;table.&amp;nbsp;Again&amp;nbsp;you&amp;nbsp;use&amp;nbsp;mysqldump,&amp;nbsp;but&amp;nbsp;with&lt;br&gt;
the&amp;nbsp;--no-create-info&amp;nbsp;option.&amp;nbsp;This&amp;nbsp;yields&amp;nbsp;a&amp;nbsp;file&amp;nbsp;containing&amp;nbsp;all&amp;nbsp;the&amp;nbsp;INSERT&amp;nbsp;statements&amp;nbsp;that&lt;br&gt;
have&amp;nbsp;been&amp;nbsp;executed&amp;nbsp;on&amp;nbsp;the&amp;nbsp;table.&amp;nbsp;What&amp;nbsp;doesn’t&amp;nbsp;get&amp;nbsp;duplicated&amp;nbsp;are&amp;nbsp;the&amp;nbsp;instructions&amp;nbsp;for&lt;br&gt;
creating&amp;nbsp;the&amp;nbsp;table.&lt;br&gt;
Here’s&amp;nbsp;an&amp;nbsp;example:&lt;br&gt;
&lt;br&gt;
[user@host]#&amp;nbsp;/usr/local/mysql/bin/mysqldump&amp;nbsp;--user=john&amp;nbsp;--password=hoonose&lt;br&gt;
--no-create-info&amp;nbsp;db1&amp;nbsp;flight&amp;nbsp;&gt;&amp;nbsp;flight.sql&lt;br&gt;
==================================&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Backing&amp;nbsp;Up&amp;nbsp;Other&amp;nbsp;Database&amp;nbsp;Objects&lt;br&gt;
&lt;br&gt;
It’s&amp;nbsp;worth&amp;nbsp;noting&amp;nbsp;that,&amp;nbsp;by&amp;nbsp;default,&amp;nbsp;mysqldump&amp;nbsp;does&amp;nbsp;not&amp;nbsp;back&amp;nbsp;up&amp;nbsp;database&amp;nbsp;events&amp;nbsp;or&amp;nbsp;stored&lt;br&gt;
routines.&amp;nbsp;To&amp;nbsp;add&amp;nbsp;these&amp;nbsp;database&amp;nbsp;objects&amp;nbsp;to&amp;nbsp;the&amp;nbsp;output&amp;nbsp;of&amp;nbsp;a&amp;nbsp;mysqldump&amp;nbsp;run,&amp;nbsp;add&amp;nbsp;the&amp;nbsp;--events&lt;br&gt;
and&amp;nbsp;--routines&amp;nbsp;options,&amp;nbsp;as&amp;nbsp;shown:&lt;br&gt;
&lt;br&gt;
[user@host]#&amp;nbsp;/usr/local/mysql/bin/mysqldump&amp;nbsp;--user=john&amp;nbsp;--password=hoonose&lt;br&gt;
--events&amp;nbsp;--routines&amp;nbsp;db1&amp;nbsp;&gt;&amp;nbsp;db1.sql&lt;br&gt;
&lt;br&gt;
Triggers&amp;nbsp;and&amp;nbsp;views&amp;nbsp;are,&amp;nbsp;however,&amp;nbsp;automatically&amp;nbsp;included&amp;nbsp;in&amp;nbsp;the&amp;nbsp;output&amp;nbsp;of&amp;nbsp;mysqldump.&lt;br&gt;
To&amp;nbsp;skip&amp;nbsp;these,&amp;nbsp;use&amp;nbsp;the&amp;nbsp;--skip-triggers&amp;nbsp;and&amp;nbsp;--ignore-table&amp;nbsp;options,&amp;nbsp;as&amp;nbsp;shown:&lt;br&gt;
&lt;br&gt;
[user@host]#&amp;nbsp;/usr/local/mysql/bin/mysqldump&amp;nbsp;--user=john&amp;nbsp;--password=hoonose&lt;br&gt;
--skip-triggers&amp;nbsp;--ignore-table=db1.v_small_airports_gb&amp;nbsp;db1&amp;nbsp;&gt;&amp;nbsp;db1.sql</questionanswer>
  </question>
</questions>
