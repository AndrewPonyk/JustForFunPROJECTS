<?xml version="1.0" encoding="UTF-8"?>
<questions id="1_0_0_9_3" name="GC_Oracledoc_cubridorg_javaworld_infoq" nofquestions="4" nofsubcategories="0" filename="gc_oracledoc_cubridorg_javaworld_infoq1_0_0_9_3.xml">
  <question id="1_0_0_9_3:0" type="2">
    <questiontext>&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Java&amp;nbsp;JVM&amp;nbsp;:&amp;nbsp;When&amp;nbsp;does&amp;nbsp;System.gc()&amp;nbsp;do&amp;nbsp;anything&amp;nbsp;?&lt;br&gt;
&amp;nbsp;&amp;nbsp;</questiontext>
    <questionanswer>In&amp;nbsp;practice,&amp;nbsp;it&amp;nbsp;usually&amp;nbsp;decides&amp;nbsp;to&amp;nbsp;do&amp;nbsp;a&amp;nbsp;garbage&amp;nbsp;collection.&amp;nbsp;The&amp;nbsp;answer&amp;nbsp;varies&amp;nbsp;depending&amp;nbsp;on&amp;nbsp;lots&amp;nbsp;of&amp;nbsp;factors,&amp;nbsp;like&lt;br&gt;
which&amp;nbsp;JVM&amp;nbsp;you're&amp;nbsp;running&amp;nbsp;on,&amp;nbsp;which&amp;nbsp;mode&amp;nbsp;it's&amp;nbsp;in,&amp;nbsp;and&amp;nbsp;which&amp;nbsp;garbage&amp;nbsp;collection&amp;nbsp;algorithm&amp;nbsp;it's&amp;nbsp;using.&amp;nbsp;&lt;br&gt;
&lt;br&gt;
I&amp;nbsp;wouldn't&amp;nbsp;depend&amp;nbsp;on&amp;nbsp;it&amp;nbsp;in&amp;nbsp;your&amp;nbsp;code.&amp;nbsp;If&amp;nbsp;the&amp;nbsp;JVM&amp;nbsp;is&amp;nbsp;about&amp;nbsp;to&amp;nbsp;throw&amp;nbsp;an&amp;nbsp;OutOfMemoryError,&amp;nbsp;calling&amp;nbsp;System.gc()&lt;br&gt;
won't&amp;nbsp;stop&amp;nbsp;it,&amp;nbsp;because&amp;nbsp;the&amp;nbsp;garbage&amp;nbsp;collector&amp;nbsp;will&amp;nbsp;attempt&amp;nbsp;to&amp;nbsp;free&amp;nbsp;as&amp;nbsp;much&amp;nbsp;as&amp;nbsp;it&amp;nbsp;can&amp;nbsp;before&amp;nbsp;it&amp;nbsp;goes&amp;nbsp;to&amp;nbsp;that&lt;br&gt;
extreme.&amp;nbsp;The&amp;nbsp;only&amp;nbsp;time&amp;nbsp;I've&amp;nbsp;seen&amp;nbsp;it&amp;nbsp;used&amp;nbsp;in&amp;nbsp;practice&amp;nbsp;is&amp;nbsp;in&amp;nbsp;IDEs&amp;nbsp;where&amp;nbsp;it's&amp;nbsp;attached&amp;nbsp;to&amp;nbsp;a&amp;nbsp;button&amp;nbsp;that&amp;nbsp;a&amp;nbsp;user&lt;br&gt;
can&amp;nbsp;click,&amp;nbsp;but&amp;nbsp;even&amp;nbsp;there&amp;nbsp;it's&amp;nbsp;not&amp;nbsp;terribly&amp;nbsp;useful.&lt;br&gt;
==========================================&lt;br&gt;
It&amp;nbsp;is&amp;nbsp;Popular&amp;nbsp;question&amp;nbsp;in&amp;nbsp;tests&amp;nbsp;and&amp;nbsp;on&amp;nbsp;Interviews&amp;nbsp;:&amp;nbsp;&lt;br&gt;
How&amp;nbsp;we&amp;nbsp;can&amp;nbsp;force&amp;nbsp;Garbage&amp;nbsp;Collection&amp;nbsp;?&lt;br&gt;
&lt;br&gt;
Answer&amp;nbsp;:&amp;nbsp;We&amp;nbsp;cant&amp;nbsp;force&amp;nbsp;GC&amp;nbsp;.&amp;nbsp;JVM&amp;nbsp;know&amp;nbsp;then&amp;nbsp;perform&amp;nbsp;GC&amp;nbsp;,&amp;nbsp;&lt;br&gt;
we&amp;nbsp;can&amp;nbsp;only&amp;nbsp;suggest&amp;nbsp;to&amp;nbsp;perform&amp;nbsp;gc&amp;nbsp;with&amp;nbsp;System.gc().&lt;br&gt;
&lt;br&gt;
=======================&lt;br&gt;
You&amp;nbsp;have&amp;nbsp;no&amp;nbsp;control&amp;nbsp;over&amp;nbsp;GC&amp;nbsp;in&amp;nbsp;java&amp;nbsp;--&amp;nbsp;the&amp;nbsp;VM&amp;nbsp;decides.&amp;nbsp;I've&amp;nbsp;never&amp;nbsp;run&amp;nbsp;across&amp;nbsp;a&amp;nbsp;case&amp;nbsp;where&amp;nbsp;System.gc()&lt;br&gt;
is&amp;nbsp;needed.&amp;nbsp;Since&amp;nbsp;a&amp;nbsp;System.gc()&amp;nbsp;call&amp;nbsp;simply&amp;nbsp;SUGGESTS&amp;nbsp;that&amp;nbsp;the&amp;nbsp;VM&amp;nbsp;do&amp;nbsp;a&amp;nbsp;garbage&amp;nbsp;collection&amp;nbsp;and&amp;nbsp;it&amp;nbsp;also&lt;br&gt;
does&amp;nbsp;a&amp;nbsp;FULL&amp;nbsp;garbage&amp;nbsp;collection&amp;nbsp;(old&amp;nbsp;and&amp;nbsp;new&amp;nbsp;generations&amp;nbsp;in&amp;nbsp;a&amp;nbsp;multi-generational&amp;nbsp;heap),&amp;nbsp;then&amp;nbsp;it&amp;nbsp;can&lt;br&gt;
actually&amp;nbsp;cause&amp;nbsp;MORE&amp;nbsp;cpu&amp;nbsp;cycles&amp;nbsp;to&amp;nbsp;be&amp;nbsp;consumed&amp;nbsp;than&amp;nbsp;necessary.</questionanswer>
  </question>
  <question id="1_0_0_9_3:1" type="2">
    <questiontext>&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Java&amp;nbsp;JVM&amp;nbsp;:&amp;nbsp;GC&amp;nbsp;:&amp;nbsp;Java&amp;nbsp;Memory&amp;nbsp;Model,&amp;nbsp;describe&amp;nbsp;main&amp;nbsp;concepts&amp;nbsp;and&amp;nbsp;terms.&lt;br&gt;
What&amp;nbsp;are&amp;nbsp;the&amp;nbsp;types&amp;nbsp;OutOfMemoryError&amp;nbsp;(and&amp;nbsp;their&amp;nbsp;reasons)?&amp;nbsp;&lt;br&gt;
&amp;nbsp;&amp;nbsp;</questiontext>
    <questionanswer>With&amp;nbsp;Java&amp;nbsp;problems&amp;nbsp;like&amp;nbsp;deallocating&amp;nbsp;memory&amp;nbsp;too&amp;nbsp;early&amp;nbsp;(corrupted&amp;nbsp;pointer)&amp;nbsp;or&amp;nbsp;too&amp;nbsp;late&amp;nbsp;(memory&amp;nbsp;leak)&amp;nbsp;cannot&lt;br&gt;
occur&amp;nbsp;BY&amp;nbsp;specification.&lt;br&gt;
&lt;br&gt;
The&amp;nbsp;problem&amp;nbsp;is&amp;nbsp;that&amp;nbsp;even&amp;nbsp;with&amp;nbsp;an&amp;nbsp;implicit&amp;nbsp;memory&amp;nbsp;management&amp;nbsp;integrated,&amp;nbsp;Java&amp;nbsp;cannot&amp;nbsp;prevent&amp;nbsp;application&lt;br&gt;
of&amp;nbsp;being&amp;nbsp;corrupt&amp;nbsp;in&amp;nbsp;sense&amp;nbsp;of&amp;nbsp;memory&amp;nbsp;management,&amp;nbsp;even&amp;nbsp;it&amp;nbsp;is&amp;nbsp;not&amp;nbsp;allowed&amp;nbsp;to&amp;nbsp;explicitly&amp;nbsp;allocate&amp;nbsp;memory&amp;nbsp;in&amp;nbsp;Java.&lt;br&gt;
The&amp;nbsp;result&amp;nbsp;of&amp;nbsp;such&amp;nbsp;wrongly&amp;nbsp;programmed&amp;nbsp;code&amp;nbsp;normally&amp;nbsp;is&amp;nbsp;an&amp;nbsp;exception&amp;nbsp;of&amp;nbsp;type:&amp;nbsp;java.lang.OutOfMemoryError.&lt;br&gt;
&lt;br&gt;
&lt;img&amp;nbsp;width='575'&amp;nbsp;height='150'&amp;nbsp;alt='image'&amp;nbsp;src='/data/images/MemoryStructure.png'/&gt;&lt;br&gt;
&lt;br&gt;
Lets&amp;nbsp;have&amp;nbsp;a&amp;nbsp;look&amp;nbsp;at&amp;nbsp;the&amp;nbsp;Sun&amp;nbsp;HotSpot&amp;nbsp;implementation&amp;nbsp;as&amp;nbsp;an&amp;nbsp;example:&lt;br&gt;
&lt;br&gt;
&lt;img&amp;nbsp;width='480'&amp;nbsp;height='300'&amp;nbsp;alt='image'&amp;nbsp;src='/data/images/sun-hotspot-memory-1.jpg'/&gt;&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;HOTSPOT&amp;nbsp;Heap&amp;nbsp;Structure&amp;nbsp;&lt;br&gt;
&lt;br&gt;
&lt;img&amp;nbsp;width='480'&amp;nbsp;height='320'&amp;nbsp;alt='image'&amp;nbsp;src='/data/images/Slide5.PNG'/&gt;&lt;br&gt;
The&amp;nbsp;Young&amp;nbsp;Generation&amp;nbsp;is&amp;nbsp;where&amp;nbsp;all&amp;nbsp;new&amp;nbsp;objects&amp;nbsp;are&amp;nbsp;allocated&amp;nbsp;and&amp;nbsp;aged.&amp;nbsp;When&amp;nbsp;the&amp;nbsp;young&amp;nbsp;generation&amp;nbsp;fills&amp;nbsp;up,&amp;nbsp;this&lt;br&gt;
causes&amp;nbsp;a&amp;nbsp;minor&amp;nbsp;garbage&amp;nbsp;collection.&amp;nbsp;Minor&amp;nbsp;collections&amp;nbsp;can&amp;nbsp;be&amp;nbsp;optimized&amp;nbsp;assuming&amp;nbsp;a&amp;nbsp;high&amp;nbsp;object&amp;nbsp;mortality&amp;nbsp;rate.&lt;br&gt;
A&amp;nbsp;young&amp;nbsp;generation&amp;nbsp;full&amp;nbsp;of&amp;nbsp;dead&amp;nbsp;objects&amp;nbsp;is&amp;nbsp;collected&amp;nbsp;very&amp;nbsp;quickly.&amp;nbsp;Some&amp;nbsp;surviving&amp;nbsp;objects&amp;nbsp;are&amp;nbsp;aged&amp;nbsp;and&lt;br&gt;
eventually&amp;nbsp;move&amp;nbsp;to&amp;nbsp;the&amp;nbsp;old&amp;nbsp;generation.&lt;br&gt;
&lt;br&gt;
Stop&amp;nbsp;the&amp;nbsp;World&amp;nbsp;Event&amp;nbsp;-&amp;nbsp;All&amp;nbsp;minor&amp;nbsp;garbage&amp;nbsp;collections&amp;nbsp;are&amp;nbsp;"Stop&amp;nbsp;the&amp;nbsp;World"&amp;nbsp;events.&amp;nbsp;This&amp;nbsp;means&amp;nbsp;that&amp;nbsp;all&lt;br&gt;
application&amp;nbsp;threads&amp;nbsp;are&amp;nbsp;stopped&amp;nbsp;until&amp;nbsp;the&amp;nbsp;operation&amp;nbsp;completes.&amp;nbsp;Minor&amp;nbsp;garbage&amp;nbsp;collections&amp;nbsp;are&amp;nbsp;always&amp;nbsp;Stop&lt;br&gt;
the&amp;nbsp;World&amp;nbsp;events.&lt;br&gt;
&lt;br&gt;
The&amp;nbsp;Old&amp;nbsp;Generation&amp;nbsp;is&amp;nbsp;used&amp;nbsp;to&amp;nbsp;store&amp;nbsp;long&amp;nbsp;surviving&amp;nbsp;objects.&amp;nbsp;Typically,&amp;nbsp;a&amp;nbsp;threshold&amp;nbsp;is&amp;nbsp;set&amp;nbsp;for&amp;nbsp;young&amp;nbsp;generation&lt;br&gt;
object&amp;nbsp;and&amp;nbsp;when&amp;nbsp;that&amp;nbsp;age&amp;nbsp;is&amp;nbsp;met,&amp;nbsp;the&amp;nbsp;object&amp;nbsp;gets&amp;nbsp;moved&amp;nbsp;to&amp;nbsp;the&amp;nbsp;old&amp;nbsp;generation.&amp;nbsp;Eventually&amp;nbsp;the&amp;nbsp;old&lt;br&gt;
generation&amp;nbsp;needs&amp;nbsp;to&amp;nbsp;be&amp;nbsp;collected.&amp;nbsp;This&amp;nbsp;event&amp;nbsp;is&amp;nbsp;called&amp;nbsp;a&amp;nbsp;major&amp;nbsp;garbage&amp;nbsp;collection.&lt;br&gt;
&lt;br&gt;
Major&amp;nbsp;garbage&amp;nbsp;collection&amp;nbsp;are&amp;nbsp;also&amp;nbsp;Stop&amp;nbsp;the&amp;nbsp;World&amp;nbsp;events.&amp;nbsp;Often&amp;nbsp;a&amp;nbsp;major&amp;nbsp;collection&amp;nbsp;is&amp;nbsp;much&amp;nbsp;slower&amp;nbsp;because&amp;nbsp;it&lt;br&gt;
involves&amp;nbsp;all&amp;nbsp;live&amp;nbsp;objects.&amp;nbsp;So&amp;nbsp;for&amp;nbsp;Responsive&amp;nbsp;applications,&amp;nbsp;major&amp;nbsp;garbage&amp;nbsp;collections&amp;nbsp;should&amp;nbsp;be&amp;nbsp;minimized.&lt;br&gt;
Also&amp;nbsp;note,&amp;nbsp;that&amp;nbsp;the&amp;nbsp;length&amp;nbsp;of&amp;nbsp;the&amp;nbsp;Stop&amp;nbsp;the&amp;nbsp;World&amp;nbsp;event&amp;nbsp;for&amp;nbsp;a&amp;nbsp;major&amp;nbsp;garbage&amp;nbsp;collection&amp;nbsp;is&amp;nbsp;affected&amp;nbsp;by&amp;nbsp;the&lt;br&gt;
kind&amp;nbsp;of&amp;nbsp;garbage&amp;nbsp;collector&amp;nbsp;that&amp;nbsp;is&amp;nbsp;used&amp;nbsp;for&amp;nbsp;the&amp;nbsp;old&amp;nbsp;generation&amp;nbsp;space.&lt;br&gt;
&lt;br&gt;
The&amp;nbsp;Permanent&amp;nbsp;generation&amp;nbsp;contains&amp;nbsp;metadata&amp;nbsp;required&amp;nbsp;by&amp;nbsp;the&amp;nbsp;JVM&amp;nbsp;to&amp;nbsp;describe&amp;nbsp;the&amp;nbsp;classes&amp;nbsp;and&amp;nbsp;methods&amp;nbsp;used&lt;br&gt;
in&amp;nbsp;the&amp;nbsp;application.&amp;nbsp;The&amp;nbsp;permanent&amp;nbsp;generation&amp;nbsp;is&amp;nbsp;populated&amp;nbsp;by&amp;nbsp;the&amp;nbsp;JVM&amp;nbsp;at&amp;nbsp;runtime&amp;nbsp;based&amp;nbsp;on&amp;nbsp;classes&amp;nbsp;in&amp;nbsp;use&lt;br&gt;
by&amp;nbsp;the&amp;nbsp;application.&amp;nbsp;In&amp;nbsp;addition,&amp;nbsp;Java&amp;nbsp;SE&amp;nbsp;library&amp;nbsp;classes&amp;nbsp;and&amp;nbsp;methods&amp;nbsp;may&amp;nbsp;be&amp;nbsp;stored&amp;nbsp;here.&lt;br&gt;
&lt;br&gt;
Classes&amp;nbsp;may&amp;nbsp;get&amp;nbsp;collected&amp;nbsp;(unloaded)&amp;nbsp;if&amp;nbsp;the&amp;nbsp;JVM&amp;nbsp;finds&amp;nbsp;they&amp;nbsp;are&amp;nbsp;no&amp;nbsp;longer&amp;nbsp;needed&amp;nbsp;and&amp;nbsp;space&amp;nbsp;may&amp;nbsp;be&amp;nbsp;needed&lt;br&gt;
for&amp;nbsp;other&amp;nbsp;classes.&amp;nbsp;The&amp;nbsp;permanent&amp;nbsp;generation&amp;nbsp;is&amp;nbsp;included&amp;nbsp;in&amp;nbsp;a&amp;nbsp;full&amp;nbsp;garbage&amp;nbsp;collection.&lt;br&gt;
&lt;br&gt;
As&amp;nbsp;of&amp;nbsp;today,&amp;nbsp;there&amp;nbsp;are&amp;nbsp;--&gt;&gt;&amp;nbsp;4&amp;nbsp;GC&amp;nbsp;algorithms&amp;nbsp;&lt;&lt;---&amp;nbsp;available&amp;nbsp;in&amp;nbsp;the&amp;nbsp;Java&amp;nbsp;Hotspot&amp;nbsp;VM:&lt;br&gt;
-&amp;nbsp;The&amp;nbsp;Serial&amp;nbsp;GC&amp;nbsp;-&amp;nbsp;recommended&amp;nbsp;for&amp;nbsp;client-style&amp;nbsp;applications&amp;nbsp;that&amp;nbsp;do&amp;nbsp;not&amp;nbsp;have&amp;nbsp;low&amp;nbsp;pause&amp;nbsp;time&amp;nbsp;requirements.&lt;br&gt;
-&amp;nbsp;The&amp;nbsp;Parallel&amp;nbsp;GC&amp;nbsp;-&amp;nbsp;use&amp;nbsp;when&amp;nbsp;the&amp;nbsp;throughput&amp;nbsp;matters.&lt;br&gt;
-&amp;nbsp;The&amp;nbsp;Mostly-Concurrent&amp;nbsp;GC&amp;nbsp;(also&amp;nbsp;known&amp;nbsp;as&amp;nbsp;Concurrent&amp;nbsp;Mark-Sweep&amp;nbsp;GC(CMS))&amp;nbsp;-&amp;nbsp;use&amp;nbsp;when&amp;nbsp;the&amp;nbsp;latency&amp;nbsp;matters.&amp;nbsp;&lt;br&gt;
-&amp;nbsp;The&amp;nbsp;Garbage&amp;nbsp;First&amp;nbsp;GC&amp;nbsp;(G1)&amp;nbsp;-&amp;nbsp;new&amp;nbsp;GC&amp;nbsp;algorithm,&amp;nbsp;for&amp;nbsp;CMS&amp;nbsp;replacement.&lt;br&gt;
----------------------------------------------------------------------------------------------------------------------------------------------------&lt;br&gt;
==================================================================&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Types&amp;nbsp;OutOfMemoryError&amp;nbsp;&amp;nbsp;(and&amp;nbsp;their&amp;nbsp;reasons)&lt;br&gt;
1.&amp;nbsp;java.lang.OutOfMemoryError:&amp;nbsp;Java&amp;nbsp;heap&amp;nbsp;space&lt;br&gt;
Not&amp;nbsp;enough&amp;nbsp;space&amp;nbsp;in&amp;nbsp;the&amp;nbsp;heap,&amp;nbsp;namely&amp;nbsp;in&amp;nbsp;the&amp;nbsp;area&amp;nbsp;of&amp;nbsp;??memory&amp;nbsp;in&amp;nbsp;which&amp;nbsp;to&amp;nbsp;place&amp;nbsp;the&amp;nbsp;objects&amp;nbsp;that&amp;nbsp;are&amp;nbsp;created&lt;br&gt;
programmatically&amp;nbsp;in&amp;nbsp;your&amp;nbsp;application.&amp;nbsp;Size&amp;nbsp;is&amp;nbsp;set&amp;nbsp;parameters-Xms&amp;nbsp;and-Xmx.&amp;nbsp;If&amp;nbsp;you&amp;nbsp;are&amp;nbsp;trying&amp;nbsp;to&amp;nbsp;create&amp;nbsp;an&amp;nbsp;object,&lt;br&gt;
and&amp;nbsp;place&amp;nbsp;in&amp;nbsp;a&amp;nbsp;pile&amp;nbsp;of&amp;nbsp;left,&amp;nbsp;you&amp;nbsp;get&amp;nbsp;this&amp;nbsp;error.&amp;nbsp;Usually&amp;nbsp;the&amp;nbsp;problem&amp;nbsp;is&amp;nbsp;the&amp;nbsp;memory&amp;nbsp;leak,&amp;nbsp;of&amp;nbsp;which&amp;nbsp;is&amp;nbsp;a&amp;nbsp;great&lt;br&gt;
multitude,&amp;nbsp;and&amp;nbsp;the&amp;nbsp;Internet&amp;nbsp;is&amp;nbsp;full&amp;nbsp;of&amp;nbsp;articles&amp;nbsp;just&amp;nbsp;on&amp;nbsp;this&amp;nbsp;topic.&lt;br&gt;
&lt;br&gt;
How&amp;nbsp;to&amp;nbsp;solve&amp;nbsp;java.lang.OutOfMemoryError:&amp;nbsp;Java&amp;nbsp;heap&amp;nbsp;space&amp;nbsp;:&amp;nbsp;&lt;br&gt;
&amp;nbsp;1)&amp;nbsp;Easy&amp;nbsp;way&amp;nbsp;to&amp;nbsp;solve&amp;nbsp;OutOfMemoryError&amp;nbsp;in&amp;nbsp;java&amp;nbsp;is&amp;nbsp;to&amp;nbsp;increase&amp;nbsp;the&amp;nbsp;maximum&amp;nbsp;heap&amp;nbsp;size&amp;nbsp;by&amp;nbsp;using&amp;nbsp;JVM&amp;nbsp;options&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"-Xmx512M",&amp;nbsp;this&amp;nbsp;will&amp;nbsp;immediately&amp;nbsp;solve&amp;nbsp;your&amp;nbsp;OutOfMemoryError.&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Also&amp;nbsp;its&amp;nbsp;better&amp;nbsp;to&amp;nbsp;keep&amp;nbsp;-Xmx&amp;nbsp;to&amp;nbsp;-Xms&amp;nbsp;ration&amp;nbsp;either&amp;nbsp;1:1&amp;nbsp;or&amp;nbsp;1:1.5&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;java&amp;nbsp;-Xms512m&amp;nbsp;-Xmx1024m&lt;br&gt;
&amp;nbsp;&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2)&amp;nbsp;Second&amp;nbsp;way&amp;nbsp;to&amp;nbsp;resolve&amp;nbsp;OutOfMemoryError&amp;nbsp;in&amp;nbsp;Java&amp;nbsp;is&amp;nbsp;rather&amp;nbsp;hard&amp;nbsp;and&amp;nbsp;&amp;nbsp;comes&amp;nbsp;when&amp;nbsp;you&amp;nbsp;don't&amp;nbsp;have&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;much&amp;nbsp;memory&amp;nbsp;and&amp;nbsp;even&amp;nbsp;after&amp;nbsp;increase&amp;nbsp;maximum&amp;nbsp;heap&amp;nbsp;size&amp;nbsp;you&amp;nbsp;are&amp;nbsp;still&amp;nbsp;getting&amp;nbsp;java.lang.OutOfMemoryError,&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;in&amp;nbsp;this&amp;nbsp;case&amp;nbsp;you&amp;nbsp;probably&amp;nbsp;want&amp;nbsp;to&amp;nbsp;profile&amp;nbsp;your&amp;nbsp;application&amp;nbsp;and&amp;nbsp;look&amp;nbsp;for&amp;nbsp;any&amp;nbsp;memory&amp;nbsp;leak.&amp;nbsp;You&amp;nbsp;can&amp;nbsp;use&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Eclipse&amp;nbsp;Memory&amp;nbsp;Analyzer&amp;nbsp;to&amp;nbsp;examine&amp;nbsp;your&amp;nbsp;heap&amp;nbsp;dump&amp;nbsp;or&amp;nbsp;you&amp;nbsp;can&amp;nbsp;use&amp;nbsp;any&amp;nbsp;profiler&amp;nbsp;like&amp;nbsp;Netbeans&amp;nbsp;or&amp;nbsp;JProbe.&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;This&amp;nbsp;is&amp;nbsp;tough&amp;nbsp;solution&amp;nbsp;and&amp;nbsp;requires&amp;nbsp;some&amp;nbsp;time&amp;nbsp;to&amp;nbsp;analyze&amp;nbsp;and&amp;nbsp;find&amp;nbsp;memory&amp;nbsp;leaks.&lt;br&gt;
-----------------------------------------------------------------------------------------------------------------------------------------------&lt;br&gt;
2.&amp;nbsp;java.lang.OutOfMemoryError:&amp;nbsp;PermGen&amp;nbsp;space&lt;br&gt;
This&amp;nbsp;error&amp;nbsp;occurs&amp;nbsp;when&amp;nbsp;not&amp;nbsp;enough&amp;nbsp;space&amp;nbsp;in&amp;nbsp;the&amp;nbsp;Permanent&amp;nbsp;field,&amp;nbsp;the&amp;nbsp;size&amp;nbsp;of&amp;nbsp;which&amp;nbsp;is&amp;nbsp;defined&amp;nbsp;by&amp;nbsp;the&lt;br&gt;
parameters-XX:&amp;nbsp;PermSize&amp;nbsp;and-XX:&amp;nbsp;MaxPermSize.&amp;nbsp;What&amp;nbsp;is&amp;nbsp;there&amp;nbsp;and&amp;nbsp;how&amp;nbsp;to&amp;nbsp;deal&amp;nbsp;with&amp;nbsp;OutOfMemoryError&amp;nbsp;occurring&lt;br&gt;
there.&lt;br&gt;
-----------------------------------------------------------------------------------------------------------------------------------------------&lt;br&gt;
3.&amp;nbsp;java.lang.OutOfMemoryError:&amp;nbsp;GC&amp;nbsp;overhead&amp;nbsp;limit&amp;nbsp;exceeded&lt;br&gt;
&lt;br&gt;
This&amp;nbsp;error&amp;nbsp;can&amp;nbsp;be&amp;nbsp;caused&amp;nbsp;by&amp;nbsp;the&amp;nbsp;overflow&amp;nbsp;of&amp;nbsp;the&amp;nbsp;Heap&amp;nbsp;and&amp;nbsp;PermGen&amp;nbsp;regions.&amp;nbsp;It&amp;nbsp;is&amp;nbsp;connected&amp;nbsp;with&amp;nbsp;the&amp;nbsp;fact&amp;nbsp;that&lt;br&gt;
memory&amp;nbsp;is&amp;nbsp;low&amp;nbsp;and&amp;nbsp;GC&amp;nbsp;is&amp;nbsp;constantly&amp;nbsp;working,&amp;nbsp;trying&amp;nbsp;to&amp;nbsp;free&amp;nbsp;up&amp;nbsp;some&amp;nbsp;space.&amp;nbsp;This&amp;nbsp;error&amp;nbsp;can&amp;nbsp;be&amp;nbsp;disabled&amp;nbsp;by&amp;nbsp;using&lt;br&gt;
the-XX:-UseGCOverheadLimit,&amp;nbsp;but&amp;nbsp;of&amp;nbsp;course,&amp;nbsp;it&amp;nbsp;should&amp;nbsp;not&amp;nbsp;be&amp;nbsp;turned&amp;nbsp;off&amp;nbsp;and&amp;nbsp;either&amp;nbsp;solve&amp;nbsp;the&amp;nbsp;problem&amp;nbsp;of&lt;br&gt;
memory&amp;nbsp;leaks,&amp;nbsp;or&amp;nbsp;allocate&amp;nbsp;more&amp;nbsp;volume,&amp;nbsp;or&amp;nbsp;change&amp;nbsp;the&amp;nbsp;settings&amp;nbsp;of&amp;nbsp;GC.&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
-XX:+UseGCOverheadLimit&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Use&amp;nbsp;a&amp;nbsp;policy&amp;nbsp;that&amp;nbsp;limits&amp;nbsp;the&amp;nbsp;proportion&amp;nbsp;of&amp;nbsp;the&amp;nbsp;VM's&amp;nbsp;time&amp;nbsp;that&amp;nbsp;is&amp;nbsp;spent&amp;nbsp;in&amp;nbsp;GC&lt;br&gt;
before&amp;nbsp;an&amp;nbsp;OutOfMemory&amp;nbsp;error&amp;nbsp;is&amp;nbsp;thrown.&amp;nbsp;(Introduced&amp;nbsp;in&amp;nbsp;6.)&lt;br&gt;
-----------------------------------------------------------------------------------------------------------------------------------------------&lt;br&gt;
4.&amp;nbsp;java.lang.OutOfMemoryError:&amp;nbsp;unable&amp;nbsp;to&amp;nbsp;create&amp;nbsp;new&amp;nbsp;native&amp;nbsp;thread&lt;br&gt;
&lt;br&gt;
(interesting&amp;nbsp;explanation&amp;nbsp;on&amp;nbsp;habrahabr)&amp;nbsp;:&lt;br&gt;
I&amp;nbsp;first&amp;nbsp;encountered&amp;nbsp;this&amp;nbsp;bug&amp;nbsp;a&amp;nbsp;few&amp;nbsp;years&amp;nbsp;ago&amp;nbsp;when&amp;nbsp;doing&amp;nbsp;load&amp;nbsp;testing&amp;nbsp;and&amp;nbsp;trying&amp;nbsp;to&amp;nbsp;figure&amp;nbsp;out&amp;nbsp;the&amp;nbsp;maximum&lt;br&gt;
number&amp;nbsp;of&amp;nbsp;users&amp;nbsp;who&amp;nbsp;can&amp;nbsp;work&amp;nbsp;with&amp;nbsp;our&amp;nbsp;web&amp;nbsp;application.&amp;nbsp;I&amp;nbsp;used&amp;nbsp;a&amp;nbsp;special&amp;nbsp;TOOLS&amp;nbsp;,&amp;nbsp;which&amp;nbsp;allowed&amp;nbsp;the&amp;nbsp;user&lt;br&gt;
login&amp;nbsp;and&amp;nbsp;emulate&amp;nbsp;their&amp;nbsp;standard&amp;nbsp;actions.&amp;nbsp;At&amp;nbsp;a&amp;nbsp;certain&amp;nbsp;number&amp;nbsp;of&amp;nbsp;clients&amp;nbsp;,&amp;nbsp;I&amp;nbsp;started&amp;nbsp;getting&amp;nbsp;OutOfMemoryError.&lt;br&gt;
Not&amp;nbsp;really&amp;nbsp;getting&amp;nbsp;a&amp;nbsp;grasp&amp;nbsp;in&amp;nbsp;the&amp;nbsp;body&amp;nbsp;and&amp;nbsp;thinking&amp;nbsp;that&amp;nbsp;I&amp;nbsp;did&amp;nbsp;not&amp;nbsp;have&amp;nbsp;enough&amp;nbsp;memory&amp;nbsp;to&amp;nbsp;create&amp;nbsp;the&amp;nbsp;user's&lt;br&gt;
session&amp;nbsp;and&amp;nbsp;other&amp;nbsp;necessary&amp;nbsp;facilities&amp;nbsp;,&amp;nbsp;I&amp;nbsp;increased&amp;nbsp;the&amp;nbsp;application&amp;nbsp;heap&amp;nbsp;size&amp;nbsp;(-Xmx).&amp;nbsp;Imagine&amp;nbsp;my&amp;nbsp;surprise&amp;nbsp;when,&lt;br&gt;
after&amp;nbsp;the&amp;nbsp;number&amp;nbsp;of&amp;nbsp;users&amp;nbsp;working&amp;nbsp;simultaneously&amp;nbsp;on&amp;nbsp;the&amp;nbsp;system&amp;nbsp;only&amp;nbsp;decreased.&lt;br&gt;
Let&amp;nbsp;us&amp;nbsp;understand&amp;nbsp;in&amp;nbsp;detail&amp;nbsp;how&amp;nbsp;this&amp;nbsp;happened.&lt;br&gt;
&lt;br&gt;
In&amp;nbsp;fact&amp;nbsp;it&amp;nbsp;is&amp;nbsp;very&amp;nbsp;easy&amp;nbsp;to&amp;nbsp;reproduce&amp;nbsp;on&amp;nbsp;windows&amp;nbsp;32-bit&amp;nbsp;machine,&amp;nbsp;since&amp;nbsp;there&amp;nbsp;is&amp;nbsp;no&amp;nbsp;more&amp;nbsp;process&amp;nbsp;is&amp;nbsp;given&amp;nbsp;2GB.&lt;br&gt;
&lt;br&gt;
Suppose&amp;nbsp;you&amp;nbsp;have&amp;nbsp;an&amp;nbsp;application&amp;nbsp;with&amp;nbsp;a&amp;nbsp;large&amp;nbsp;number&amp;nbsp;of&amp;nbsp;concurrent&amp;nbsp;users&amp;nbsp;,&amp;nbsp;which&amp;nbsp;is&amp;nbsp;invoked&amp;nbsp;with&lt;br&gt;
-Xmx1024M-XX:&amp;nbsp;MaxPermSize&amp;nbsp;=&amp;nbsp;256M-Xss512K.&amp;nbsp;If&amp;nbsp;the&amp;nbsp;entire&amp;nbsp;process&amp;nbsp;is&amp;nbsp;available&amp;nbsp;2G,&amp;nbsp;it&amp;nbsp;still&amp;nbsp;remains&amp;nbsp;free&amp;nbsp;colo&amp;nbsp;768M.&lt;br&gt;
It&amp;nbsp;is&amp;nbsp;in&amp;nbsp;this&amp;nbsp;balance&amp;nbsp;of&amp;nbsp;memory&amp;nbsp;and&amp;nbsp;thread&amp;nbsp;stacks&amp;nbsp;are&amp;nbsp;created&amp;nbsp;.&amp;nbsp;Thus,&amp;nbsp;approximately&amp;nbsp;,&amp;nbsp;you&amp;nbsp;can&amp;nbsp;create&amp;nbsp;no&amp;nbsp;more&lt;br&gt;
than&amp;nbsp;768&amp;nbsp;*&amp;nbsp;(1024/512)&amp;nbsp;=&amp;nbsp;1536&amp;nbsp;(&amp;nbsp;when&amp;nbsp;I&amp;nbsp;have&amp;nbsp;managed&amp;nbsp;to&amp;nbsp;create&amp;nbsp;such&amp;nbsp;parameters&amp;nbsp;1316&amp;nbsp;)&amp;nbsp;filaments&amp;nbsp;(&amp;nbsp;see&amp;nbsp;figure&lt;br&gt;
at&amp;nbsp;the&amp;nbsp;beginning&amp;nbsp;of&amp;nbsp;the&amp;nbsp;article)&amp;nbsp;,&amp;nbsp;then&amp;nbsp;you&amp;nbsp;get&amp;nbsp;OutOfMemoryError.&amp;nbsp;If&amp;nbsp;you&amp;nbsp;increase&amp;nbsp;the&amp;nbsp;-Xmx,&amp;nbsp;the&amp;nbsp;number&amp;nbsp;of&lt;br&gt;
&amp;nbsp;threads&amp;nbsp;that&amp;nbsp;you&amp;nbsp;can&amp;nbsp;create&amp;nbsp;is&amp;nbsp;reduced&amp;nbsp;accordingly&amp;nbsp;.&amp;nbsp;Variant&amp;nbsp;with&amp;nbsp;reduced&amp;nbsp;-Xss,&amp;nbsp;for&amp;nbsp;the&amp;nbsp;possibility&amp;nbsp;of&amp;nbsp;creating&lt;br&gt;
more&amp;nbsp;threads&amp;nbsp;does&amp;nbsp;not&amp;nbsp;always&amp;nbsp;yield&amp;nbsp;as&amp;nbsp;possible&amp;nbsp;,&amp;nbsp;you&amp;nbsp;exist&amp;nbsp;in&amp;nbsp;the&amp;nbsp;system&amp;nbsp;flows&amp;nbsp;require&amp;nbsp;a&amp;nbsp;fairly&amp;nbsp;large&amp;nbsp;stacks&amp;nbsp;.&lt;br&gt;
For&amp;nbsp;example,&amp;nbsp;the&amp;nbsp;initialization&amp;nbsp;thread&amp;nbsp;or&amp;nbsp;any&amp;nbsp;background&amp;nbsp;tasks&amp;nbsp;.&amp;nbsp;Yet&amp;nbsp;there&amp;nbsp;is&amp;nbsp;a&amp;nbsp;solution&amp;nbsp;.&amp;nbsp;It&amp;nbsp;turns&amp;nbsp;out&amp;nbsp;when&amp;nbsp;you&lt;br&gt;
programmatically&amp;nbsp;create&amp;nbsp;flow&amp;nbsp;,&amp;nbsp;you&amp;nbsp;can&amp;nbsp;specify&amp;nbsp;the&amp;nbsp;size&amp;nbsp;of&amp;nbsp;the&amp;nbsp;stack&amp;nbsp;:&amp;nbsp;Thread&amp;nbsp;(ThreadGroup&amp;nbsp;group,&amp;nbsp;Runnable&amp;nbsp;target,&lt;br&gt;
String&amp;nbsp;name,&amp;nbsp;long&amp;nbsp;stackSize).&amp;nbsp;So&amp;nbsp;you&amp;nbsp;can&amp;nbsp;set&amp;nbsp;-Xss&amp;nbsp;quite&amp;nbsp;small&amp;nbsp;,&amp;nbsp;and&amp;nbsp;the&amp;nbsp;actions&amp;nbsp;requiring&amp;nbsp;large&amp;nbsp;stacks&amp;nbsp;,&amp;nbsp;to&amp;nbsp;act&amp;nbsp;as&lt;br&gt;
separate&amp;nbsp;streams&amp;nbsp;created&amp;nbsp;via&amp;nbsp;the&amp;nbsp;above&amp;nbsp;constructor.&lt;br&gt;
&lt;br&gt;
Sure,&amp;nbsp;it&amp;nbsp;may&amp;nbsp;seem&amp;nbsp;a&amp;nbsp;little&amp;nbsp;far-fetched&amp;nbsp;this&amp;nbsp;problem,&amp;nbsp;since&amp;nbsp;most&amp;nbsp;servers&amp;nbsp;now&amp;nbsp;rotated&amp;nbsp;on&amp;nbsp;64-bit&amp;nbsp;architecture,&lt;br&gt;
but&amp;nbsp;still&amp;nbsp;think&amp;nbsp;this&amp;nbsp;example&amp;nbsp;is&amp;nbsp;very&amp;nbsp;useful,&amp;nbsp;since&amp;nbsp;it&amp;nbsp;helps&amp;nbsp;to&amp;nbsp;understand&amp;nbsp;what&amp;nbsp;parts&amp;nbsp;is&amp;nbsp;java-memory&amp;nbsp;process.&lt;br&gt;
-----------------------------------------------------------------------------------------------------------------------------------------------</questionanswer>
  </question>
  <question id="1_0_0_9_3:2" type="2">
    <questiontext>&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Java&amp;nbsp;JVM&amp;nbsp;:&amp;nbsp;GC&amp;nbsp;:&amp;nbsp;tuning&amp;nbsp;GC&amp;nbsp;in&amp;nbsp;java,&amp;nbsp;describe.&lt;br&gt;
&amp;nbsp;&amp;nbsp;</questiontext>
    <questionanswer>In&amp;nbsp;many&amp;nbsp;cases&amp;nbsp;garbage&amp;nbsp;collection&amp;nbsp;is&amp;nbsp;a&amp;nbsp;key&amp;nbsp;aspect&amp;nbsp;of&amp;nbsp;Java&amp;nbsp;server&amp;nbsp;performance.&lt;br&gt;
===========================================================&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Out-of-the-Box&amp;nbsp;GC&amp;nbsp;Performance&lt;br&gt;
&lt;br&gt;
JVMs&amp;nbsp;have&amp;nbsp;improved&amp;nbsp;a&amp;nbsp;lot&amp;nbsp;but&amp;nbsp;still&amp;nbsp;cannot&amp;nbsp;do&amp;nbsp;your&amp;nbsp;job&amp;nbsp;of&amp;nbsp;optimizing&amp;nbsp;the&amp;nbsp;runtime&amp;nbsp;for&amp;nbsp;your&amp;nbsp;application.&lt;br&gt;
Default&amp;nbsp;JVM&amp;nbsp;settings&amp;nbsp;have&amp;nbsp;a&amp;nbsp;fourth&amp;nbsp;priority&amp;nbsp;in&amp;nbsp;mind&amp;nbsp;in&amp;nbsp;addition&amp;nbsp;to&amp;nbsp;the&amp;nbsp;3&amp;nbsp;mentioned&amp;nbsp;above:&amp;nbsp;minimizing&lt;br&gt;
the&amp;nbsp;memory&amp;nbsp;footprint.&amp;nbsp;They&amp;nbsp;need&amp;nbsp;to&amp;nbsp;support&amp;nbsp;millions&amp;nbsp;of&amp;nbsp;users&amp;nbsp;who&amp;nbsp;do&amp;nbsp;not&amp;nbsp;run&amp;nbsp;Java&amp;nbsp;on&amp;nbsp;a&amp;nbsp;server&amp;nbsp;with&lt;br&gt;
plenty&amp;nbsp;of&amp;nbsp;memory.&amp;nbsp;This&amp;nbsp;is&amp;nbsp;even&amp;nbsp;true&amp;nbsp;for&amp;nbsp;many&amp;nbsp;e-business&amp;nbsp;products&amp;nbsp;which&amp;nbsp;are&amp;nbsp;most&amp;nbsp;of&amp;nbsp;the&amp;nbsp;time&amp;nbsp;preconfigured&lt;br&gt;
to&amp;nbsp;run&amp;nbsp;on&amp;nbsp;developer&amp;nbsp;notebooks&amp;nbsp;instead&amp;nbsp;of&amp;nbsp;production&amp;nbsp;servers.&amp;nbsp;As&amp;nbsp;a&amp;nbsp;consequence,&amp;nbsp;if&amp;nbsp;you&amp;nbsp;run&amp;nbsp;your&lt;br&gt;
server&amp;nbsp;with&amp;nbsp;a&amp;nbsp;minimal&amp;nbsp;set&amp;nbsp;of&amp;nbsp;heap&amp;nbsp;and&amp;nbsp;GC&amp;nbsp;parameters&amp;nbsp;like&amp;nbsp;the&amp;nbsp;following&lt;br&gt;
&lt;br&gt;
java&amp;nbsp;-Xmx1024m&amp;nbsp;-XX:MaxPermSize=256m&amp;nbsp;-cp&amp;nbsp;Portal.jar&amp;nbsp;my.portal.Portal&lt;br&gt;
&lt;br&gt;
you&amp;nbsp;will&amp;nbsp;almost&amp;nbsp;certainly&amp;nbsp;obtain&amp;nbsp;results&amp;nbsp;which&amp;nbsp;are&amp;nbsp;not&amp;nbsp;good&amp;nbsp;enough&amp;nbsp;for&amp;nbsp;efficient&amp;nbsp;server&amp;nbsp;operation.&amp;nbsp;In&amp;nbsp;the&lt;br&gt;
--&gt;&gt;&amp;nbsp;FIRST&amp;nbsp;step,&amp;nbsp;it&amp;nbsp;is&amp;nbsp;good&amp;nbsp;practice&amp;nbsp;to&amp;nbsp;configure&amp;nbsp;not&amp;nbsp;only&amp;nbsp;memory&amp;nbsp;limits&amp;nbsp;but&amp;nbsp;also&amp;nbsp;INITIAL&amp;nbsp;sizes&amp;nbsp;to&amp;nbsp;avoid&lt;br&gt;
costly&amp;nbsp;step-by-step&amp;nbsp;increases&amp;nbsp;during&amp;nbsp;server&amp;nbsp;startup.&amp;nbsp;Whenever&amp;nbsp;you&amp;nbsp;know&amp;nbsp;how&amp;nbsp;much&amp;nbsp;memory&amp;nbsp;is&amp;nbsp;enough&lt;br&gt;
for&amp;nbsp;your&amp;nbsp;server&amp;nbsp;(which&amp;nbsp;you&amp;nbsp;should&amp;nbsp;try&amp;nbsp;to&amp;nbsp;find&amp;nbsp;out&amp;nbsp;in&amp;nbsp;time)&amp;nbsp;it&amp;nbsp;is&amp;nbsp;best&amp;nbsp;to&amp;nbsp;make&amp;nbsp;initial&amp;nbsp;sizes&amp;nbsp;and&amp;nbsp;limits&lt;br&gt;
equal&amp;nbsp;by&amp;nbsp;adding&lt;br&gt;
&lt;br&gt;
-Xms1024m&amp;nbsp;-XX:PermSize=256m&lt;br&gt;
&lt;br&gt;
--&lt;br&gt;
The&amp;nbsp;last&amp;nbsp;basic&amp;nbsp;option&amp;nbsp;frequently&amp;nbsp;found&amp;nbsp;in&amp;nbsp;JVM&amp;nbsp;configurations&amp;nbsp;is&amp;nbsp;a&amp;nbsp;similar&amp;nbsp;setting&amp;nbsp;for&amp;nbsp;the&amp;nbsp;size&amp;nbsp;of&amp;nbsp;the&amp;nbsp;so-called&lt;br&gt;
-&gt;&amp;nbsp;New&amp;nbsp;Generation&amp;nbsp;Heap:&lt;br&gt;
-XX:NewSize=200m&amp;nbsp;-XX:MaxNewSize=200m&lt;br&gt;
&lt;br&gt;
----&lt;br&gt;
Basic&amp;nbsp;tuning&amp;nbsp;GOAL&amp;nbsp;for&amp;nbsp;generational&amp;nbsp;garbage&amp;nbsp;collection:&lt;br&gt;
&lt;br&gt;
!!!&amp;nbsp;Collect&amp;nbsp;as&amp;nbsp;much&amp;nbsp;garbage&amp;nbsp;as&amp;nbsp;possible&amp;nbsp;already&amp;nbsp;in&amp;nbsp;New&amp;nbsp;generation&amp;nbsp;and&amp;nbsp;make&amp;nbsp;Old&amp;nbsp;generation&amp;nbsp;pauses&amp;nbsp;as&lt;br&gt;
infrequent&amp;nbsp;and&amp;nbsp;short&amp;nbsp;as&amp;nbsp;possible.&lt;br&gt;
&lt;br&gt;
==================================================&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Basic&amp;nbsp;Ideas&amp;nbsp;of&amp;nbsp;Generational&amp;nbsp;Garbage&amp;nbsp;Collection&amp;nbsp;and&amp;nbsp;Heap&amp;nbsp;Sizing&lt;br&gt;
&lt;br&gt;
Start&amp;nbsp;from&amp;nbsp;what&amp;nbsp;you&amp;nbsp;see&amp;nbsp;in&amp;nbsp;a&amp;nbsp;JDK&amp;nbsp;tool&amp;nbsp;like&amp;nbsp;jstat&amp;nbsp;or&amp;nbsp;jvisualvm&amp;nbsp;and&amp;nbsp;its&amp;nbsp;visualgc&amp;nbsp;plugin:&lt;br&gt;
&lt;br&gt;
The&amp;nbsp;JVM&amp;nbsp;heap&amp;nbsp;structure&amp;nbsp;including&amp;nbsp;the&amp;nbsp;sub-segments&amp;nbsp;of&amp;nbsp;the&amp;nbsp;New&amp;nbsp;generation&amp;nbsp;(right&amp;nbsp;column):&lt;br&gt;
&lt;br&gt;
&lt;img&amp;nbsp;width='400'&amp;nbsp;height='400'&amp;nbsp;alt='image'&amp;nbsp;src='/data/images/Figure-2.png'/&gt;&lt;br&gt;
&lt;br&gt;
The&amp;nbsp;Java&amp;nbsp;heap&amp;nbsp;is&amp;nbsp;made&amp;nbsp;up&amp;nbsp;of&amp;nbsp;the&amp;nbsp;Perm,&amp;nbsp;Old&amp;nbsp;and&amp;nbsp;New&amp;nbsp;(sometimes&amp;nbsp;called&amp;nbsp;Young)&amp;nbsp;generations.&lt;br&gt;
-&amp;nbsp;The&amp;nbsp;New&amp;nbsp;generation&amp;nbsp;is&amp;nbsp;further&amp;nbsp;made&amp;nbsp;up&amp;nbsp;of&amp;nbsp;Eden&amp;nbsp;space&amp;nbsp;where&amp;nbsp;objects&amp;nbsp;are&amp;nbsp;created&amp;nbsp;and&amp;nbsp;Survivor&lt;br&gt;
spaces&amp;nbsp;S0&amp;nbsp;and&amp;nbsp;S1&amp;nbsp;where&amp;nbsp;they&amp;nbsp;are&amp;nbsp;kept&amp;nbsp;later&amp;nbsp;for&amp;nbsp;a&amp;nbsp;limited&amp;nbsp;number&amp;nbsp;of&amp;nbsp;New&amp;nbsp;generation&amp;nbsp;garbage&lt;br&gt;
collection&amp;nbsp;cycles.&amp;nbsp;If&amp;nbsp;you&amp;nbsp;want&amp;nbsp;more&amp;nbsp;details,&amp;nbsp;you&amp;nbsp;might&amp;nbsp;want&amp;nbsp;to&amp;nbsp;read&amp;nbsp;Sun/Oracle?s&amp;nbsp;whitepaper&lt;br&gt;
"Memory&amp;nbsp;Management&amp;nbsp;in&amp;nbsp;the&amp;nbsp;Java&amp;nbsp;HotSpot&amp;nbsp;Virtual&amp;nbsp;Machine".&lt;br&gt;
&lt;br&gt;
By&amp;nbsp;default&amp;nbsp;the&amp;nbsp;New&amp;nbsp;generation&amp;nbsp;as&amp;nbsp;a&amp;nbsp;whole,&amp;nbsp;and&amp;nbsp;the&amp;nbsp;survivor&amp;nbsp;spaces&amp;nbsp;in&amp;nbsp;particular,&amp;nbsp;are&amp;nbsp;too&lt;br&gt;
small&amp;nbsp;to&amp;nbsp;hold&amp;nbsp;objects&amp;nbsp;long&amp;nbsp;enough&amp;nbsp;until&amp;nbsp;most&amp;nbsp;of&amp;nbsp;them&amp;nbsp;are&amp;nbsp;no&amp;nbsp;longer&amp;nbsp;needed&amp;nbsp;and&amp;nbsp;can&amp;nbsp;be&amp;nbsp;collected.&lt;br&gt;
Therefore,&amp;nbsp;they&amp;nbsp;are&amp;nbsp;moved&amp;nbsp;to&amp;nbsp;the&amp;nbsp;Old&amp;nbsp;generation&amp;nbsp;prematurely&amp;nbsp;which&amp;nbsp;will&amp;nbsp;then&amp;nbsp;fill&amp;nbsp;up&amp;nbsp;too&amp;nbsp;fast&lt;br&gt;
and&amp;nbsp;need&amp;nbsp;to&amp;nbsp;be&amp;nbsp;cleaned&amp;nbsp;up&amp;nbsp;frequently&amp;nbsp;which&amp;nbsp;causes&amp;nbsp;relatively&amp;nbsp;many&amp;nbsp;of&amp;nbsp;the&amp;nbsp;Full&amp;nbsp;GC&amp;nbsp;stops.&lt;br&gt;
=================================================&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Tuning&amp;nbsp;the&amp;nbsp;Generation&amp;nbsp;Sizes&lt;br&gt;
&lt;br&gt;
Tuning&amp;nbsp;generational&amp;nbsp;GC&amp;nbsp;means&amp;nbsp;making&amp;nbsp;the&amp;nbsp;New&amp;nbsp;generation&amp;nbsp;as&amp;nbsp;a&amp;nbsp;whole&amp;nbsp;and&amp;nbsp;in&amp;nbsp;particular&amp;nbsp;the&lt;br&gt;
survivor&amp;nbsp;spaces&amp;nbsp;larger&amp;nbsp;than&amp;nbsp;they&amp;nbsp;are&amp;nbsp;out-of-the-box.&amp;nbsp;But&amp;nbsp;to&amp;nbsp;do&amp;nbsp;this&amp;nbsp;you&amp;nbsp;also&amp;nbsp;have&amp;nbsp;to&amp;nbsp;consider&lt;br&gt;
the&amp;nbsp;GC&amp;nbsp;algorithm&amp;nbsp;used:&lt;br&gt;
&lt;br&gt;
Tuning&amp;nbsp;generational&amp;nbsp;GC&amp;nbsp;means&amp;nbsp;making&amp;nbsp;the&amp;nbsp;New&amp;nbsp;generation&amp;nbsp;as&amp;nbsp;a&amp;nbsp;whole&amp;nbsp;and&amp;nbsp;in&amp;nbsp;particular&amp;nbsp;the&amp;nbsp;survivor&lt;br&gt;
spaces&amp;nbsp;larger&amp;nbsp;than&amp;nbsp;they&amp;nbsp;are&amp;nbsp;out-of-the-box.&amp;nbsp;But&amp;nbsp;to&amp;nbsp;do&amp;nbsp;this&amp;nbsp;you&amp;nbsp;also&amp;nbsp;have&amp;nbsp;to&amp;nbsp;consider&amp;nbsp;the&amp;nbsp;GC&amp;nbsp;algorithm&amp;nbsp;used:&lt;br&gt;
&lt;br&gt;
The&amp;nbsp;default&amp;nbsp;GC&amp;nbsp;algorithm&amp;nbsp;of&amp;nbsp;a&amp;nbsp;Sun/Oracle&amp;nbsp;JVM&amp;nbsp;running&amp;nbsp;on&amp;nbsp;today?s&amp;nbsp;hardware&amp;nbsp;is&amp;nbsp;called&amp;nbsp;ParallelGC&amp;nbsp;and&amp;nbsp;if&amp;nbsp;it&amp;nbsp;were&lt;br&gt;
not&amp;nbsp;the&amp;nbsp;default&amp;nbsp;it&amp;nbsp;could&amp;nbsp;be&amp;nbsp;configured&amp;nbsp;explicitly&amp;nbsp;using&amp;nbsp;the&amp;nbsp;JVM&amp;nbsp;parameter&amp;nbsp;&lt;br&gt;
&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;-XX:+UseParallelGC&lt;br&gt;
(On&amp;nbsp;my&amp;nbsp;Windows&amp;nbsp;7&amp;nbsp;32&amp;nbsp;bit&amp;nbsp;:&amp;nbsp;default&amp;nbsp;is&amp;nbsp;-XX:+UseMaximumCompactionOnSystemGC)&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
This&amp;nbsp;algorithm&amp;nbsp;by&amp;nbsp;default&amp;nbsp;does&amp;nbsp;not&amp;nbsp;work&amp;nbsp;with&amp;nbsp;fixed&amp;nbsp;sizes&amp;nbsp;for&amp;nbsp;Eden&amp;nbsp;and&amp;nbsp;the&amp;nbsp;survivor&amp;nbsp;spaces&amp;nbsp;but&amp;nbsp;uses&amp;nbsp;a&amp;nbsp;policy&lt;br&gt;
called&amp;nbsp;"AdaptiveSizePolicy",&amp;nbsp;which&amp;nbsp;is&amp;nbsp;an&amp;nbsp;adjustment-controlled&amp;nbsp;automatic&amp;nbsp;sizing&amp;nbsp;strategy.&amp;nbsp;As&amp;nbsp;described&amp;nbsp;above,&lt;br&gt;
it&amp;nbsp;delivers&amp;nbsp;reasonable&amp;nbsp;behavior&amp;nbsp;for&amp;nbsp;many&amp;nbsp;scenarios&amp;nbsp;including&amp;nbsp;non-server&amp;nbsp;usage&amp;nbsp;but&amp;nbsp;it&amp;nbsp;is&amp;nbsp;not&amp;nbsp;optimal&amp;nbsp;for&amp;nbsp;server&lt;br&gt;
operation.&amp;nbsp;To&amp;nbsp;switch&amp;nbsp;it&amp;nbsp;off&amp;nbsp;and&amp;nbsp;start&amp;nbsp;setting&amp;nbsp;your&amp;nbsp;survivor&amp;nbsp;sizes&amp;nbsp;explicitly&amp;nbsp;to&amp;nbsp;fixed&amp;nbsp;values&amp;nbsp;use&amp;nbsp;the&amp;nbsp;following&amp;nbsp;JVM&lt;br&gt;
configuration&amp;nbsp;switch:&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;-XX:-UseAdaptiveSizePolicy&lt;br&gt;
&lt;br&gt;
Once&amp;nbsp;this&amp;nbsp;has&amp;nbsp;been&amp;nbsp;done,&amp;nbsp;we&amp;nbsp;can&amp;nbsp;not&amp;nbsp;only&amp;nbsp;further&amp;nbsp;increase&amp;nbsp;the&amp;nbsp;New&amp;nbsp;generation&amp;nbsp;but&amp;nbsp;also&amp;nbsp;effectively&amp;nbsp;set&lt;br&gt;
the&amp;nbsp;survivor&amp;nbsp;sizes&amp;nbsp;to&amp;nbsp;a&amp;nbsp;suitable&amp;nbsp;value:&lt;br&gt;
&amp;nbsp;&amp;nbsp;-XX:NewSize=400m&amp;nbsp;-XX:MaxNewSize=400m&amp;nbsp;-XX:SurvivorRatio=6&lt;br&gt;
&lt;br&gt;
"SurvivorRatio=6"&amp;nbsp;means&amp;nbsp;that&amp;nbsp;each&amp;nbsp;survivor&amp;nbsp;space&amp;nbsp;is&amp;nbsp;1/6&amp;nbsp;of&amp;nbsp;Eden&amp;nbsp;size&lt;br&gt;
&lt;br&gt;
====================================================&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Getting&amp;nbsp;rid&amp;nbsp;of&amp;nbsp;long&amp;nbsp;Old&amp;nbsp;Generation&amp;nbsp;GC&amp;nbsp;Pauses&lt;br&gt;
&lt;br&gt;
The&amp;nbsp;only&amp;nbsp;remaining&amp;nbsp;problem&amp;nbsp;with&amp;nbsp;the&amp;nbsp;latest&amp;nbsp;result&amp;nbsp;above&amp;nbsp;are&amp;nbsp;the&amp;nbsp;long&amp;nbsp;Old&amp;nbsp;generation&amp;nbsp;(Full)&amp;nbsp;GC&lt;br&gt;
pauses&amp;nbsp;of&amp;nbsp;about&amp;nbsp;8&amp;nbsp;seconds&amp;nbsp;on&amp;nbsp;average.&amp;nbsp;These&amp;nbsp;pauses&amp;nbsp;have&amp;nbsp;been&amp;nbsp;made&amp;nbsp;rare&amp;nbsp;by&amp;nbsp;proper&amp;nbsp;generation&lt;br&gt;
tuning&amp;nbsp;but&amp;nbsp;when&amp;nbsp;they&amp;nbsp;occur&amp;nbsp;they&amp;nbsp;still&amp;nbsp;are&amp;nbsp;a&amp;nbsp;nuisance&amp;nbsp;to&amp;nbsp;users&amp;nbsp;because&amp;nbsp;during&amp;nbsp;their&amp;nbsp;duration&amp;nbsp;the&amp;nbsp;JVM&amp;nbsp;is&lt;br&gt;
not&amp;nbsp;executing&amp;nbsp;worker&amp;nbsp;threads&amp;nbsp;(stop-the-world&amp;nbsp;GC).&amp;nbsp;In&amp;nbsp;our&amp;nbsp;case,&amp;nbsp;these&amp;nbsp;8&amp;nbsp;seconds&amp;nbsp;are&amp;nbsp;caused&amp;nbsp;by&amp;nbsp;an&amp;nbsp;old&lt;br&gt;
and&amp;nbsp;slow&amp;nbsp;test&amp;nbsp;server&amp;nbsp;and&amp;nbsp;could&amp;nbsp;be&amp;nbsp;up&amp;nbsp;to&amp;nbsp;a&amp;nbsp;factor&amp;nbsp;of&amp;nbsp;3&amp;nbsp;faster&amp;nbsp;on&amp;nbsp;modern&amp;nbsp;hardware.&amp;nbsp;On&amp;nbsp;the&amp;nbsp;other&amp;nbsp;hand,&lt;br&gt;
today?s&amp;nbsp;applications&amp;nbsp;typically&amp;nbsp;also&amp;nbsp;use&amp;nbsp;larger&amp;nbsp;heaps&amp;nbsp;than&amp;nbsp;1&amp;nbsp;GB&amp;nbsp;and&amp;nbsp;have&amp;nbsp;larger&amp;nbsp;amounts&amp;nbsp;of&amp;nbsp;live&amp;nbsp;objects&amp;nbsp;in&amp;nbsp;the&lt;br&gt;
heap&amp;nbsp;than&amp;nbsp;in&amp;nbsp;this&amp;nbsp;example.&amp;nbsp;Web&amp;nbsp;applications&amp;nbsp;nowadays&amp;nbsp;work&amp;nbsp;with&amp;nbsp;heaps&amp;nbsp;up&amp;nbsp;to&amp;nbsp;64&amp;nbsp;GB&amp;nbsp;and&amp;nbsp;(at&amp;nbsp;least&amp;nbsp;temporarily)&lt;br&gt;
need&amp;nbsp;half&amp;nbsp;of&amp;nbsp;that&amp;nbsp;for&amp;nbsp;their&amp;nbsp;live&amp;nbsp;objects.&amp;nbsp;In&amp;nbsp;such&amp;nbsp;cases,&amp;nbsp;8&amp;nbsp;seconds&amp;nbsp;is&amp;nbsp;short&amp;nbsp;for&amp;nbsp;Old&amp;nbsp;generation&amp;nbsp;pauses.&lt;br&gt;
They&amp;nbsp;can&amp;nbsp;easily&amp;nbsp;come&amp;nbsp;close&amp;nbsp;to&amp;nbsp;one&amp;nbsp;minute&amp;nbsp;which&amp;nbsp;is&amp;nbsp;totally&amp;nbsp;unacceptable&amp;nbsp;for&amp;nbsp;an&amp;nbsp;interactive&amp;nbsp;web&amp;nbsp;application.&lt;br&gt;
&lt;br&gt;
One&amp;nbsp;option&amp;nbsp;to&amp;nbsp;alleviate&amp;nbsp;the&amp;nbsp;problem&amp;nbsp;is&amp;nbsp;the&amp;nbsp;use&amp;nbsp;of&amp;nbsp;parallel&amp;nbsp;processing&amp;nbsp;for&amp;nbsp;Old&amp;nbsp;generation&amp;nbsp;GC.&amp;nbsp;By&amp;nbsp;default,&amp;nbsp;the&lt;br&gt;
ParallelGC&amp;nbsp;and&amp;nbsp;ParNew&amp;nbsp;GC&amp;nbsp;algorithms&amp;nbsp;in&amp;nbsp;Java&amp;nbsp;6&amp;nbsp;used&amp;nbsp;multiple&amp;nbsp;GC&amp;nbsp;threads&amp;nbsp;only&amp;nbsp;for&amp;nbsp;young&amp;nbsp;generation&amp;nbsp;collections&lt;br&gt;
while&amp;nbsp;Old&amp;nbsp;generation&amp;nbsp;collections&amp;nbsp;were&amp;nbsp;single-threaded.&amp;nbsp;In&amp;nbsp;the&amp;nbsp;case&amp;nbsp;of&amp;nbsp;the&amp;nbsp;ParallelGC&amp;nbsp;collector&amp;nbsp;this&amp;nbsp;can&amp;nbsp;be&amp;nbsp;changed&lt;br&gt;
by&amp;nbsp;adding&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;-XX:+UseParallelOldGC&lt;br&gt;
======================================================&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;The&amp;nbsp;Concurrent&amp;nbsp;Mark&amp;nbsp;and&amp;nbsp;Sweep&amp;nbsp;(CMS)&amp;nbsp;Collector&lt;br&gt;
&lt;br&gt;
The&amp;nbsp;CMS&amp;nbsp;garbage&amp;nbsp;collector&amp;nbsp;is&amp;nbsp;the&amp;nbsp;first&amp;nbsp;and&amp;nbsp;most-widely&amp;nbsp;used&amp;nbsp;low-latency&amp;nbsp;collector.&amp;nbsp;It&amp;nbsp;has&amp;nbsp;been&amp;nbsp;available&lt;br&gt;
since&amp;nbsp;Java&amp;nbsp;1.4.2&amp;nbsp;but&amp;nbsp;suffered&amp;nbsp;from&amp;nbsp;instability&amp;nbsp;issues&amp;nbsp;in&amp;nbsp;the&amp;nbsp;beginning.&amp;nbsp;Solving&amp;nbsp;them&amp;nbsp;required&amp;nbsp;quite&lt;br&gt;
a&amp;nbsp;few&amp;nbsp;Java&amp;nbsp;5&amp;nbsp;releases.&lt;br&gt;
&lt;br&gt;
As&amp;nbsp;indicated&amp;nbsp;by&amp;nbsp;its&amp;nbsp;name&amp;nbsp;the&amp;nbsp;CMS&amp;nbsp;collector&amp;nbsp;uses&amp;nbsp;a&amp;nbsp;concurrent&amp;nbsp;approach&amp;nbsp;where&amp;nbsp;most&amp;nbsp;of&amp;nbsp;the&amp;nbsp;work&amp;nbsp;is&lt;br&gt;
done&amp;nbsp;by&amp;nbsp;a&amp;nbsp;GC&amp;nbsp;thread&amp;nbsp;that&amp;nbsp;runs&amp;nbsp;concurrently&amp;nbsp;with&amp;nbsp;the&amp;nbsp;worker&amp;nbsp;threads&amp;nbsp;processing&amp;nbsp;user&amp;nbsp;requests.&lt;br&gt;
A&amp;nbsp;single&amp;nbsp;normal&amp;nbsp;Old&amp;nbsp;generation&amp;nbsp;stop-the-world&amp;nbsp;GC&amp;nbsp;run&amp;nbsp;is&amp;nbsp;split&amp;nbsp;up&amp;nbsp;into&amp;nbsp;two&amp;nbsp;much&amp;nbsp;shorter&amp;nbsp;stop-the-world&lt;br&gt;
pauses&amp;nbsp;plus&amp;nbsp;5&amp;nbsp;concurrent&amp;nbsp;phases&amp;nbsp;where&amp;nbsp;worker&amp;nbsp;threads&amp;nbsp;are&amp;nbsp;allowed&amp;nbsp;to&amp;nbsp;go&amp;nbsp;on&amp;nbsp;with&amp;nbsp;their&amp;nbsp;work.&amp;nbsp;Find&amp;nbsp;a&lt;br&gt;
more&amp;nbsp;detailed&amp;nbsp;description&amp;nbsp;of&amp;nbsp;the&amp;nbsp;CMS&amp;nbsp;in&amp;nbsp;the&amp;nbsp;article&amp;nbsp;?Java&amp;nbsp;SE&amp;nbsp;6&amp;nbsp;HotSpot&amp;nbsp;Virtual&amp;nbsp;Machine&amp;nbsp;Garbage&amp;nbsp;Collection&amp;nbsp;Tuning?.&lt;br&gt;
&lt;br&gt;
The&amp;nbsp;CMS&amp;nbsp;collector&amp;nbsp;is&amp;nbsp;activated&amp;nbsp;by&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;-XX:+UseConcMarkSweepGC&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
By&amp;nbsp;default,&amp;nbsp;the&amp;nbsp;CMS&amp;nbsp;collector&amp;nbsp;uses&amp;nbsp;the&amp;nbsp;ParNew&amp;nbsp;collector&amp;nbsp;to&amp;nbsp;execute&amp;nbsp;the&amp;nbsp;New&amp;nbsp;generation&amp;nbsp;collections.&amp;nbsp;If&amp;nbsp;the&lt;br&gt;
ParNew&amp;nbsp;collector&amp;nbsp;runs&amp;nbsp;together&amp;nbsp;with&amp;nbsp;the&amp;nbsp;CMS&amp;nbsp;its&amp;nbsp;pauses&amp;nbsp;tend&amp;nbsp;to&amp;nbsp;be&amp;nbsp;a&amp;nbsp;bit&amp;nbsp;longer&amp;nbsp;than&amp;nbsp;when&amp;nbsp;it&amp;nbsp;runs&amp;nbsp;without&amp;nbsp;it&lt;br&gt;
because&amp;nbsp;their&amp;nbsp;cooperation&amp;nbsp;requires&amp;nbsp;some&amp;nbsp;extra&amp;nbsp;effort.&amp;nbsp;In&amp;nbsp;addition&amp;nbsp;to&amp;nbsp;the&amp;nbsp;slightly&amp;nbsp;higher&amp;nbsp;average&amp;nbsp;New&amp;nbsp;generation&lt;br&gt;
pause&amp;nbsp;times&amp;nbsp;compared&amp;nbsp;to&amp;nbsp;the&amp;nbsp;previous&amp;nbsp;results,&amp;nbsp;this&amp;nbsp;can&amp;nbsp;be&amp;nbsp;seen&amp;nbsp;from&amp;nbsp;the&amp;nbsp;frequent&amp;nbsp;outliers&amp;nbsp;in&amp;nbsp;New&amp;nbsp;generation&amp;nbsp;pause&lt;br&gt;
times&amp;nbsp;which&amp;nbsp;reach&amp;nbsp;up&amp;nbsp;to&amp;nbsp;0.5&amp;nbsp;seconds&amp;nbsp;in&amp;nbsp;the&amp;nbsp;test&amp;nbsp;run&amp;nbsp;shown.&amp;nbsp;But&amp;nbsp;they&amp;nbsp;are&amp;nbsp;all&amp;nbsp;short&amp;nbsp;enough&amp;nbsp;to&amp;nbsp;make&amp;nbsp;the&lt;br&gt;
CMS/ParNew&amp;nbsp;collector&amp;nbsp;pair&amp;nbsp;a&amp;nbsp;good&amp;nbsp;low-latency&amp;nbsp;option&amp;nbsp;for&amp;nbsp;many&amp;nbsp;applications.&lt;br&gt;
&lt;br&gt;
A&amp;nbsp;more&amp;nbsp;important&amp;nbsp;disadvantage&amp;nbsp;of&amp;nbsp;the&amp;nbsp;CMS&amp;nbsp;collector&amp;nbsp;is&amp;nbsp;related&amp;nbsp;to&amp;nbsp;the&amp;nbsp;fact&amp;nbsp;that&amp;nbsp;it&amp;nbsp;cannot&amp;nbsp;be&amp;nbsp;started&amp;nbsp;when&amp;nbsp;the&amp;nbsp;Old&lt;br&gt;
generation&amp;nbsp;heap&amp;nbsp;is&amp;nbsp;full.&amp;nbsp;Once&amp;nbsp;the&amp;nbsp;Old&amp;nbsp;generation&amp;nbsp;is&amp;nbsp;full,&amp;nbsp;it&amp;nbsp;is&amp;nbsp;too&amp;nbsp;late&amp;nbsp;for&amp;nbsp;the&amp;nbsp;CMS&amp;nbsp;and&amp;nbsp;it&amp;nbsp;must&amp;nbsp;then&amp;nbsp;fall&amp;nbsp;back&amp;nbsp;to&amp;nbsp;the&lt;br&gt;
usual&amp;nbsp;stop-the-world&amp;nbsp;strategy&amp;nbsp;(announced&amp;nbsp;by&amp;nbsp;a&amp;nbsp;?concurrent&amp;nbsp;mode&amp;nbsp;failure?&amp;nbsp;in&amp;nbsp;the&amp;nbsp;GC&amp;nbsp;log).&amp;nbsp;To&amp;nbsp;reach&amp;nbsp;its&amp;nbsp;low-latency&lt;br&gt;
goal&amp;nbsp;the&amp;nbsp;CMS&amp;nbsp;is&amp;nbsp;started&amp;nbsp;whenever&amp;nbsp;Old&amp;nbsp;generation&amp;nbsp;occupation&amp;nbsp;reaches&amp;nbsp;a&amp;nbsp;threshold&amp;nbsp;set&amp;nbsp;by&lt;br&gt;
&amp;nbsp;&amp;nbsp;-XX:CMSInitiatingOccupancyFraction=80&lt;br&gt;
&lt;br&gt;
The&amp;nbsp;CMS&amp;nbsp;is&amp;nbsp;started&amp;nbsp;once&amp;nbsp;80%&amp;nbsp;of&amp;nbsp;the&amp;nbsp;Old&amp;nbsp;generation&amp;nbsp;is&amp;nbsp;occupied.&lt;br&gt;
&lt;br&gt;
=======================================================&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;The&amp;nbsp;Promise&amp;nbsp;of&amp;nbsp;the&amp;nbsp;Garbage&amp;nbsp;First&amp;nbsp;(G1)&amp;nbsp;Collector&lt;br&gt;
&lt;br&gt;
The&amp;nbsp;G1&amp;nbsp;collector&amp;nbsp;was&amp;nbsp;designed&amp;nbsp;to&amp;nbsp;achieve&amp;nbsp;low-latency&amp;nbsp;behavior&amp;nbsp;without&amp;nbsp;the&amp;nbsp;risk&amp;nbsp;of&amp;nbsp;heap&amp;nbsp;fragmentation.&lt;br&gt;
As&amp;nbsp;such,&amp;nbsp;it&amp;nbsp;is&amp;nbsp;announced&amp;nbsp;as&amp;nbsp;a&amp;nbsp;long-term&amp;nbsp;replacement&amp;nbsp;for&amp;nbsp;the&amp;nbsp;CMS&amp;nbsp;collector&amp;nbsp;by&amp;nbsp;Oracle.&amp;nbsp;G1&amp;nbsp;avoids&amp;nbsp;the&lt;br&gt;
fragmentation&amp;nbsp;risks&amp;nbsp;because&amp;nbsp;it&amp;nbsp;is&amp;nbsp;a&amp;nbsp;compacting&amp;nbsp;collector.&amp;nbsp;As&amp;nbsp;far&amp;nbsp;as&amp;nbsp;GC&amp;nbsp;pauses&amp;nbsp;are&amp;nbsp;concerned,&amp;nbsp;it&amp;nbsp;does&amp;nbsp;not&lt;br&gt;
aim&amp;nbsp;at&amp;nbsp;the&amp;nbsp;shortest&amp;nbsp;possible&amp;nbsp;pauses&amp;nbsp;but&amp;nbsp;at&amp;nbsp;controlling&amp;nbsp;pauses&amp;nbsp;by&amp;nbsp;placing&amp;nbsp;an&amp;nbsp;upper&amp;nbsp;limit&amp;nbsp;on&amp;nbsp;their&amp;nbsp;duration&lt;br&gt;
which&amp;nbsp;is&amp;nbsp;maintained&amp;nbsp;in&amp;nbsp;a&amp;nbsp;best-effort&amp;nbsp;approach.&amp;nbsp;Readers&amp;nbsp;can&amp;nbsp;find&amp;nbsp;more&amp;nbsp;details&amp;nbsp;about&amp;nbsp;the&amp;nbsp;G1&amp;nbsp;collector&amp;nbsp;in&lt;br&gt;
the&amp;nbsp;great&amp;nbsp;tutorial&amp;nbsp;?Getting&amp;nbsp;Started&amp;nbsp;with&amp;nbsp;the&amp;nbsp;G1&amp;nbsp;Garbage&amp;nbsp;Collector?,&amp;nbsp;German&amp;nbsp;readers&amp;nbsp;also&amp;nbsp;in&amp;nbsp;Angelika&lt;br&gt;
Langer?s&amp;nbsp;article&amp;nbsp;?Der&amp;nbsp;Garbage-First&amp;nbsp;Garbage&amp;nbsp;Collector&amp;nbsp;(G1)&amp;nbsp;?&amp;nbsp;?bersicht&amp;nbsp;?ber&amp;nbsp;die&amp;nbsp;Funktionalit?t?.&lt;br&gt;
&lt;br&gt;
Before&amp;nbsp;we&amp;nbsp;examine&amp;nbsp;the&amp;nbsp;current&amp;nbsp;state&amp;nbsp;of&amp;nbsp;the&amp;nbsp;G1&amp;nbsp;collector&amp;nbsp;by&amp;nbsp;comparing&amp;nbsp;its&amp;nbsp;performance&amp;nbsp;on&amp;nbsp;our&amp;nbsp;sample&lt;br&gt;
application&amp;nbsp;with&amp;nbsp;the&amp;nbsp;performance&amp;nbsp;of&amp;nbsp;the&amp;nbsp;classic&amp;nbsp;collectors&amp;nbsp;described&amp;nbsp;above,&amp;nbsp;let&amp;nbsp;me&amp;nbsp;summarize&amp;nbsp;two&lt;br&gt;
important&amp;nbsp;pieces&amp;nbsp;of&amp;nbsp;information&amp;nbsp;about&amp;nbsp;the&amp;nbsp;G1&amp;nbsp;collector:&lt;br&gt;
&lt;br&gt;
===========================================================&lt;br&gt;
Which&amp;nbsp;GC&amp;nbsp;Algorithm&amp;nbsp;use&amp;nbsp;:&amp;nbsp;&lt;br&gt;
If&amp;nbsp;the&amp;nbsp;application&amp;nbsp;has&amp;nbsp;a&amp;nbsp;small&amp;nbsp;data&amp;nbsp;set&amp;nbsp;(up&amp;nbsp;to&amp;nbsp;approximately&amp;nbsp;100MB),&amp;nbsp;then&amp;nbsp;&lt;br&gt;
select&amp;nbsp;the&amp;nbsp;serial&amp;nbsp;collector&amp;nbsp;with&amp;nbsp;-XX:+UseSerialGC.&lt;br&gt;
&lt;br&gt;
If&amp;nbsp;the&amp;nbsp;application&amp;nbsp;will&amp;nbsp;be&amp;nbsp;run&amp;nbsp;on&amp;nbsp;a&amp;nbsp;single&amp;nbsp;processor&amp;nbsp;and&amp;nbsp;there&amp;nbsp;are&amp;nbsp;no&amp;nbsp;pause&amp;nbsp;time&amp;nbsp;requirements,&amp;nbsp;then&amp;nbsp;&lt;br&gt;
let&amp;nbsp;the&amp;nbsp;VM&amp;nbsp;select&amp;nbsp;the&amp;nbsp;collector,&amp;nbsp;or&lt;br&gt;
select&amp;nbsp;the&amp;nbsp;serial&amp;nbsp;collector&amp;nbsp;with&amp;nbsp;-XX:+UseSerialGC.&lt;br&gt;
&lt;br&gt;
If&amp;nbsp;(a)&amp;nbsp;peak&amp;nbsp;application&amp;nbsp;performance&amp;nbsp;is&amp;nbsp;the&amp;nbsp;first&amp;nbsp;priority&amp;nbsp;and&amp;nbsp;(b)&amp;nbsp;there&amp;nbsp;are&amp;nbsp;no&amp;nbsp;pause&amp;nbsp;time&amp;nbsp;requirements&amp;nbsp;or&amp;nbsp;pauses&amp;nbsp;of&amp;nbsp;one&lt;br&gt;
second&amp;nbsp;or&amp;nbsp;longer&amp;nbsp;are&amp;nbsp;acceptable,&amp;nbsp;then&amp;nbsp;let&amp;nbsp;the&amp;nbsp;VM&amp;nbsp;select&amp;nbsp;the&amp;nbsp;collector,&amp;nbsp;or&lt;br&gt;
select&amp;nbsp;the&amp;nbsp;parallel&amp;nbsp;collector&amp;nbsp;with&amp;nbsp;-XX:+UseParallelGC&amp;nbsp;and&amp;nbsp;(optionally)&amp;nbsp;enable&amp;nbsp;parallel&amp;nbsp;compaction&amp;nbsp;with&amp;nbsp;-XX:+UseParallelOldGC.&lt;br&gt;
&lt;br&gt;
If&amp;nbsp;response&amp;nbsp;time&amp;nbsp;is&amp;nbsp;more&amp;nbsp;important&amp;nbsp;than&amp;nbsp;overall&amp;nbsp;throughput&amp;nbsp;and&amp;nbsp;garbage&amp;nbsp;collection&amp;nbsp;pauses&amp;nbsp;must&amp;nbsp;be&amp;nbsp;kept&lt;br&gt;
shorter&amp;nbsp;than&amp;nbsp;approximately&amp;nbsp;one&amp;nbsp;second,&amp;nbsp;then&amp;nbsp;&amp;nbsp;select&amp;nbsp;the&amp;nbsp;concurrent&amp;nbsp;collector&amp;nbsp;with&amp;nbsp;-XX:+UseConcMarkSweepGC.&amp;nbsp;If&amp;nbsp;only&lt;br&gt;
one&amp;nbsp;or&amp;nbsp;two&amp;nbsp;processors&amp;nbsp;are&amp;nbsp;available,&amp;nbsp;consider&amp;nbsp;using&amp;nbsp;incremental&amp;nbsp;mode,&amp;nbsp;described&amp;nbsp;below.&lt;br&gt;
========================================================================&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Quantitative&amp;nbsp;Comparison&amp;nbsp;of&amp;nbsp;Garbage&amp;nbsp;Collectors&lt;br&gt;
&lt;br&gt;
The&amp;nbsp;following&amp;nbsp;table&amp;nbsp;summarizes&amp;nbsp;some&amp;nbsp;key&amp;nbsp;performance&amp;nbsp;indicators&amp;nbsp;achieved&amp;nbsp;with&amp;nbsp;the&amp;nbsp;4&amp;nbsp;most&amp;nbsp;important&lt;br&gt;
garbage&amp;nbsp;collectors&amp;nbsp;of&amp;nbsp;Oracle&amp;nbsp;Java&amp;nbsp;7&amp;nbsp;running&amp;nbsp;the&amp;nbsp;same&amp;nbsp;load&amp;nbsp;test&amp;nbsp;on&amp;nbsp;the&amp;nbsp;same&amp;nbsp;application&amp;nbsp;but&amp;nbsp;with&amp;nbsp;different&lt;br&gt;
levels&amp;nbsp;of&amp;nbsp;load&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;img&amp;nbsp;width='480'&amp;nbsp;height='160'&amp;nbsp;alt='image'&amp;nbsp;src='/data/images/Table-480x146.png'/&gt;&lt;br&gt;
&lt;br&gt;
All&amp;nbsp;the&amp;nbsp;collectors&amp;nbsp;were&amp;nbsp;run&amp;nbsp;with&amp;nbsp;about&amp;nbsp;1GB&amp;nbsp;of&amp;nbsp;total&amp;nbsp;heap&amp;nbsp;size;&amp;nbsp;the&amp;nbsp;traditional&amp;nbsp;collectors&amp;nbsp;(ParallelGC,&amp;nbsp;ParNewGC&amp;nbsp;and&amp;nbsp;CMS)&lt;br&gt;
in&amp;nbsp;addition&amp;nbsp;used&amp;nbsp;the&amp;nbsp;following&amp;nbsp;heap&amp;nbsp;settings:-XX:NewSize=400m&amp;nbsp;-XX:MaxNewSize=400m&amp;nbsp;-XX:SurvivorRatio=6&lt;br&gt;
&lt;br&gt;
For&amp;nbsp;all&amp;nbsp;the&amp;nbsp;classic&amp;nbsp;Java&amp;nbsp;GC&amp;nbsp;algorithms&amp;nbsp;(SerialGC,&amp;nbsp;ParallelGC,&amp;nbsp;ParNewGC&amp;nbsp;and&amp;nbsp;CMS)&amp;nbsp;generation&amp;nbsp;sizing&amp;nbsp;is&amp;nbsp;an&amp;nbsp;essential&amp;nbsp;tuning&lt;br&gt;
and&amp;nbsp;fine&amp;nbsp;tuning&amp;nbsp;procedure&amp;nbsp;which&amp;nbsp;in&amp;nbsp;many&amp;nbsp;real-world&amp;nbsp;applications&amp;nbsp;is&amp;nbsp;not&amp;nbsp;practiced&amp;nbsp;sufficiently.&amp;nbsp;The&amp;nbsp;consequences&amp;nbsp;are&lt;br&gt;
suboptimal&amp;nbsp;application&amp;nbsp;performance&amp;nbsp;and&amp;nbsp;the&amp;nbsp;risk&amp;nbsp;of&amp;nbsp;operations&amp;nbsp;degradation&amp;nbsp;(loss&amp;nbsp;of&amp;nbsp;performance&amp;nbsp;and&amp;nbsp;even&amp;nbsp;application&amp;nbsp;standstill&lt;br&gt;
for&amp;nbsp;extended&amp;nbsp;periods&amp;nbsp;of&amp;nbsp;time&amp;nbsp;if&amp;nbsp;it&amp;nbsp;is&amp;nbsp;not&amp;nbsp;well&amp;nbsp;monitored).&lt;br&gt;
&lt;br&gt;
Generation&amp;nbsp;sizing&amp;nbsp;can&amp;nbsp;improve&amp;nbsp;application&amp;nbsp;performance&amp;nbsp;noticeably&amp;nbsp;and&amp;nbsp;reduce&amp;nbsp;the&amp;nbsp;occurrence&amp;nbsp;of&amp;nbsp;long&amp;nbsp;GC&amp;nbsp;pauses&amp;nbsp;to&lt;br&gt;
a&amp;nbsp;minimum.&amp;nbsp;Elimination&amp;nbsp;of&amp;nbsp;long&amp;nbsp;GC&amp;nbsp;pauses,&amp;nbsp;however,&amp;nbsp;requires&amp;nbsp;the&amp;nbsp;usage&amp;nbsp;of&amp;nbsp;a&amp;nbsp;low-latency&amp;nbsp;collector.&lt;br&gt;
The&amp;nbsp;preferred&amp;nbsp;and&amp;nbsp;most&amp;nbsp;proven&amp;nbsp;low-latency&amp;nbsp;collector&amp;nbsp;has&amp;nbsp;been&amp;nbsp;(and&amp;nbsp;still&amp;nbsp;is&amp;nbsp;as&amp;nbsp;of&amp;nbsp;today)&amp;nbsp;the&amp;nbsp;CMS&amp;nbsp;collector&amp;nbsp;which&amp;nbsp;in&lt;br&gt;
&amp;nbsp;many&amp;nbsp;cases&amp;nbsp;does&amp;nbsp;what&amp;nbsp;is&amp;nbsp;needed&amp;nbsp;and,&amp;nbsp;with&amp;nbsp;proper&amp;nbsp;tuning,&amp;nbsp;also&amp;nbsp;provides&amp;nbsp;long-term&amp;nbsp;stability&amp;nbsp;in&amp;nbsp;spite&amp;nbsp;of&amp;nbsp;its&amp;nbsp;inherent&amp;nbsp;heap&lt;br&gt;
fragmentation&amp;nbsp;risk.</questionanswer>
  </question>
  <question id="1_0_0_9_3:3" type="2">
    <questiontext>&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Java&amp;nbsp;JVM&amp;nbsp;:&amp;nbsp;GC&amp;nbsp;:&amp;nbsp;describe&amp;nbsp;GC&amp;nbsp;process.&lt;br&gt;
What&amp;nbsp;gc&amp;nbsp;algorithms&amp;nbsp;are&amp;nbsp;available&amp;nbsp;in&amp;nbsp;Hotspot&amp;nbsp;VM&amp;nbsp;?&lt;br&gt;
What&amp;nbsp;are&amp;nbsp;jvm&amp;nbsp;options&amp;nbsp;related&amp;nbsp;to&amp;nbsp;GC&amp;nbsp;?&lt;br&gt;
Maybe&amp;nbsp;you&amp;nbsp;know&amp;nbsp;:&amp;nbsp;MaxTenuringThreshold&amp;nbsp;-&amp;nbsp;how&amp;nbsp;exactly&amp;nbsp;it&amp;nbsp;works?&lt;br&gt;
&amp;nbsp;&amp;nbsp;</questiontext>
    <questionanswer>1&amp;nbsp;GC&amp;nbsp;Process&amp;nbsp;in&amp;nbsp;general&amp;nbsp;&lt;br&gt;
&lt;br&gt;
Automatic&amp;nbsp;garbage&amp;nbsp;collection&amp;nbsp;is&amp;nbsp;the&amp;nbsp;process&amp;nbsp;of&amp;nbsp;looking&amp;nbsp;at&amp;nbsp;heap&amp;nbsp;memory,&amp;nbsp;identifying&amp;nbsp;which&amp;nbsp;objects&amp;nbsp;are&amp;nbsp;in&amp;nbsp;use&lt;br&gt;
and&amp;nbsp;which&amp;nbsp;are&amp;nbsp;not,&amp;nbsp;and&amp;nbsp;deleting&amp;nbsp;the&amp;nbsp;unused&amp;nbsp;objects.&amp;nbsp;An&amp;nbsp;in&amp;nbsp;use&amp;nbsp;object,&amp;nbsp;or&amp;nbsp;a&amp;nbsp;referenced&amp;nbsp;object,&amp;nbsp;means&amp;nbsp;that&lt;br&gt;
some&amp;nbsp;part&amp;nbsp;of&amp;nbsp;your&amp;nbsp;program&amp;nbsp;still&amp;nbsp;maintains&amp;nbsp;a&amp;nbsp;pointer&amp;nbsp;to&amp;nbsp;that&amp;nbsp;object.&amp;nbsp;An&amp;nbsp;unused&amp;nbsp;object,&amp;nbsp;or&amp;nbsp;unreferenced&amp;nbsp;object,&lt;br&gt;
is&amp;nbsp;no&amp;nbsp;longer&amp;nbsp;referenced&amp;nbsp;by&amp;nbsp;any&amp;nbsp;part&amp;nbsp;of&amp;nbsp;your&amp;nbsp;program.&amp;nbsp;So&amp;nbsp;the&amp;nbsp;memory&amp;nbsp;used&amp;nbsp;by&amp;nbsp;an&amp;nbsp;unreferenced&amp;nbsp;object&amp;nbsp;can&amp;nbsp;be&lt;br&gt;
reclaimed.&lt;br&gt;
&lt;br&gt;
In&amp;nbsp;a&amp;nbsp;programming&amp;nbsp;language&amp;nbsp;like&amp;nbsp;C,&amp;nbsp;allocating&amp;nbsp;and&amp;nbsp;deallocating&amp;nbsp;memory&amp;nbsp;is&amp;nbsp;a&amp;nbsp;manual&amp;nbsp;process.&amp;nbsp;In&amp;nbsp;Java,&amp;nbsp;process&amp;nbsp;of&lt;br&gt;
deallocating&amp;nbsp;memory&amp;nbsp;is&amp;nbsp;handled&amp;nbsp;automatically&amp;nbsp;by&amp;nbsp;the&amp;nbsp;garbage&amp;nbsp;collector.&amp;nbsp;The&amp;nbsp;basic&amp;nbsp;process&amp;nbsp;can&amp;nbsp;be&amp;nbsp;described&lt;br&gt;
as&amp;nbsp;follows.&lt;br&gt;
&lt;br&gt;
Step&amp;nbsp;1:&amp;nbsp;Marking&lt;br&gt;
The&amp;nbsp;first&amp;nbsp;step&amp;nbsp;in&amp;nbsp;the&amp;nbsp;process&amp;nbsp;is&amp;nbsp;called&amp;nbsp;marking.&amp;nbsp;This&amp;nbsp;is&amp;nbsp;where&amp;nbsp;the&amp;nbsp;garbage&amp;nbsp;collector&amp;nbsp;identifies&amp;nbsp;which&amp;nbsp;pieces&amp;nbsp;of&lt;br&gt;
memory&amp;nbsp;are&amp;nbsp;in&amp;nbsp;use&amp;nbsp;and&amp;nbsp;which&amp;nbsp;are&amp;nbsp;not.&lt;br&gt;
&lt;br&gt;
&lt;img&amp;nbsp;width='550'&amp;nbsp;height='400'&amp;nbsp;alt='image'&amp;nbsp;src='/data/images/GC_1Marking.PNG'/&gt;&lt;br&gt;
&lt;br&gt;
Step&amp;nbsp;2:&amp;nbsp;Normal&amp;nbsp;Deletion&lt;br&gt;
Normal&amp;nbsp;deletion&amp;nbsp;removes&amp;nbsp;unreferenced&amp;nbsp;objects&amp;nbsp;leaving&amp;nbsp;referenced&amp;nbsp;objects&amp;nbsp;and&amp;nbsp;pointers&amp;nbsp;to&amp;nbsp;free&amp;nbsp;space.&lt;br&gt;
&lt;br&gt;
&lt;img&amp;nbsp;width='550'&amp;nbsp;height='400'&amp;nbsp;alt='image'&amp;nbsp;src='/data/images/GC_2aNomalDeletion.PNG'/&gt;&lt;br&gt;
&lt;br&gt;
Step&amp;nbsp;2a:&amp;nbsp;Deletion&amp;nbsp;with&amp;nbsp;Compacting&lt;br&gt;
To&amp;nbsp;further&amp;nbsp;improve&amp;nbsp;performance,&amp;nbsp;in&amp;nbsp;addition&amp;nbsp;to&amp;nbsp;deleting&amp;nbsp;unreferenced&amp;nbsp;objects,&amp;nbsp;you&amp;nbsp;can&amp;nbsp;also&amp;nbsp;compact&amp;nbsp;the&lt;br&gt;
remaining&amp;nbsp;referenced&amp;nbsp;objects.&amp;nbsp;By&amp;nbsp;moving&amp;nbsp;referenced&amp;nbsp;object&amp;nbsp;together,&amp;nbsp;this&amp;nbsp;makes&amp;nbsp;new&amp;nbsp;memory&amp;nbsp;allocation&lt;br&gt;
much&amp;nbsp;easier&amp;nbsp;and&amp;nbsp;faster.&lt;br&gt;
&lt;br&gt;
&lt;img&amp;nbsp;width='450'&amp;nbsp;height='350'&amp;nbsp;alt='image'&amp;nbsp;src='/data/images/GC_2bDeletionWithCompacting.PNG'/&gt;&lt;br&gt;
&lt;br&gt;
JVM&amp;nbsp;Memory&amp;nbsp;Generations&lt;br&gt;
&amp;nbsp;&lt;br&gt;
&lt;img&amp;nbsp;width='500'&amp;nbsp;height='350'&amp;nbsp;alt='image'&amp;nbsp;src='/data/images/GC_HotspotHeapGenerations.PNG'/&gt;&lt;br&gt;
&lt;br&gt;
The&amp;nbsp;__Young&amp;nbsp;Generation&amp;nbsp;is&amp;nbsp;where&amp;nbsp;all&amp;nbsp;new&amp;nbsp;objects&amp;nbsp;are&amp;nbsp;allocated&amp;nbsp;and&amp;nbsp;aged.&amp;nbsp;When&amp;nbsp;the&amp;nbsp;young&amp;nbsp;generation&amp;nbsp;fills&amp;nbsp;up,&lt;br&gt;
this&amp;nbsp;causes&amp;nbsp;a&amp;nbsp;minor&amp;nbsp;garbage&amp;nbsp;collection.&amp;nbsp;Minor&amp;nbsp;collections&amp;nbsp;can&amp;nbsp;be&amp;nbsp;optimized&amp;nbsp;assuming&amp;nbsp;a&amp;nbsp;high&amp;nbsp;object&amp;nbsp;mortality&amp;nbsp;rate.&lt;br&gt;
A&amp;nbsp;young&amp;nbsp;generation&amp;nbsp;full&amp;nbsp;of&amp;nbsp;dead&amp;nbsp;objects&amp;nbsp;is&amp;nbsp;collected&amp;nbsp;very&amp;nbsp;quickly.&amp;nbsp;Some&amp;nbsp;surviving&amp;nbsp;objects&amp;nbsp;are&amp;nbsp;aged&amp;nbsp;and&amp;nbsp;eventually&lt;br&gt;
move&amp;nbsp;to&amp;nbsp;the&amp;nbsp;old&amp;nbsp;generation.&amp;nbsp;&lt;br&gt;
&lt;br&gt;
Stop&amp;nbsp;the&amp;nbsp;World&amp;nbsp;Event&amp;nbsp;-&amp;nbsp;All&amp;nbsp;minor&amp;nbsp;garbage&amp;nbsp;collections&amp;nbsp;are&amp;nbsp;"Stop&amp;nbsp;the&amp;nbsp;World"&amp;nbsp;events.&amp;nbsp;This&amp;nbsp;means&amp;nbsp;that&amp;nbsp;all&amp;nbsp;application&lt;br&gt;
threads&amp;nbsp;are&amp;nbsp;stopped&amp;nbsp;until&amp;nbsp;the&amp;nbsp;operation&amp;nbsp;completes.&amp;nbsp;Minor&amp;nbsp;garbage&amp;nbsp;collections&amp;nbsp;are&amp;nbsp;always&amp;nbsp;Stop&amp;nbsp;the&amp;nbsp;World&amp;nbsp;events.&lt;br&gt;
&lt;br&gt;
The&amp;nbsp;__Old&amp;nbsp;Generation&amp;nbsp;is&amp;nbsp;used&amp;nbsp;to&amp;nbsp;store&amp;nbsp;long&amp;nbsp;surviving&amp;nbsp;objects.&amp;nbsp;Typically,&amp;nbsp;a&amp;nbsp;threshold&amp;nbsp;is&amp;nbsp;set&amp;nbsp;for&amp;nbsp;young&amp;nbsp;generation&amp;nbsp;object&lt;br&gt;
and&amp;nbsp;when&amp;nbsp;that&amp;nbsp;age&amp;nbsp;is&amp;nbsp;met,&amp;nbsp;the&amp;nbsp;object&amp;nbsp;gets&amp;nbsp;moved&amp;nbsp;to&amp;nbsp;the&amp;nbsp;old&amp;nbsp;generation.&amp;nbsp;Eventually&amp;nbsp;the&amp;nbsp;old&amp;nbsp;generation&amp;nbsp;needs&amp;nbsp;to&lt;br&gt;
be&amp;nbsp;collected.&amp;nbsp;This&amp;nbsp;event&amp;nbsp;is&amp;nbsp;called&amp;nbsp;a&amp;nbsp;major&amp;nbsp;garbage&amp;nbsp;collection.&amp;nbsp;&lt;br&gt;
&lt;br&gt;
Major&amp;nbsp;garbage&amp;nbsp;collection&amp;nbsp;are&amp;nbsp;also&amp;nbsp;Stop&amp;nbsp;the&amp;nbsp;World&amp;nbsp;events.&amp;nbsp;Often&amp;nbsp;a&amp;nbsp;major&amp;nbsp;collection&amp;nbsp;is&amp;nbsp;much&amp;nbsp;slower&amp;nbsp;because&amp;nbsp;it&amp;nbsp;involves&lt;br&gt;
all&amp;nbsp;live&amp;nbsp;objects.&amp;nbsp;So&amp;nbsp;for&amp;nbsp;Responsive&amp;nbsp;applications,&amp;nbsp;major&amp;nbsp;garbage&amp;nbsp;collections&amp;nbsp;should&amp;nbsp;be&amp;nbsp;minimized.&amp;nbsp;Also&amp;nbsp;note,&amp;nbsp;that&amp;nbsp;the&lt;br&gt;
length&amp;nbsp;of&amp;nbsp;the&amp;nbsp;Stop&amp;nbsp;the&amp;nbsp;World&amp;nbsp;event&amp;nbsp;for&amp;nbsp;a&amp;nbsp;major&amp;nbsp;garbage&amp;nbsp;collection&amp;nbsp;is&amp;nbsp;affected&amp;nbsp;by&amp;nbsp;the&amp;nbsp;kind&amp;nbsp;of&amp;nbsp;garbage&amp;nbsp;collector&lt;br&gt;
that&amp;nbsp;is&amp;nbsp;used&amp;nbsp;for&amp;nbsp;the&amp;nbsp;old&amp;nbsp;generation&amp;nbsp;space.&lt;br&gt;
&lt;br&gt;
The&amp;nbsp;__Permanent&amp;nbsp;generation&amp;nbsp;contains&amp;nbsp;metadata&amp;nbsp;required&amp;nbsp;by&amp;nbsp;the&amp;nbsp;JVM&amp;nbsp;to&amp;nbsp;describe&amp;nbsp;the&amp;nbsp;classes&amp;nbsp;and&amp;nbsp;methods&amp;nbsp;used&amp;nbsp;in&amp;nbsp;the&lt;br&gt;
application.&amp;nbsp;The&amp;nbsp;permanent&amp;nbsp;generation&amp;nbsp;is&amp;nbsp;populated&amp;nbsp;by&amp;nbsp;the&amp;nbsp;JVM&amp;nbsp;at&amp;nbsp;runtime&amp;nbsp;based&amp;nbsp;on&amp;nbsp;classes&amp;nbsp;in&amp;nbsp;use&amp;nbsp;by&amp;nbsp;the&amp;nbsp;application.&lt;br&gt;
In&amp;nbsp;addition,&amp;nbsp;Java&amp;nbsp;SE&amp;nbsp;library&amp;nbsp;classes&amp;nbsp;and&amp;nbsp;methods&amp;nbsp;may&amp;nbsp;be&amp;nbsp;stored&amp;nbsp;here.&lt;br&gt;
&lt;br&gt;
Classes&amp;nbsp;may&amp;nbsp;get&amp;nbsp;collected&amp;nbsp;(unloaded)&amp;nbsp;if&amp;nbsp;the&amp;nbsp;JVM&amp;nbsp;finds&amp;nbsp;they&amp;nbsp;are&amp;nbsp;no&amp;nbsp;longer&amp;nbsp;needed&amp;nbsp;and&amp;nbsp;space&amp;nbsp;may&amp;nbsp;be&amp;nbsp;needed&amp;nbsp;for&amp;nbsp;other&lt;br&gt;
classes.&amp;nbsp;The&amp;nbsp;permanent&amp;nbsp;generation&amp;nbsp;is&amp;nbsp;included&amp;nbsp;in&amp;nbsp;a&amp;nbsp;full&amp;nbsp;garbage&amp;nbsp;collection.&lt;br&gt;
-------------------------------&lt;br&gt;
&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;The&amp;nbsp;Generational&amp;nbsp;Garbage&amp;nbsp;Collection&amp;nbsp;Process&lt;br&gt;
&lt;br&gt;
First,&amp;nbsp;any&amp;nbsp;new&amp;nbsp;objects&amp;nbsp;are&amp;nbsp;allocated&amp;nbsp;to&amp;nbsp;the&amp;nbsp;eden&amp;nbsp;space.&amp;nbsp;Both&amp;nbsp;survivor&amp;nbsp;spaces&amp;nbsp;start&amp;nbsp;out&amp;nbsp;empty.&lt;br&gt;
&lt;br&gt;
When&amp;nbsp;the&amp;nbsp;eden&amp;nbsp;space&amp;nbsp;fills&amp;nbsp;up,&amp;nbsp;a&amp;nbsp;minor&amp;nbsp;garbage&amp;nbsp;collection&amp;nbsp;is&amp;nbsp;triggered.&lt;br&gt;
&lt;br&gt;
&lt;img&amp;nbsp;width='500'&amp;nbsp;height='350'&amp;nbsp;alt='image'&amp;nbsp;src='/data/images/GC_Filling_Edem.PNG'/&gt;&lt;br&gt;
&lt;br&gt;
Referenced&amp;nbsp;objects&amp;nbsp;are&amp;nbsp;moved&amp;nbsp;to&amp;nbsp;the&amp;nbsp;first&amp;nbsp;survivor&amp;nbsp;space.&amp;nbsp;Unreferenced&amp;nbsp;objects&amp;nbsp;are&amp;nbsp;deleted&amp;nbsp;when&amp;nbsp;the&lt;br&gt;
eden&amp;nbsp;space&amp;nbsp;is&amp;nbsp;cleared.&lt;br&gt;
&lt;br&gt;
&lt;img&amp;nbsp;width='500'&amp;nbsp;height='350'&amp;nbsp;alt='image'&amp;nbsp;src='/data/images/GC_S0.PNG'/&gt;&lt;br&gt;
&lt;br&gt;
At&amp;nbsp;the&amp;nbsp;next&amp;nbsp;minor&amp;nbsp;GC,&amp;nbsp;the&amp;nbsp;same&amp;nbsp;thing&amp;nbsp;happens&amp;nbsp;for&amp;nbsp;the&amp;nbsp;eden&amp;nbsp;space.&amp;nbsp;Unreferenced&amp;nbsp;objects&amp;nbsp;are&amp;nbsp;deleted&amp;nbsp;and&amp;nbsp;referenced&lt;br&gt;
objects&amp;nbsp;are&amp;nbsp;moved&amp;nbsp;to&amp;nbsp;a&amp;nbsp;survivor&amp;nbsp;space.&amp;nbsp;-&gt;&gt;However,&amp;nbsp;in&amp;nbsp;this&amp;nbsp;case,&amp;nbsp;they&amp;nbsp;are&amp;nbsp;moved&amp;nbsp;to&amp;nbsp;the&amp;nbsp;second&amp;nbsp;survivor&amp;nbsp;space&amp;nbsp;(S1).&lt;br&gt;
In&amp;nbsp;addition,&amp;nbsp;objects&amp;nbsp;from&amp;nbsp;the&amp;nbsp;last&amp;nbsp;minor&amp;nbsp;GC&amp;nbsp;on&amp;nbsp;the&amp;nbsp;first&amp;nbsp;survivor&amp;nbsp;space&amp;nbsp;(S0)&amp;nbsp;have&amp;nbsp;their&amp;nbsp;age&amp;nbsp;incremented&amp;nbsp;and&amp;nbsp;get&amp;nbsp;moved&lt;br&gt;
to&amp;nbsp;S1.&amp;nbsp;Once&amp;nbsp;all&amp;nbsp;surviving&amp;nbsp;objects&amp;nbsp;have&amp;nbsp;been&amp;nbsp;moved&amp;nbsp;to&amp;nbsp;S1,&amp;nbsp;both&amp;nbsp;S0&amp;nbsp;and&amp;nbsp;eden&amp;nbsp;are&amp;nbsp;cleared.&amp;nbsp;Notice&amp;nbsp;we&amp;nbsp;now&amp;nbsp;have&lt;br&gt;
differently&amp;nbsp;aged&amp;nbsp;object&amp;nbsp;in&amp;nbsp;the&amp;nbsp;survivor&amp;nbsp;space.&lt;br&gt;
&lt;br&gt;
&lt;img&amp;nbsp;width='500'&amp;nbsp;height='360'&amp;nbsp;alt='image'&amp;nbsp;src='/data/images/GC_S1.PNG'/&gt;&lt;br&gt;
&lt;br&gt;
At&amp;nbsp;the&amp;nbsp;next&amp;nbsp;minor&amp;nbsp;GC,&amp;nbsp;the&amp;nbsp;same&amp;nbsp;process&amp;nbsp;repeats.&amp;nbsp;However&amp;nbsp;this&amp;nbsp;time&amp;nbsp;the&amp;nbsp;survivor&amp;nbsp;spaces&amp;nbsp;switch.&amp;nbsp;Referenced&amp;nbsp;objects&lt;br&gt;
are&amp;nbsp;moved&amp;nbsp;to&amp;nbsp;S0.&amp;nbsp;Surviving&amp;nbsp;objects&amp;nbsp;are&amp;nbsp;aged.&amp;nbsp;Eden&amp;nbsp;and&amp;nbsp;S1&amp;nbsp;are&amp;nbsp;cleared.&lt;br&gt;
&lt;br&gt;
&lt;img&amp;nbsp;width='500'&amp;nbsp;height='360'&amp;nbsp;alt='image'&amp;nbsp;src='/data/images/GC_S1Clear.PNG'/&gt;&lt;br&gt;
&lt;br&gt;
This&amp;nbsp;slide&amp;nbsp;demonstrates&amp;nbsp;promotion.&amp;nbsp;After&amp;nbsp;a&amp;nbsp;minor&amp;nbsp;GC,&amp;nbsp;when&amp;nbsp;aged&amp;nbsp;objects&amp;nbsp;reach&amp;nbsp;a&amp;nbsp;certain&amp;nbsp;age&amp;nbsp;threshold&amp;nbsp;(8&amp;nbsp;in&lt;br&gt;
this&amp;nbsp;example)&amp;nbsp;they&amp;nbsp;are&amp;nbsp;promoted&amp;nbsp;from&amp;nbsp;young&amp;nbsp;generation&amp;nbsp;to&amp;nbsp;old&amp;nbsp;generation.&lt;br&gt;
&lt;br&gt;
&lt;img&amp;nbsp;width='500'&amp;nbsp;height='360'&amp;nbsp;alt='image'&amp;nbsp;src='/data/images/GC_OldGen.PNG'/&gt;&lt;br&gt;
&lt;br&gt;
As&amp;nbsp;minor&amp;nbsp;GCs&amp;nbsp;continue&amp;nbsp;to&amp;nbsp;occure&amp;nbsp;objects&amp;nbsp;will&amp;nbsp;continue&amp;nbsp;to&amp;nbsp;be&amp;nbsp;promoted&amp;nbsp;to&amp;nbsp;the&amp;nbsp;old&amp;nbsp;generation&amp;nbsp;space.&lt;br&gt;
&lt;br&gt;
&lt;img&amp;nbsp;width='500'&amp;nbsp;height='360'&amp;nbsp;alt='image'&amp;nbsp;src='/data/images/GC_ObjectFlow.PNG'/&gt;&lt;br&gt;
&lt;br&gt;
======================================================&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;GC&amp;nbsp;algorithms&amp;nbsp;are&amp;nbsp;available&amp;nbsp;in&amp;nbsp;Hotspot&lt;br&gt;
&lt;br&gt;
&amp;nbsp;Common&amp;nbsp;Heap&amp;nbsp;Related&amp;nbsp;Switches&lt;br&gt;
&lt;br&gt;
There&amp;nbsp;are&amp;nbsp;many&amp;nbsp;different&amp;nbsp;command&amp;nbsp;line&amp;nbsp;switches&amp;nbsp;that&amp;nbsp;can&amp;nbsp;be&amp;nbsp;used&amp;nbsp;with&amp;nbsp;Java.&amp;nbsp;This&amp;nbsp;section&amp;nbsp;describes&amp;nbsp;some&lt;br&gt;
of&amp;nbsp;the&amp;nbsp;more&amp;nbsp;commonly&amp;nbsp;used&amp;nbsp;switches&amp;nbsp;that&amp;nbsp;are&amp;nbsp;also&amp;nbsp;used&amp;nbsp;in&amp;nbsp;this&amp;nbsp;OBE.Switch&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Description&lt;br&gt;
-Xms&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Sets&amp;nbsp;the&amp;nbsp;initial&amp;nbsp;heap&amp;nbsp;size&amp;nbsp;for&amp;nbsp;when&amp;nbsp;the&amp;nbsp;JVM&amp;nbsp;starts.&lt;br&gt;
-Xmx&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Sets&amp;nbsp;the&amp;nbsp;maximum&amp;nbsp;heap&amp;nbsp;size.&lt;br&gt;
-Xmn&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Sets&amp;nbsp;the&amp;nbsp;size&amp;nbsp;of&amp;nbsp;the&amp;nbsp;Young&amp;nbsp;Generation.&lt;br&gt;
-XX:PermSize&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Sets&amp;nbsp;the&amp;nbsp;starting&amp;nbsp;size&amp;nbsp;of&amp;nbsp;the&amp;nbsp;Permanent&amp;nbsp;Generation.&lt;br&gt;
-XX:MaxPermSize&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Sets&amp;nbsp;the&amp;nbsp;maximum&amp;nbsp;size&amp;nbsp;of&amp;nbsp;the&amp;nbsp;Permanent&amp;nbsp;Generation&lt;br&gt;
-------------------------------------------------------------&lt;br&gt;
&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;The&amp;nbsp;Serial&amp;nbsp;GC&lt;br&gt;
The&amp;nbsp;serial&amp;nbsp;collector&amp;nbsp;is&amp;nbsp;the&amp;nbsp;default&amp;nbsp;for&amp;nbsp;client&amp;nbsp;style&amp;nbsp;machines&amp;nbsp;in&amp;nbsp;Java&amp;nbsp;SE&amp;nbsp;5&amp;nbsp;and&amp;nbsp;6.&amp;nbsp;With&amp;nbsp;the&amp;nbsp;serial&amp;nbsp;collector,&lt;br&gt;
both&amp;nbsp;minor&amp;nbsp;and&amp;nbsp;major&amp;nbsp;garbage&amp;nbsp;collections&amp;nbsp;are&amp;nbsp;done&amp;nbsp;serially&amp;nbsp;(using&amp;nbsp;a&amp;nbsp;single&amp;nbsp;virtual&amp;nbsp;CPU).&amp;nbsp;In&amp;nbsp;addition,&amp;nbsp;it&amp;nbsp;uses&lt;br&gt;
a&amp;nbsp;mark-compact&amp;nbsp;collection&amp;nbsp;method.&amp;nbsp;This&amp;nbsp;method&amp;nbsp;moves&amp;nbsp;older&amp;nbsp;memory&amp;nbsp;to&amp;nbsp;the&amp;nbsp;beginning&amp;nbsp;of&amp;nbsp;the&amp;nbsp;heap&amp;nbsp;so&lt;br&gt;
that&amp;nbsp;new&amp;nbsp;memory&amp;nbsp;allocations&amp;nbsp;are&amp;nbsp;made&amp;nbsp;into&amp;nbsp;a&amp;nbsp;single&amp;nbsp;continuous&amp;nbsp;chunk&amp;nbsp;of&amp;nbsp;memory&amp;nbsp;at&amp;nbsp;the&amp;nbsp;end&amp;nbsp;of&amp;nbsp;the&amp;nbsp;heap.&lt;br&gt;
This&amp;nbsp;compacting&amp;nbsp;of&amp;nbsp;memory&amp;nbsp;makes&amp;nbsp;it&amp;nbsp;faster&amp;nbsp;to&amp;nbsp;allocate&amp;nbsp;new&amp;nbsp;chunks&amp;nbsp;of&amp;nbsp;memory&amp;nbsp;to&amp;nbsp;the&amp;nbsp;heap.&lt;br&gt;
&lt;br&gt;
Usage&amp;nbsp;Cases&lt;br&gt;
&lt;br&gt;
The&amp;nbsp;Serial&amp;nbsp;GC&amp;nbsp;is&amp;nbsp;the&amp;nbsp;garbage&amp;nbsp;collector&amp;nbsp;of&amp;nbsp;choice&amp;nbsp;for&amp;nbsp;most&amp;nbsp;applications&amp;nbsp;that&amp;nbsp;do&amp;nbsp;not&amp;nbsp;have&amp;nbsp;low&amp;nbsp;pause&amp;nbsp;time&amp;nbsp;requirements&lt;br&gt;
and&amp;nbsp;run&amp;nbsp;on&amp;nbsp;client-style&amp;nbsp;machines.&amp;nbsp;It&amp;nbsp;takes&amp;nbsp;advantage&amp;nbsp;of&amp;nbsp;only&amp;nbsp;a&amp;nbsp;single&amp;nbsp;virtual&amp;nbsp;processor&amp;nbsp;for&amp;nbsp;garbage&amp;nbsp;collection&amp;nbsp;work&lt;br&gt;
(therefore,&amp;nbsp;its&amp;nbsp;name).&amp;nbsp;Still,&amp;nbsp;on&amp;nbsp;today's&amp;nbsp;hardware,&amp;nbsp;the&amp;nbsp;Serial&amp;nbsp;GC&amp;nbsp;can&amp;nbsp;efficiently&amp;nbsp;manage&amp;nbsp;a&amp;nbsp;lot&amp;nbsp;of&amp;nbsp;non-trivial&lt;br&gt;
applications&amp;nbsp;with&amp;nbsp;a&amp;nbsp;few&amp;nbsp;hundred&amp;nbsp;MBs&amp;nbsp;of&amp;nbsp;Java&amp;nbsp;heap,&amp;nbsp;with&amp;nbsp;relatively&amp;nbsp;short&amp;nbsp;worst-case&amp;nbsp;pauses&amp;nbsp;(around&amp;nbsp;a&amp;nbsp;couple&lt;br&gt;
of&amp;nbsp;seconds&amp;nbsp;for&amp;nbsp;full&amp;nbsp;garbage&amp;nbsp;collections).&lt;br&gt;
&lt;br&gt;
Another&amp;nbsp;popular&amp;nbsp;use&amp;nbsp;for&amp;nbsp;the&amp;nbsp;Serial&amp;nbsp;GC&amp;nbsp;is&amp;nbsp;in&amp;nbsp;environments&amp;nbsp;where&amp;nbsp;a&amp;nbsp;high&amp;nbsp;number&amp;nbsp;of&amp;nbsp;JVMs&amp;nbsp;are&amp;nbsp;run&amp;nbsp;on&amp;nbsp;the&amp;nbsp;same&amp;nbsp;machine&lt;br&gt;
(in&amp;nbsp;some&amp;nbsp;cases,&amp;nbsp;more&amp;nbsp;JVMs&amp;nbsp;than&amp;nbsp;available&amp;nbsp;processors!).&amp;nbsp;In&amp;nbsp;such&amp;nbsp;environments&amp;nbsp;when&amp;nbsp;a&amp;nbsp;JVM&amp;nbsp;does&amp;nbsp;a&amp;nbsp;garbage&amp;nbsp;collection&lt;br&gt;
it&amp;nbsp;is&amp;nbsp;better&amp;nbsp;to&amp;nbsp;use&amp;nbsp;only&amp;nbsp;one&amp;nbsp;processor&amp;nbsp;to&amp;nbsp;minimize&amp;nbsp;the&amp;nbsp;interference&amp;nbsp;on&amp;nbsp;the&amp;nbsp;remaining&amp;nbsp;JVMs,&amp;nbsp;even&amp;nbsp;if&amp;nbsp;the&lt;br&gt;
garbage&amp;nbsp;collection&amp;nbsp;might&amp;nbsp;last&amp;nbsp;longer.&amp;nbsp;And&amp;nbsp;the&amp;nbsp;Serial&amp;nbsp;GC&amp;nbsp;fits&amp;nbsp;this&amp;nbsp;trade-off&amp;nbsp;nicely.&lt;br&gt;
&lt;br&gt;
Finally,&amp;nbsp;with&amp;nbsp;the&amp;nbsp;proliferation&amp;nbsp;of&amp;nbsp;embedded&amp;nbsp;hardware&amp;nbsp;with&amp;nbsp;minimal&amp;nbsp;memory&amp;nbsp;and&amp;nbsp;few&amp;nbsp;cores,&amp;nbsp;the&amp;nbsp;Serial&lt;br&gt;
GC&amp;nbsp;could&amp;nbsp;make&amp;nbsp;a&amp;nbsp;comeback.&lt;br&gt;
Command&amp;nbsp;Line&amp;nbsp;Switches&lt;br&gt;
&lt;br&gt;
To&amp;nbsp;enable&amp;nbsp;the&amp;nbsp;Serial&amp;nbsp;Collector&amp;nbsp;use:&lt;br&gt;
-XX:+UseSerialGC&lt;br&gt;
-------------------------------------------------------------------------------------------------------------&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;The&amp;nbsp;Parallel&amp;nbsp;GC&lt;br&gt;
&lt;br&gt;
The&amp;nbsp;parallel&amp;nbsp;garbage&amp;nbsp;collector&amp;nbsp;uses&amp;nbsp;multiple&amp;nbsp;threads&amp;nbsp;to&amp;nbsp;perform&amp;nbsp;the&amp;nbsp;young&amp;nbsp;genertion&amp;nbsp;garbage&amp;nbsp;collection.&lt;br&gt;
By&amp;nbsp;default&amp;nbsp;on&amp;nbsp;a&amp;nbsp;host&amp;nbsp;with&amp;nbsp;N&amp;nbsp;CPUs,&amp;nbsp;the&amp;nbsp;parallel&amp;nbsp;garbage&amp;nbsp;collector&amp;nbsp;uses&amp;nbsp;N&amp;nbsp;garbage&amp;nbsp;collector&amp;nbsp;threads&amp;nbsp;in&amp;nbsp;the&lt;br&gt;
collection.&amp;nbsp;The&amp;nbsp;number&amp;nbsp;of&amp;nbsp;garbage&amp;nbsp;collector&amp;nbsp;threads&amp;nbsp;can&amp;nbsp;be&amp;nbsp;controlled&amp;nbsp;with&amp;nbsp;command-line&amp;nbsp;options:&lt;br&gt;
-XX:ParallelGCThreads=&lt;desired&amp;nbsp;number&gt;&lt;br&gt;
&lt;br&gt;
On&amp;nbsp;a&amp;nbsp;host&amp;nbsp;with&amp;nbsp;a&amp;nbsp;single&amp;nbsp;CPU&amp;nbsp;the&amp;nbsp;default&amp;nbsp;garbage&amp;nbsp;collector&amp;nbsp;is&amp;nbsp;used&amp;nbsp;even&amp;nbsp;if&amp;nbsp;the&amp;nbsp;parallel&amp;nbsp;garbage&amp;nbsp;collector&amp;nbsp;has&lt;br&gt;
been&amp;nbsp;requested.&amp;nbsp;On&amp;nbsp;a&amp;nbsp;host&amp;nbsp;with&amp;nbsp;two&amp;nbsp;CPUs&amp;nbsp;the&amp;nbsp;parallel&amp;nbsp;garbage&amp;nbsp;collector&amp;nbsp;generally&amp;nbsp;performs&amp;nbsp;as&amp;nbsp;well&amp;nbsp;as&amp;nbsp;the&lt;br&gt;
default&amp;nbsp;garbage&amp;nbsp;collector&amp;nbsp;and&amp;nbsp;a&amp;nbsp;reduction&amp;nbsp;in&amp;nbsp;the&amp;nbsp;young&amp;nbsp;generationgarbage&amp;nbsp;collector&amp;nbsp;pause&amp;nbsp;times&amp;nbsp;can&amp;nbsp;be&lt;br&gt;
expected&amp;nbsp;on&amp;nbsp;hosts&amp;nbsp;with&amp;nbsp;more&amp;nbsp;than&amp;nbsp;two&amp;nbsp;CPUs.&amp;nbsp;The&amp;nbsp;Parallel&amp;nbsp;GC&amp;nbsp;comes&amp;nbsp;in&amp;nbsp;two&amp;nbsp;flavors.&lt;br&gt;
&lt;br&gt;
Usage&amp;nbsp;Cases&lt;br&gt;
&lt;br&gt;
The&amp;nbsp;Parallel&amp;nbsp;collector&amp;nbsp;is&amp;nbsp;also&amp;nbsp;called&amp;nbsp;a&amp;nbsp;throughput&amp;nbsp;collector.&amp;nbsp;Since&amp;nbsp;it&amp;nbsp;can&amp;nbsp;use&amp;nbsp;multilple&amp;nbsp;CPUs&amp;nbsp;to&amp;nbsp;speed&amp;nbsp;up&amp;nbsp;application&lt;br&gt;
throughput.&amp;nbsp;This&amp;nbsp;collector&amp;nbsp;should&amp;nbsp;be&amp;nbsp;used&amp;nbsp;when&amp;nbsp;a&amp;nbsp;lot&amp;nbsp;of&amp;nbsp;work&amp;nbsp;need&amp;nbsp;to&amp;nbsp;be&amp;nbsp;done&amp;nbsp;and&amp;nbsp;long&amp;nbsp;pauses&amp;nbsp;are&amp;nbsp;acceptable.&lt;br&gt;
For&amp;nbsp;example,&amp;nbsp;batch&amp;nbsp;processing&amp;nbsp;like&amp;nbsp;printing&amp;nbsp;reports&amp;nbsp;or&amp;nbsp;bills&amp;nbsp;or&amp;nbsp;performing&amp;nbsp;a&amp;nbsp;large&amp;nbsp;number&amp;nbsp;of&amp;nbsp;database&amp;nbsp;queries.&lt;br&gt;
&lt;br&gt;
-XX:+UseParallelGC&lt;br&gt;
&lt;br&gt;
With&amp;nbsp;this&amp;nbsp;command&amp;nbsp;line&amp;nbsp;option&amp;nbsp;you&amp;nbsp;get&amp;nbsp;a&amp;nbsp;multi-thread&amp;nbsp;young&amp;nbsp;generation&amp;nbsp;collector&amp;nbsp;with&amp;nbsp;a&amp;nbsp;single-threaded&amp;nbsp;old&lt;br&gt;
generation&amp;nbsp;collector.&amp;nbsp;The&amp;nbsp;option&amp;nbsp;also&amp;nbsp;does&amp;nbsp;single-threaded&amp;nbsp;compaction&amp;nbsp;of&amp;nbsp;old&amp;nbsp;generation.&lt;br&gt;
&lt;br&gt;
-XX:+UseParallelOldGC&lt;br&gt;
&lt;br&gt;
With&amp;nbsp;the&amp;nbsp;-XX:+UseParallelOldGC&amp;nbsp;option,&amp;nbsp;the&amp;nbsp;GC&amp;nbsp;is&amp;nbsp;both&amp;nbsp;a&amp;nbsp;multithreaded&amp;nbsp;young&amp;nbsp;generation&amp;nbsp;collector&amp;nbsp;and&lt;br&gt;
multithreaded&amp;nbsp;old&amp;nbsp;generation&amp;nbsp;collector.&amp;nbsp;It&amp;nbsp;is&amp;nbsp;also&amp;nbsp;a&amp;nbsp;multithreaded&amp;nbsp;compacting&amp;nbsp;collector.&amp;nbsp;HotSpot&amp;nbsp;does&lt;br&gt;
compaction&amp;nbsp;only&amp;nbsp;in&amp;nbsp;the&amp;nbsp;old&amp;nbsp;generation.&amp;nbsp;Young&amp;nbsp;generation&amp;nbsp;in&amp;nbsp;HotSpot&amp;nbsp;is&amp;nbsp;considered&amp;nbsp;a&amp;nbsp;copy&amp;nbsp;collector;&lt;br&gt;
therefore,&amp;nbsp;there&amp;nbsp;is&amp;nbsp;no&amp;nbsp;need&amp;nbsp;for&amp;nbsp;compaction.&lt;br&gt;
&lt;br&gt;
------------------------------------------------------------------------------------------------------------------------------&lt;br&gt;
The&amp;nbsp;Concurrent&amp;nbsp;Mark&amp;nbsp;Sweep&amp;nbsp;(CMS)&amp;nbsp;Collector&lt;br&gt;
&lt;br&gt;
The&amp;nbsp;Concurrent&amp;nbsp;Mark&amp;nbsp;Sweep&amp;nbsp;(CMS)&amp;nbsp;collector&amp;nbsp;(also&amp;nbsp;referred&amp;nbsp;to&amp;nbsp;as&amp;nbsp;the&amp;nbsp;concurrent&amp;nbsp;low&amp;nbsp;pause&amp;nbsp;collector)&lt;br&gt;
collects&amp;nbsp;the&amp;nbsp;tenured&amp;nbsp;generation.&amp;nbsp;It&amp;nbsp;attempts&amp;nbsp;to&amp;nbsp;minimize&amp;nbsp;the&amp;nbsp;pauses&amp;nbsp;due&amp;nbsp;to&amp;nbsp;garbage&amp;nbsp;collection&amp;nbsp;by&amp;nbsp;doing&lt;br&gt;
most&amp;nbsp;of&amp;nbsp;the&amp;nbsp;garbage&amp;nbsp;collection&amp;nbsp;work&amp;nbsp;concurrently&amp;nbsp;with&amp;nbsp;the&amp;nbsp;application&amp;nbsp;threads.&amp;nbsp;Normally&amp;nbsp;the&amp;nbsp;concurrent&amp;nbsp;low&lt;br&gt;
pause&amp;nbsp;collector&amp;nbsp;does&amp;nbsp;not&amp;nbsp;copy&amp;nbsp;or&amp;nbsp;compact&amp;nbsp;the&amp;nbsp;live&amp;nbsp;objects.&amp;nbsp;A&amp;nbsp;garbage&amp;nbsp;collection&amp;nbsp;is&amp;nbsp;done&amp;nbsp;without&amp;nbsp;moving&amp;nbsp;the&amp;nbsp;live&lt;br&gt;
objects.&amp;nbsp;If&amp;nbsp;fragmentation&amp;nbsp;becomes&amp;nbsp;a&amp;nbsp;problem,&amp;nbsp;allocate&amp;nbsp;a&amp;nbsp;larger&amp;nbsp;heap.&lt;br&gt;
&lt;br&gt;
Note:&amp;nbsp;CMS&amp;nbsp;collector&amp;nbsp;on&amp;nbsp;young&amp;nbsp;generation&amp;nbsp;uses&amp;nbsp;the&amp;nbsp;same&amp;nbsp;algorithm&amp;nbsp;as&amp;nbsp;that&amp;nbsp;of&amp;nbsp;the&amp;nbsp;parallel&amp;nbsp;collector.&lt;br&gt;
&lt;br&gt;
&amp;nbsp;the&amp;nbsp;Concurrent&amp;nbsp;Mark-Sweep&amp;nbsp;GC&amp;nbsp;is&amp;nbsp;much&amp;nbsp;more&amp;nbsp;complicated&amp;nbsp;than&amp;nbsp;any&amp;nbsp;other&amp;nbsp;GC&amp;nbsp;types&amp;nbsp;that&amp;nbsp;I&amp;nbsp;have&amp;nbsp;explained&amp;nbsp;so&amp;nbsp;far.&lt;br&gt;
The&amp;nbsp;early&amp;nbsp;initial&amp;nbsp;mark&amp;nbsp;step&amp;nbsp;is&amp;nbsp;simple.&amp;nbsp;The&amp;nbsp;surviving&amp;nbsp;objects&amp;nbsp;among&amp;nbsp;the&amp;nbsp;objects&amp;nbsp;the&amp;nbsp;closest&amp;nbsp;to&amp;nbsp;the&amp;nbsp;classloader&amp;nbsp;are&lt;br&gt;
searched.&amp;nbsp;So,&amp;nbsp;the&amp;nbsp;pausing&amp;nbsp;time&amp;nbsp;is&amp;nbsp;very&amp;nbsp;short.&amp;nbsp;In&amp;nbsp;the&amp;nbsp;concurrent&amp;nbsp;mark&amp;nbsp;step,&amp;nbsp;the&amp;nbsp;objects&amp;nbsp;referenced&amp;nbsp;by&amp;nbsp;the&lt;br&gt;
surviving&amp;nbsp;objects&amp;nbsp;that&amp;nbsp;have&amp;nbsp;just&amp;nbsp;been&amp;nbsp;confirmed&amp;nbsp;are&amp;nbsp;tracked&amp;nbsp;and&amp;nbsp;checked.&amp;nbsp;The&amp;nbsp;difference&amp;nbsp;of&amp;nbsp;this&amp;nbsp;step&amp;nbsp;is&amp;nbsp;that&lt;br&gt;
it&amp;nbsp;proceeds&amp;nbsp;while&amp;nbsp;other&amp;nbsp;threads&amp;nbsp;are&amp;nbsp;processed&amp;nbsp;at&amp;nbsp;the&amp;nbsp;same&amp;nbsp;time.&amp;nbsp;In&amp;nbsp;the&amp;nbsp;remark&amp;nbsp;step,&amp;nbsp;the&amp;nbsp;objects&amp;nbsp;that&amp;nbsp;were&lt;br&gt;
newly&amp;nbsp;added&amp;nbsp;or&amp;nbsp;stopped&amp;nbsp;being&amp;nbsp;referenced&amp;nbsp;in&amp;nbsp;the&amp;nbsp;concurrent&amp;nbsp;mark&amp;nbsp;step&amp;nbsp;are&amp;nbsp;checked.&amp;nbsp;Lastly,&amp;nbsp;in&amp;nbsp;the&amp;nbsp;concurrent&lt;br&gt;
sweep&amp;nbsp;step,&amp;nbsp;the&amp;nbsp;garbage&amp;nbsp;collection&amp;nbsp;procedure&amp;nbsp;takes&amp;nbsp;place.&amp;nbsp;The&amp;nbsp;garbage&amp;nbsp;collection&amp;nbsp;is&amp;nbsp;carried&amp;nbsp;out&amp;nbsp;while&amp;nbsp;other&amp;nbsp;threads&lt;br&gt;
are&amp;nbsp;still&amp;nbsp;being&amp;nbsp;processed.&amp;nbsp;Since&amp;nbsp;this&amp;nbsp;GC&amp;nbsp;type&amp;nbsp;is&amp;nbsp;performed&amp;nbsp;in&amp;nbsp;this&amp;nbsp;manner,&amp;nbsp;the&amp;nbsp;pausing&amp;nbsp;time&amp;nbsp;for&amp;nbsp;GC&amp;nbsp;is&amp;nbsp;very&amp;nbsp;short.&lt;br&gt;
The&amp;nbsp;CMS&amp;nbsp;GC&amp;nbsp;is&amp;nbsp;also&amp;nbsp;called&amp;nbsp;the&amp;nbsp;low&amp;nbsp;latency&amp;nbsp;GC,&amp;nbsp;and&amp;nbsp;is&amp;nbsp;used&amp;nbsp;when&amp;nbsp;the&amp;nbsp;response&amp;nbsp;time&amp;nbsp;from&amp;nbsp;all&amp;nbsp;applications&amp;nbsp;is&amp;nbsp;crucial.&amp;nbsp;&lt;br&gt;
&lt;br&gt;
Command&amp;nbsp;Line&amp;nbsp;Switches&lt;br&gt;
&lt;br&gt;
To&amp;nbsp;enable&amp;nbsp;the&amp;nbsp;CMS&amp;nbsp;Collector&amp;nbsp;use:&lt;br&gt;
-XX:+UseConcMarkSweepGC&lt;br&gt;
&amp;nbsp;and&amp;nbsp;to&amp;nbsp;set&amp;nbsp;the&amp;nbsp;number&amp;nbsp;of&amp;nbsp;threads&amp;nbsp;use:&lt;br&gt;
-XX:ParallelCMSThreads=&lt;n&gt;&lt;br&gt;
&lt;br&gt;
------------------------------------------------------------------------------------------------------------------&lt;br&gt;
The&amp;nbsp;G1&amp;nbsp;Garbage&amp;nbsp;Collector&lt;br&gt;
&lt;br&gt;
The&amp;nbsp;Garbage&amp;nbsp;First&amp;nbsp;or&amp;nbsp;G1&amp;nbsp;garbage&amp;nbsp;collector&amp;nbsp;is&amp;nbsp;available&amp;nbsp;in&amp;nbsp;Java&amp;nbsp;7&amp;nbsp;and&amp;nbsp;is&amp;nbsp;designed&amp;nbsp;to&amp;nbsp;be&amp;nbsp;the&amp;nbsp;long&lt;br&gt;
term&amp;nbsp;REPLACEMENT&amp;nbsp;for&amp;nbsp;the&amp;nbsp;CMS&amp;nbsp;collector.&amp;nbsp;The&amp;nbsp;G1&amp;nbsp;collector&amp;nbsp;is&amp;nbsp;a&amp;nbsp;parallel,&amp;nbsp;concurrent,&amp;nbsp;and&amp;nbsp;incrementally&amp;nbsp;compacting&lt;br&gt;
low-pause&amp;nbsp;garbage&amp;nbsp;collector&amp;nbsp;that&amp;nbsp;has&amp;nbsp;quite&amp;nbsp;a&amp;nbsp;different&amp;nbsp;layout&amp;nbsp;from&amp;nbsp;the&amp;nbsp;other&amp;nbsp;garbage&amp;nbsp;collectors&amp;nbsp;described&amp;nbsp;previously.&lt;br&gt;
However,&amp;nbsp;detailed&amp;nbsp;discussion&amp;nbsp;is&amp;nbsp;beyond&amp;nbsp;the&amp;nbsp;scope&amp;nbsp;of&amp;nbsp;this&amp;nbsp;OBE.&lt;br&gt;
&lt;br&gt;
Command&amp;nbsp;Line&amp;nbsp;Switches&lt;br&gt;
&lt;br&gt;
To&amp;nbsp;enable&amp;nbsp;the&amp;nbsp;G1&amp;nbsp;Collector&amp;nbsp;use:&lt;br&gt;
-XX:+UseG1GC&lt;br&gt;
&lt;br&gt;
!!!!!!!!!!!!!&lt;br&gt;
If&amp;nbsp;you&amp;nbsp;want&amp;nbsp;to&amp;nbsp;understand&amp;nbsp;G1&amp;nbsp;GC,&amp;nbsp;forget&amp;nbsp;everything&amp;nbsp;you&amp;nbsp;know&amp;nbsp;about&amp;nbsp;the&amp;nbsp;young&amp;nbsp;generation&amp;nbsp;and&amp;nbsp;the&amp;nbsp;old&lt;br&gt;
generation.&amp;nbsp;As&amp;nbsp;you&amp;nbsp;can&amp;nbsp;see&amp;nbsp;in&amp;nbsp;the&amp;nbsp;picture,&amp;nbsp;one&amp;nbsp;object&amp;nbsp;is&amp;nbsp;allocated&amp;nbsp;to&amp;nbsp;each&amp;nbsp;grid,&amp;nbsp;and&amp;nbsp;then&amp;nbsp;a&amp;nbsp;GC&amp;nbsp;is&amp;nbsp;executed.&lt;br&gt;
Then,&amp;nbsp;once&amp;nbsp;one&amp;nbsp;area&amp;nbsp;is&amp;nbsp;full,&amp;nbsp;the&amp;nbsp;objects&amp;nbsp;are&amp;nbsp;allocated&amp;nbsp;to&amp;nbsp;another&amp;nbsp;area,&amp;nbsp;and&amp;nbsp;then&amp;nbsp;a&amp;nbsp;GC&amp;nbsp;is&amp;nbsp;executed.&amp;nbsp;The&amp;nbsp;steps&lt;br&gt;
where&amp;nbsp;the&amp;nbsp;data&amp;nbsp;moves&amp;nbsp;from&amp;nbsp;the&amp;nbsp;three&amp;nbsp;spaces&amp;nbsp;of&amp;nbsp;the&amp;nbsp;young&amp;nbsp;generation&amp;nbsp;to&amp;nbsp;the&amp;nbsp;old&amp;nbsp;generation&amp;nbsp;cannot&amp;nbsp;be&amp;nbsp;found&amp;nbsp;in&lt;br&gt;
this&amp;nbsp;GC&amp;nbsp;type.&amp;nbsp;This&amp;nbsp;type&amp;nbsp;was&amp;nbsp;created&amp;nbsp;to&amp;nbsp;replace&amp;nbsp;the&amp;nbsp;CMS&amp;nbsp;GC,&amp;nbsp;which&amp;nbsp;has&amp;nbsp;causes&amp;nbsp;a&amp;nbsp;lot&amp;nbsp;of&amp;nbsp;issues&amp;nbsp;and&amp;nbsp;complaints&amp;nbsp;in&lt;br&gt;
the&amp;nbsp;long&amp;nbsp;term.&lt;br&gt;
&lt;br&gt;
The&amp;nbsp;biggest&amp;nbsp;advantage&amp;nbsp;of&amp;nbsp;the&amp;nbsp;G1&amp;nbsp;GC&amp;nbsp;is&amp;nbsp;its&amp;nbsp;performance.&amp;nbsp;It&amp;nbsp;is&amp;nbsp;faster&amp;nbsp;than&amp;nbsp;any&amp;nbsp;other&amp;nbsp;GC&amp;nbsp;types&amp;nbsp;that&amp;nbsp;we&amp;nbsp;have&lt;br&gt;
discussed&amp;nbsp;so&amp;nbsp;far.&amp;nbsp;But&amp;nbsp;in&amp;nbsp;JDK&amp;nbsp;6,&amp;nbsp;this&amp;nbsp;is&amp;nbsp;called&amp;nbsp;an&amp;nbsp;early&amp;nbsp;access&amp;nbsp;and&amp;nbsp;can&amp;nbsp;be&amp;nbsp;used&amp;nbsp;only&amp;nbsp;for&amp;nbsp;a&amp;nbsp;test.&amp;nbsp;It&amp;nbsp;is&amp;nbsp;officially&amp;nbsp;included&lt;br&gt;
in&amp;nbsp;JDK&amp;nbsp;7.&amp;nbsp;In&amp;nbsp;my&amp;nbsp;personal&amp;nbsp;opinion,&amp;nbsp;we&amp;nbsp;need&amp;nbsp;to&amp;nbsp;go&amp;nbsp;through&amp;nbsp;a&amp;nbsp;long&amp;nbsp;test&amp;nbsp;period&amp;nbsp;(at&amp;nbsp;least&amp;nbsp;1&amp;nbsp;year)&amp;nbsp;before&amp;nbsp;NHN&amp;nbsp;can&amp;nbsp;use&lt;br&gt;
JDK7&amp;nbsp;in&amp;nbsp;actual&amp;nbsp;services,&amp;nbsp;so&amp;nbsp;you&amp;nbsp;probably&amp;nbsp;should&amp;nbsp;wait&amp;nbsp;a&amp;nbsp;while.&amp;nbsp;Also,&amp;nbsp;I&amp;nbsp;heard&amp;nbsp;a&amp;nbsp;few&amp;nbsp;times&amp;nbsp;that&amp;nbsp;a&amp;nbsp;JVM&amp;nbsp;crash&amp;nbsp;occurred&lt;br&gt;
after&amp;nbsp;applying&amp;nbsp;the&amp;nbsp;G1&amp;nbsp;in&amp;nbsp;JDK&amp;nbsp;6.&amp;nbsp;Please&amp;nbsp;wait&amp;nbsp;until&amp;nbsp;it&amp;nbsp;is&amp;nbsp;more&amp;nbsp;stable.&lt;br&gt;
============================================================&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;JVM&amp;nbsp;options&amp;nbsp;related&amp;nbsp;to&amp;nbsp;GC&amp;nbsp;&lt;br&gt;
&lt;br&gt;
The&amp;nbsp;Young&amp;nbsp;Generation&lt;br&gt;
&lt;br&gt;
The&amp;nbsp;second&amp;nbsp;most&amp;nbsp;influential&amp;nbsp;knob&amp;nbsp;is&amp;nbsp;the&amp;nbsp;proportion&amp;nbsp;of&amp;nbsp;the&amp;nbsp;heap&amp;nbsp;dedicated&amp;nbsp;to&amp;nbsp;the&amp;nbsp;young&amp;nbsp;generation.&amp;nbsp;The&amp;nbsp;bigger&amp;nbsp;the&amp;nbsp;young&lt;br&gt;
generation,&amp;nbsp;the&amp;nbsp;less&amp;nbsp;often&amp;nbsp;minor&amp;nbsp;collections&amp;nbsp;occur.&amp;nbsp;However,&amp;nbsp;for&amp;nbsp;a&amp;nbsp;bounded&amp;nbsp;heap&amp;nbsp;size&amp;nbsp;a&amp;nbsp;larger&amp;nbsp;young&amp;nbsp;generation&lt;br&gt;
implies&amp;nbsp;a&amp;nbsp;smaller&amp;nbsp;tenured&amp;nbsp;generation,&amp;nbsp;which&amp;nbsp;will&amp;nbsp;increase&amp;nbsp;the&amp;nbsp;frequency&amp;nbsp;of&amp;nbsp;major&amp;nbsp;collections.&amp;nbsp;The&amp;nbsp;optimal&amp;nbsp;choice&amp;nbsp;depends&lt;br&gt;
on&amp;nbsp;the&amp;nbsp;lifetime&amp;nbsp;distribution&amp;nbsp;of&amp;nbsp;the&amp;nbsp;objects&amp;nbsp;allocated&amp;nbsp;by&amp;nbsp;the&amp;nbsp;application.&lt;br&gt;
&lt;br&gt;
By&amp;nbsp;default,&amp;nbsp;the&amp;nbsp;young&amp;nbsp;generation&amp;nbsp;size&amp;nbsp;is&amp;nbsp;controlled&amp;nbsp;by&amp;nbsp;NewRatio.&amp;nbsp;For&amp;nbsp;example,&amp;nbsp;setting&amp;nbsp;&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;-XX:NewRatio=3&amp;nbsp;&lt;br&gt;
means&amp;nbsp;that&amp;nbsp;the&amp;nbsp;ratio&lt;br&gt;
between&amp;nbsp;the&amp;nbsp;young&amp;nbsp;and&amp;nbsp;tenured&amp;nbsp;generation&amp;nbsp;is&amp;nbsp;1:3.&amp;nbsp;In&amp;nbsp;other&amp;nbsp;words,&amp;nbsp;the&amp;nbsp;combined&amp;nbsp;size&amp;nbsp;of&amp;nbsp;the&amp;nbsp;eden&amp;nbsp;and&lt;br&gt;
survivor&amp;nbsp;spaces&amp;nbsp;will&amp;nbsp;be&amp;nbsp;one&amp;nbsp;fourth&amp;nbsp;of&amp;nbsp;the&amp;nbsp;total&amp;nbsp;heap&amp;nbsp;size.&lt;br&gt;
&lt;br&gt;
The&amp;nbsp;parameters&amp;nbsp;NewSize&amp;nbsp;and&amp;nbsp;MaxNewSize&amp;nbsp;bound&amp;nbsp;the&amp;nbsp;young&amp;nbsp;generation&amp;nbsp;size&amp;nbsp;from&amp;nbsp;below&amp;nbsp;and&amp;nbsp;above.&amp;nbsp;Setting&amp;nbsp;these&lt;br&gt;
to&amp;nbsp;the&amp;nbsp;same&amp;nbsp;value&amp;nbsp;fixes&amp;nbsp;the&amp;nbsp;young&amp;nbsp;generation,&amp;nbsp;just&amp;nbsp;as&amp;nbsp;setting&amp;nbsp;-Xms&amp;nbsp;and&amp;nbsp;-Xmx&amp;nbsp;to&amp;nbsp;the&amp;nbsp;same&amp;nbsp;value&amp;nbsp;fixes&amp;nbsp;the&amp;nbsp;total&amp;nbsp;heap&lt;br&gt;
size.&amp;nbsp;This&amp;nbsp;is&amp;nbsp;useful&amp;nbsp;for&amp;nbsp;tuning&amp;nbsp;the&amp;nbsp;young&amp;nbsp;generation&amp;nbsp;at&amp;nbsp;a&amp;nbsp;finer&amp;nbsp;granularity&amp;nbsp;than&amp;nbsp;the&amp;nbsp;integral&amp;nbsp;multiples&amp;nbsp;allowed&amp;nbsp;by&amp;nbsp;NewRatio.&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
Survivor&amp;nbsp;Space&amp;nbsp;Sizing&lt;br&gt;
&lt;br&gt;
If&amp;nbsp;desired,&amp;nbsp;the&amp;nbsp;parameter&amp;nbsp;SurvivorRatio&amp;nbsp;can&amp;nbsp;be&amp;nbsp;used&amp;nbsp;to&amp;nbsp;tune&amp;nbsp;the&amp;nbsp;size&amp;nbsp;of&amp;nbsp;the&amp;nbsp;survivor&amp;nbsp;spaces,&amp;nbsp;but&amp;nbsp;this&amp;nbsp;is&amp;nbsp;often&amp;nbsp;not&lt;br&gt;
as&amp;nbsp;important&amp;nbsp;for&amp;nbsp;performance.&amp;nbsp;For&amp;nbsp;example,&amp;nbsp;-XX:SurvivorRatio=6&amp;nbsp;sets&amp;nbsp;the&amp;nbsp;ratio&amp;nbsp;between&amp;nbsp;eden&amp;nbsp;and&amp;nbsp;a&amp;nbsp;survivor&amp;nbsp;space&amp;nbsp;to&amp;nbsp;1:6.&lt;br&gt;
In&amp;nbsp;other&amp;nbsp;words,&amp;nbsp;each&amp;nbsp;survivor&amp;nbsp;space&amp;nbsp;will&amp;nbsp;be&amp;nbsp;one&amp;nbsp;sixth&amp;nbsp;the&amp;nbsp;size&amp;nbsp;of&amp;nbsp;eden,&amp;nbsp;and&amp;nbsp;thus&amp;nbsp;one&amp;nbsp;eighth&amp;nbsp;the&amp;nbsp;size&amp;nbsp;of&amp;nbsp;the&amp;nbsp;young&lt;br&gt;
generation&amp;nbsp;(not&amp;nbsp;one&amp;nbsp;seventh,&amp;nbsp;because&amp;nbsp;there&amp;nbsp;are&amp;nbsp;two&amp;nbsp;survivor&amp;nbsp;spaces).&lt;br&gt;
&lt;br&gt;
Default&amp;nbsp;Value&amp;nbsp;&lt;br&gt;
Parameter&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Client&amp;nbsp;JVM&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Server&amp;nbsp;JVM&amp;nbsp;&lt;br&gt;
NewRatio&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;8&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2&lt;br&gt;
NewSize&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2228K&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2228K&lt;br&gt;
MaxNewSize&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;not&amp;nbsp;limited&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;not&amp;nbsp;limited&lt;br&gt;
SurvivorRatio&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;32&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;32&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
-XX:NewRatio=n&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Ratio&amp;nbsp;of&amp;nbsp;old/new&amp;nbsp;generation&amp;nbsp;sizes.&amp;nbsp;The&amp;nbsp;default&amp;nbsp;value&amp;nbsp;is&amp;nbsp;2.&lt;br&gt;
-XX:SurvivorRatio=n&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Ratio&amp;nbsp;of&amp;nbsp;eden/survivor&amp;nbsp;space&amp;nbsp;size.&amp;nbsp;The&amp;nbsp;default&amp;nbsp;value&amp;nbsp;is&amp;nbsp;8.&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
-XX:+PrintGCTimeStamps,&amp;nbsp;-XX:+PrintGCDetails&amp;nbsp;&amp;nbsp;-Xloggc:gc.log&amp;nbsp;&amp;nbsp;-&amp;nbsp;get&amp;nbsp;info&amp;nbsp;about&amp;nbsp;GC.&lt;br&gt;
===================================================================&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;MaxTenuringThreshold&amp;nbsp;-&amp;nbsp;how&amp;nbsp;exactly&amp;nbsp;it&amp;nbsp;works?&lt;br&gt;
&lt;br&gt;
Each&amp;nbsp;object&amp;nbsp;in&amp;nbsp;Java&amp;nbsp;heap&amp;nbsp;has&amp;nbsp;a&amp;nbsp;header&amp;nbsp;which&amp;nbsp;is&amp;nbsp;used&amp;nbsp;by&amp;nbsp;GC&amp;nbsp;algorithm.&amp;nbsp;Young&amp;nbsp;space&amp;nbsp;collector&amp;nbsp;(which&amp;nbsp;is&amp;nbsp;responsible&lt;br&gt;
for&amp;nbsp;object&amp;nbsp;promotion)&amp;nbsp;uses&amp;nbsp;few&amp;nbsp;bit(s)&amp;nbsp;of&amp;nbsp;this&amp;nbsp;header&amp;nbsp;to&amp;nbsp;track&amp;nbsp;number&amp;nbsp;of&amp;nbsp;collections&amp;nbsp;object&amp;nbsp;has&amp;nbsp;survived&lt;br&gt;
(32bit&amp;nbsp;JVM&amp;nbsp;use&amp;nbsp;4&amp;nbsp;bits&amp;nbsp;for&amp;nbsp;this,&amp;nbsp;64bit&amp;nbsp;probably&amp;nbsp;some&amp;nbsp;more).&lt;br&gt;
&lt;br&gt;
During&amp;nbsp;young&amp;nbsp;space&amp;nbsp;collection,&amp;nbsp;every&amp;nbsp;single&amp;nbsp;object&amp;nbsp;is&amp;nbsp;copied.&amp;nbsp;Object&amp;nbsp;may&amp;nbsp;be&amp;nbsp;copied&amp;nbsp;to&amp;nbsp;one&amp;nbsp;of&amp;nbsp;survival&amp;nbsp;spaces&amp;nbsp;(one&lt;br&gt;
which&amp;nbsp;is&amp;nbsp;empty&amp;nbsp;before&amp;nbsp;young&amp;nbsp;GC)&amp;nbsp;or&amp;nbsp;to&amp;nbsp;the&amp;nbsp;old&amp;nbsp;space.&amp;nbsp;For&amp;nbsp;each&amp;nbsp;object&amp;nbsp;being&amp;nbsp;copied,&amp;nbsp;GC&amp;nbsp;algorithm&amp;nbsp;increases&lt;br&gt;
it's&amp;nbsp;age&amp;nbsp;(number&amp;nbsp;of&amp;nbsp;collection&amp;nbsp;survived)&amp;nbsp;and&amp;nbsp;if&amp;nbsp;age&amp;nbsp;above&amp;nbsp;current&amp;nbsp;tenuring&amp;nbsp;threshold&amp;nbsp;it&amp;nbsp;would&amp;nbsp;be&amp;nbsp;copied&amp;nbsp;(promoted)&lt;br&gt;
to&amp;nbsp;old&amp;nbsp;space.&amp;nbsp;Object&amp;nbsp;also&amp;nbsp;cloud&amp;nbsp;be&amp;nbsp;copied&amp;nbsp;to&amp;nbsp;old&amp;nbsp;space&amp;nbsp;directly&amp;nbsp;if&amp;nbsp;survival&amp;nbsp;space&amp;nbsp;gets&amp;nbsp;full&amp;nbsp;(overflow).&lt;br&gt;
&lt;br&gt;
Journey&amp;nbsp;of&amp;nbsp;object&amp;nbsp;has&amp;nbsp;following&amp;nbsp;pattern:&lt;br&gt;
-&amp;nbsp;allocated&amp;nbsp;in&amp;nbsp;eden&lt;br&gt;
-&amp;nbsp;copied&amp;nbsp;from&amp;nbsp;eden&amp;nbsp;to&amp;nbsp;survival&amp;nbsp;space&amp;nbsp;due&amp;nbsp;to&amp;nbsp;young&amp;nbsp;GC&lt;br&gt;
-&amp;nbsp;copied&amp;nbsp;from&amp;nbsp;survival&amp;nbsp;to&amp;nbsp;(other)&amp;nbsp;survival&amp;nbsp;space&amp;nbsp;due&amp;nbsp;to&amp;nbsp;young&amp;nbsp;GC&amp;nbsp;(this&amp;nbsp;could&amp;nbsp;happen&amp;nbsp;few&amp;nbsp;times)&lt;br&gt;
-&amp;nbsp;promoted&amp;nbsp;from&amp;nbsp;survival&amp;nbsp;(or&amp;nbsp;possible&amp;nbsp;eden)&amp;nbsp;to&amp;nbsp;old&amp;nbsp;space&amp;nbsp;due&amp;nbsp;to&amp;nbsp;young&amp;nbsp;GC&amp;nbsp;(or&amp;nbsp;full&amp;nbsp;GC)&lt;br&gt;
&lt;br&gt;
Actual&amp;nbsp;tenuring&amp;nbsp;threshold&amp;nbsp;is&amp;nbsp;dynamically&amp;nbsp;adjusted&amp;nbsp;by&amp;nbsp;JVM,&amp;nbsp;but&amp;nbsp;MaxTenuringThreshold&amp;nbsp;sets&amp;nbsp;an&amp;nbsp;upper&amp;nbsp;limit&amp;nbsp;on&amp;nbsp;it.&lt;br&gt;
&lt;br&gt;
If&amp;nbsp;you&amp;nbsp;set&amp;nbsp;MaxTenuringThreshold=0,&amp;nbsp;all&amp;nbsp;objects&amp;nbsp;will&amp;nbsp;be&amp;nbsp;promoted&amp;nbsp;immediately.&lt;br&gt;</questionanswer>
  </question>
</questions>
