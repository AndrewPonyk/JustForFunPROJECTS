<?xml version="1.0" encoding="UTF-8"?>
<questions id="1_0_1_7_10_4" name="7Reading_Properties_File_in_Spring" nofquestions="1" nofsubcategories="0" filename="7reading_properties_file_in_spring1_0_1_7_10_4.xml">
  <question id="1_0_1_7_10_4:0" type="2">
    <questiontext>&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;How&amp;nbsp;to&amp;nbsp;configure&amp;nbsp;spring&amp;nbsp;app&amp;nbsp;using&amp;nbsp;property&amp;nbsp;files&amp;nbsp;?&lt;br&gt;
(tip&amp;nbsp;PropertySourcesPlaceholderConfigurer&amp;nbsp;bean,&amp;nbsp;PropertySource&amp;nbsp;annotation)&lt;br&gt;
&amp;nbsp;&amp;nbsp;</questiontext>
    <questionanswer>Steps&amp;nbsp;to&amp;nbsp;config&amp;nbsp;spring&amp;nbsp;app&amp;nbsp;using&amp;nbsp;'app.properties'&amp;nbsp;file&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;-&amp;nbsp;create&amp;nbsp;app.properties&amp;nbsp;with&amp;nbsp;some&amp;nbsp;key-value&amp;nbsp;pairs&amp;nbsp;(put&amp;nbsp;this&amp;nbsp;file&amp;nbsp;in&amp;nbsp;classpath)&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;-&amp;nbsp;Add&amp;nbsp;@PropertySource("app.properties")&amp;nbsp;to&amp;nbsp;config&amp;nbsp;class&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;-&amp;nbsp;&amp;nbsp;Add&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;@Bean&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public&amp;nbsp;static&amp;nbsp;PropertySourcesPlaceholderConfigurer&amp;nbsp;getPropertySourcesPlaceholderConfigurer(){&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;new&amp;nbsp;PropertySourcesPlaceholderConfigurer();&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;to&amp;nbsp;config&amp;nbsp;class&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;-&amp;nbsp;Use&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;@Value("${key1}")&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;private&amp;nbsp;String&amp;nbsp;configuredValue;&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;in&amp;nbsp;your&amp;nbsp;beans&amp;nbsp;&lt;br&gt;
&lt;br&gt;
===========================================&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Full&amp;nbsp;example&amp;nbsp;:&amp;nbsp;&lt;br&gt;
1)&amp;nbsp;Configuration&amp;nbsp;java&lt;br&gt;
import&amp;nbsp;org.springframework.context.annotation.Bean;&lt;br&gt;
import&amp;nbsp;org.springframework.context.annotation.ComponentScan;&lt;br&gt;
import&amp;nbsp;org.springframework.context.annotation.Configuration;&lt;br&gt;
import&amp;nbsp;org.springframework.context.annotation.PropertySource;&lt;br&gt;
import&amp;nbsp;org.springframework.context.support.PropertySourcesPlaceholderConfigurer;&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
@Configuration&lt;br&gt;
@ComponentScan(basePackages&amp;nbsp;=&amp;nbsp;{"com.pluralsight"})&lt;br&gt;
@PropertySource("app.properties")&lt;br&gt;
public&amp;nbsp;class&amp;nbsp;Appconfig&amp;nbsp;{&lt;br&gt;
&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;@Bean&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public&amp;nbsp;static&amp;nbsp;PropertySourcesPlaceholderConfigurer&amp;nbsp;getPropertySourcesPlaceholderConfigurer(){&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;new&amp;nbsp;PropertySourcesPlaceholderConfigurer();&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br&gt;
}&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
2)&amp;nbsp;Beans&amp;nbsp;&lt;br&gt;
package&amp;nbsp;com.pluralsight.repository;&lt;br&gt;
&lt;br&gt;
import&amp;nbsp;com.pluralsight.model.Customer;&lt;br&gt;
&lt;br&gt;
import&amp;nbsp;java.util.List;&lt;br&gt;
&lt;br&gt;
public&amp;nbsp;interface&amp;nbsp;CustomerRepository&amp;nbsp;{&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public&amp;nbsp;List&lt;Customer&gt;&amp;nbsp;findAll();&lt;br&gt;
}&lt;br&gt;
&lt;br&gt;
package&amp;nbsp;com.pluralsight.repository;&lt;br&gt;
&lt;br&gt;
import&amp;nbsp;com.pluralsight.model.Customer;&lt;br&gt;
import&amp;nbsp;org.springframework.stereotype.Repository;&lt;br&gt;
&lt;br&gt;
import&amp;nbsp;java.util.ArrayList;&lt;br&gt;
import&amp;nbsp;java.util.List;&lt;br&gt;
&lt;br&gt;
@Repository("customerRepository")&lt;br&gt;
public&amp;nbsp;class&amp;nbsp;HibernateCustomerRepositoryImpl&amp;nbsp;implements&amp;nbsp;CustomerRepository&amp;nbsp;{&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public&amp;nbsp;List&lt;Customer&gt;&amp;nbsp;findAll(){&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;List&lt;Customer&gt;&amp;nbsp;customers&amp;nbsp;=&amp;nbsp;new&amp;nbsp;ArrayList&lt;&gt;();&lt;br&gt;
&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Customer&amp;nbsp;customer&amp;nbsp;=&amp;nbsp;new&amp;nbsp;Customer();&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;customer.setFirstName("Bryan");&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;customer.setLastName("Hansen");&lt;br&gt;
&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;customers.add(customer);&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;customers;&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br&gt;
}&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
package&amp;nbsp;com.pluralsight.service;&lt;br&gt;
&lt;br&gt;
import&amp;nbsp;com.pluralsight.model.Customer;&lt;br&gt;
&lt;br&gt;
import&amp;nbsp;java.util.List;&lt;br&gt;
&lt;br&gt;
public&amp;nbsp;interface&amp;nbsp;CustomerService&amp;nbsp;{&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;List&lt;Customer&gt;&amp;nbsp;findAll();&lt;br&gt;
}&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
package&amp;nbsp;com.pluralsight.service;&lt;br&gt;
&lt;br&gt;
import&amp;nbsp;com.pluralsight.model.Customer;&lt;br&gt;
import&amp;nbsp;com.pluralsight.repository.CustomerRepository;&lt;br&gt;
import&amp;nbsp;org.springframework.beans.factory.annotation.Autowired;&lt;br&gt;
import&amp;nbsp;org.springframework.beans.factory.annotation.Value;&lt;br&gt;
import&amp;nbsp;org.springframework.stereotype.Service;&lt;br&gt;
&lt;br&gt;
import&amp;nbsp;java.util.List;&lt;br&gt;
&lt;br&gt;
@Service("customerService")&lt;br&gt;
public&amp;nbsp;class&amp;nbsp;CustomerServiceImpl&amp;nbsp;implements&amp;nbsp;CustomerService&amp;nbsp;{&lt;br&gt;
&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;@Autowired&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;private&amp;nbsp;CustomerRepository&amp;nbsp;customerRepository;&lt;br&gt;
&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;@Value("${key1}")&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;private&amp;nbsp;String&amp;nbsp;configuredValue;&lt;br&gt;
&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;@Override&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public&amp;nbsp;List&lt;Customer&gt;&amp;nbsp;findAll(){&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;System.out.println("Value&amp;nbsp;from&amp;nbsp;app.properties:"&amp;nbsp;+&amp;nbsp;configuredValue);&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;customerRepository.findAll();&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br&gt;
&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public&amp;nbsp;void&amp;nbsp;setCustomerRepository(CustomerRepository&amp;nbsp;customerRepository)&amp;nbsp;{&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;this.customerRepository&amp;nbsp;=&amp;nbsp;customerRepository;&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br&gt;
&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public&amp;nbsp;CustomerRepository&amp;nbsp;getCustomerRepository(CustomerRepository&amp;nbsp;customerRepository)&amp;nbsp;{&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;this.customerRepository&amp;nbsp;;&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br&gt;
}&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
3)&amp;nbsp;Client&amp;nbsp;class&lt;br&gt;
&lt;br&gt;
import&amp;nbsp;com.pluralsight.service.CustomerService;&lt;br&gt;
import&amp;nbsp;org.springframework.context.ApplicationContext;&lt;br&gt;
import&amp;nbsp;org.springframework.context.annotation.AnnotationConfigApplicationContext;&lt;br&gt;
&lt;br&gt;
/**&lt;br&gt;
&amp;nbsp;*&amp;nbsp;Created&amp;nbsp;by&amp;nbsp;andrii&amp;nbsp;on&amp;nbsp;23.10.16.&lt;br&gt;
&amp;nbsp;*/&lt;br&gt;
public&amp;nbsp;class&amp;nbsp;Main&amp;nbsp;{&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public&amp;nbsp;static&amp;nbsp;void&amp;nbsp;main(String[]&amp;nbsp;args)&amp;nbsp;{&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ApplicationContext&amp;nbsp;applicationContext&amp;nbsp;=&amp;nbsp;new&amp;nbsp;AnnotationConfigApplicationContext(Appconfig.class);&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;CustomerService&amp;nbsp;customerService&amp;nbsp;=&amp;nbsp;applicationContext.getBean("customerService",&amp;nbsp;CustomerService.class);&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;System.out.println(customerService.findAll());&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br&gt;
}&lt;br&gt;</questionanswer>
  </question>
</questions>
