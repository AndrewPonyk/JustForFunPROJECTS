<?xml version="1.0" encoding="UTF-8"?>
<questions id="0_1_2_0_6" name="chap7_TriggersAndEvents" nofquestions="3" nofsubcategories="0" filename="chap7_triggersandevents0_1_2_0_6.xml">
  <question id="0_1_2_0_6:0" type="2">
    <questiontext>&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;What&amp;nbsp;is&amp;nbsp;Trigger&amp;nbsp;?&amp;nbsp;&lt;br&gt;
Describe&amp;nbsp;triggers&amp;nbsp;usage&amp;nbsp;in&amp;nbsp;MySQL.&lt;br&gt;
&amp;nbsp;&amp;nbsp;</questiontext>
    <questionanswer>A&amp;nbsp;trigger,&amp;nbsp;as&amp;nbsp;the&amp;nbsp;name&amp;nbsp;suggests,&amp;nbsp;refers&amp;nbsp;to&amp;nbsp;one&amp;nbsp;or&amp;nbsp;more&amp;nbsp;SQL&amp;nbsp;statements&amp;nbsp;that&amp;nbsp;are&lt;br&gt;
automatically&amp;nbsp;executed&amp;nbsp;(“triggered”)&amp;nbsp;by&amp;nbsp;the&amp;nbsp;database&amp;nbsp;server&amp;nbsp;when&amp;nbsp;a&amp;nbsp;specific&amp;nbsp;event&lt;br&gt;
occurs.&amp;nbsp;Triggers&amp;nbsp;can&amp;nbsp;come&amp;nbsp;in&amp;nbsp;handy&amp;nbsp;when&amp;nbsp;automating&amp;nbsp;database&amp;nbsp;operations,&amp;nbsp;and&amp;nbsp;thereby&lt;br&gt;
reduce&amp;nbsp;some&amp;nbsp;of&amp;nbsp;the&amp;nbsp;load&amp;nbsp;carried&amp;nbsp;by&amp;nbsp;an&amp;nbsp;application.&amp;nbsp;Common&amp;nbsp;examples&amp;nbsp;of&amp;nbsp;triggers&amp;nbsp;in&amp;nbsp;use&lt;br&gt;
include:&lt;br&gt;
&lt;br&gt;
-&amp;nbsp;Logging&amp;nbsp;changes&amp;nbsp;in&amp;nbsp;data&lt;br&gt;
-&amp;nbsp;Creating&amp;nbsp;"snapshots"&amp;nbsp;of&amp;nbsp;data&amp;nbsp;prior&amp;nbsp;to&amp;nbsp;a&amp;nbsp;change&amp;nbsp;(for&amp;nbsp;undo&amp;nbsp;functionality)&lt;br&gt;
-&amp;nbsp;Performing&amp;nbsp;automatic&amp;nbsp;calculations&lt;br&gt;
-&amp;nbsp;Changing&amp;nbsp;data&amp;nbsp;in&amp;nbsp;one&amp;nbsp;table&amp;nbsp;in&amp;nbsp;response&amp;nbsp;to&amp;nbsp;a&amp;nbsp;change&amp;nbsp;in&amp;nbsp;another&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
A&amp;nbsp;trigger&amp;nbsp;is&amp;nbsp;always&amp;nbsp;associated&amp;nbsp;with&amp;nbsp;a&amp;nbsp;particular&amp;nbsp;table,&amp;nbsp;and&amp;nbsp;it&amp;nbsp;can&amp;nbsp;be&amp;nbsp;set&amp;nbsp;to&amp;nbsp;execute&lt;br&gt;
either&amp;nbsp;before&amp;nbsp;or&amp;nbsp;after&amp;nbsp;the&amp;nbsp;trigger&amp;nbsp;event&amp;nbsp;takes&amp;nbsp;place.&amp;nbsp;MySQL&amp;nbsp;currently&amp;nbsp;supports&amp;nbsp;three&lt;br&gt;
types&amp;nbsp;of&amp;nbsp;trigger&amp;nbsp;events:&amp;nbsp;INSERTs,&amp;nbsp;UPDATEs,&amp;nbsp;and&amp;nbsp;DELETEs.&lt;br&gt;
&lt;br&gt;
------------&lt;br&gt;
Note&amp;nbsp;To&amp;nbsp;create&amp;nbsp;a&amp;nbsp;trigger,&amp;nbsp;a&amp;nbsp;user&amp;nbsp;must&amp;nbsp;have&amp;nbsp;the&amp;nbsp;TRIGGER&amp;nbsp;privilege&amp;nbsp;(in&amp;nbsp;MySQL&amp;nbsp;5.1.6+)&amp;nbsp;or&amp;nbsp;the&lt;br&gt;
SUPER&amp;nbsp;privilege&amp;nbsp;(in&amp;nbsp;MySQL&amp;nbsp;5.0.x)&lt;br&gt;
-------------=====================================================&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;A&amp;nbsp;Simple&amp;nbsp;Trigger&lt;br&gt;
To&amp;nbsp;understand&amp;nbsp;how&amp;nbsp;triggers&amp;nbsp;work,&amp;nbsp;let’s&amp;nbsp;consider&amp;nbsp;a&amp;nbsp;simple&amp;nbsp;example:&amp;nbsp;logging&amp;nbsp;changes&amp;nbsp;to&lt;br&gt;
the&amp;nbsp;airline’s&amp;nbsp;flight&amp;nbsp;database.&amp;nbsp;Let’s&amp;nbsp;suppose&amp;nbsp;that&amp;nbsp;every&amp;nbsp;time&amp;nbsp;an&amp;nbsp;administrator&amp;nbsp;adds&amp;nbsp;a&amp;nbsp;new&lt;br&gt;
flight&amp;nbsp;to&amp;nbsp;the&amp;nbsp;database,&amp;nbsp;this&amp;nbsp;action&amp;nbsp;should&amp;nbsp;be&amp;nbsp;automatically&amp;nbsp;logged&amp;nbsp;to&amp;nbsp;a&amp;nbsp;separate&amp;nbsp;table,&lt;br&gt;
along&amp;nbsp;with&amp;nbsp;the&amp;nbsp;administrator’s&amp;nbsp;MySQL&amp;nbsp;username&amp;nbsp;and&amp;nbsp;the&amp;nbsp;current&amp;nbsp;time.&amp;nbsp;With&amp;nbsp;a&amp;nbsp;trigger,&lt;br&gt;
this&amp;nbsp;is&amp;nbsp;easy&amp;nbsp;to&amp;nbsp;do:&lt;br&gt;
&lt;br&gt;
mysql&gt;&amp;nbsp;CREATE&amp;nbsp;TRIGGER&amp;nbsp;flight_ai&lt;br&gt;
-&gt;&amp;nbsp;AFTER&amp;nbsp;INSERT&amp;nbsp;ON&amp;nbsp;flight&lt;br&gt;
-&gt;&amp;nbsp;FOR&amp;nbsp;EACH&amp;nbsp;ROW&lt;br&gt;
-&gt;&amp;nbsp;INSERT&amp;nbsp;INTO&amp;nbsp;log&amp;nbsp;(ByUser,&amp;nbsp;Note,&amp;nbsp;EventTime)&lt;br&gt;
-&gt;&amp;nbsp;VALUES&amp;nbsp;(CURRENT_USER(),&amp;nbsp;'Record&amp;nbsp;added:&amp;nbsp;flight',&amp;nbsp;NOW());&lt;br&gt;
Query&amp;nbsp;OK,&amp;nbsp;0&amp;nbsp;rows&amp;nbsp;affected&amp;nbsp;(0.04&amp;nbsp;sec)&lt;br&gt;
&lt;br&gt;
===========================================================&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Trigger&amp;nbsp;Security&lt;br&gt;
The&amp;nbsp;CREATE&amp;nbsp;TRIGGER&amp;nbsp;command&amp;nbsp;supports&amp;nbsp;an&amp;nbsp;additional&amp;nbsp;DEFINER&amp;nbsp;clause,&amp;nbsp;which&lt;br&gt;
specifies&amp;nbsp;the&amp;nbsp;user&amp;nbsp;account&amp;nbsp;whose&amp;nbsp;privileges&amp;nbsp;should&amp;nbsp;be&amp;nbsp;considered&amp;nbsp;when&amp;nbsp;executing&amp;nbsp;the&lt;br&gt;
trigger.&amp;nbsp;For&amp;nbsp;the&amp;nbsp;trigger&amp;nbsp;to&amp;nbsp;execute&amp;nbsp;successfully,&amp;nbsp;this&amp;nbsp;user&amp;nbsp;should&amp;nbsp;have&amp;nbsp;all&amp;nbsp;the&amp;nbsp;privileges&lt;br&gt;
necessary&amp;nbsp;to&amp;nbsp;perform&amp;nbsp;the&amp;nbsp;statements&amp;nbsp;listed&amp;nbsp;in&amp;nbsp;the&amp;nbsp;trigger&amp;nbsp;body.&amp;nbsp;By&amp;nbsp;default,&amp;nbsp;MySQL&amp;nbsp;sets&lt;br&gt;
the&amp;nbsp;DEFINER&amp;nbsp;value&amp;nbsp;to&amp;nbsp;the&amp;nbsp;user&amp;nbsp;who&amp;nbsp;created&amp;nbsp;the&amp;nbsp;trigger.&lt;br&gt;
Here’s&amp;nbsp;an&amp;nbsp;example:&lt;br&gt;
&lt;br&gt;
mysql&gt;&amp;nbsp;CREATE&amp;nbsp;DEFINER&amp;nbsp;=&amp;nbsp;'jack@example.com'&lt;br&gt;
-&gt;&amp;nbsp;TRIGGER&amp;nbsp;flight_ad&lt;br&gt;
-&gt;&amp;nbsp;AFTER&amp;nbsp;DELETE&amp;nbsp;ON&amp;nbsp;flight&lt;br&gt;
-&gt;&amp;nbsp;FOR&amp;nbsp;EACH&amp;nbsp;ROW&lt;br&gt;
-&gt;&amp;nbsp;INSERT&amp;nbsp;INTO&amp;nbsp;log&amp;nbsp;(ByUser,&amp;nbsp;Note,&amp;nbsp;EventTime)&lt;br&gt;
-&gt;&amp;nbsp;VALUES&amp;nbsp;(USER(),&amp;nbsp;'Record&amp;nbsp;deleted:&amp;nbsp;flight',&amp;nbsp;NOW());&lt;br&gt;
Query&amp;nbsp;OK,&amp;nbsp;0&amp;nbsp;rows&amp;nbsp;affected&amp;nbsp;(0.08&amp;nbsp;sec)&lt;br&gt;
&lt;br&gt;
===========================================================&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Triggers&amp;nbsp;and&amp;nbsp;Old/New&amp;nbsp;Values&lt;br&gt;
&lt;br&gt;
Within&amp;nbsp;the&amp;nbsp;body&amp;nbsp;of&amp;nbsp;a&amp;nbsp;trigger,&amp;nbsp;it’s&amp;nbsp;possible&amp;nbsp;to&amp;nbsp;reference&amp;nbsp;field&amp;nbsp;values&amp;nbsp;from&amp;nbsp;both&amp;nbsp;before&amp;nbsp;and&lt;br&gt;
after&amp;nbsp;the&amp;nbsp;trigger&amp;nbsp;event&amp;nbsp;by&amp;nbsp;prefixing&amp;nbsp;the&amp;nbsp;field&amp;nbsp;name&amp;nbsp;with&amp;nbsp;the&amp;nbsp;OLD&amp;nbsp;and&amp;nbsp;NEW&amp;nbsp;keywords.&amp;nbsp;This&lt;br&gt;
means&amp;nbsp;that,&amp;nbsp;for&amp;nbsp;example,&amp;nbsp;if&amp;nbsp;you&amp;nbsp;have&amp;nbsp;an&amp;nbsp;UPDATE&amp;nbsp;trigger&amp;nbsp;on&amp;nbsp;a&amp;nbsp;table,&amp;nbsp;the&amp;nbsp;SQL&amp;nbsp;statements&lt;br&gt;
within&amp;nbsp;the&amp;nbsp;trigger&amp;nbsp;body&amp;nbsp;can&amp;nbsp;access&amp;nbsp;both&amp;nbsp;the&amp;nbsp;existing&amp;nbsp;field&amp;nbsp;values&amp;nbsp;(OLD)&amp;nbsp;and&amp;nbsp;the&amp;nbsp;new,&lt;br&gt;
incoming&amp;nbsp;field&amp;nbsp;values&amp;nbsp;(NEW).&lt;br&gt;
&lt;br&gt;
===========================================================&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Trigger&amp;nbsp;Example&amp;nbsp;:&amp;nbsp;&lt;br&gt;
select&amp;nbsp;current_user();&lt;br&gt;
&lt;br&gt;
select&amp;nbsp;*&amp;nbsp;from&amp;nbsp;test.log;&lt;br&gt;
truncate&amp;nbsp;table&amp;nbsp;test.log;&lt;br&gt;
create&amp;nbsp;table&amp;nbsp;test.log(id&amp;nbsp;int&amp;nbsp;primary&amp;nbsp;key&amp;nbsp;auto_increment,&lt;br&gt;
message&amp;nbsp;varchar(100),&lt;br&gt;
date&amp;nbsp;datetime);&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
truncate&amp;nbsp;table&amp;nbsp;test.undertrigger;&lt;br&gt;
drop&amp;nbsp;table&amp;nbsp;if&amp;nbsp;exists&amp;nbsp;test.undertrigger;&lt;br&gt;
create&amp;nbsp;table&amp;nbsp;test.undertrigger(&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;id&amp;nbsp;int&amp;nbsp;primary&amp;nbsp;key&amp;nbsp;auto_increment,&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;name&amp;nbsp;varchar&amp;nbsp;(20),&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;calculated&amp;nbsp;int&amp;nbsp;not&amp;nbsp;null&lt;br&gt;
);&lt;br&gt;
&lt;br&gt;
insert&amp;nbsp;into&amp;nbsp;test.undertrigger&amp;nbsp;(name,&amp;nbsp;calculated)&amp;nbsp;values('y',&amp;nbsp;3);&lt;br&gt;
select&amp;nbsp;*&amp;nbsp;from&amp;nbsp;test.undertrigger;&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
drop&amp;nbsp;trigger&amp;nbsp;if&amp;nbsp;exists&amp;nbsp;test.undertrigger_bi;&lt;br&gt;
delimiter&amp;nbsp;//&lt;br&gt;
create&amp;nbsp;trigger&amp;nbsp;test.undertrigger_bi&amp;nbsp;before&amp;nbsp;insert&amp;nbsp;on&amp;nbsp;test.undertrigger&amp;nbsp;&lt;br&gt;
for&amp;nbsp;each&amp;nbsp;row&lt;br&gt;
begin&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;--&amp;nbsp;DECLARE&amp;nbsp;EXIT&amp;nbsp;Handler&amp;nbsp;for&amp;nbsp;1644&amp;nbsp;insert&amp;nbsp;into&amp;nbsp;test.log&amp;nbsp;(message,&amp;nbsp;date)&amp;nbsp;values&amp;nbsp;('Trying&amp;nbsp;to&amp;nbsp;insert&amp;nbsp;wrong&amp;nbsp;value&amp;nbsp;into&amp;nbsp;test.undertrigger_bi',&amp;nbsp;NOW());&amp;nbsp;&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&amp;nbsp;length(NEW.name)&amp;nbsp;&lt;&gt;&amp;nbsp;4&amp;nbsp;then&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;insert&amp;nbsp;into&amp;nbsp;test.log&amp;nbsp;(message,&amp;nbsp;date)&amp;nbsp;values&amp;nbsp;('Insert&amp;nbsp;new&amp;nbsp;row&amp;nbsp;to&amp;nbsp;test.undertrigger',&amp;nbsp;NOW());&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;else&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;SIGNAL&amp;nbsp;SQLSTATE&amp;nbsp;'45000'&amp;nbsp;SET&amp;nbsp;MESSAGE_TEXT&amp;nbsp;=&amp;nbsp;'pps';&amp;nbsp;--&amp;nbsp;this&amp;nbsp;revert&amp;nbsp;all&amp;nbsp;changes,&amp;nbsp;i&amp;nbsp;dont&amp;nbsp;know&amp;nbsp;how&amp;nbsp;to&amp;nbsp;ADD&amp;nbsp;SOMETHING&amp;nbsp;TO&amp;nbsp;LOG&amp;nbsp;TABLE&amp;nbsp;after&amp;nbsp;cancel&amp;nbsp;inserting&amp;nbsp;&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;end&amp;nbsp;if;&lt;br&gt;
end//&lt;br&gt;
&lt;br&gt;
show&amp;nbsp;variables//&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
show&amp;nbsp;triggers//&lt;br&gt;
&lt;br&gt;
drop&amp;nbsp;trigger&amp;nbsp;if&amp;nbsp;exists&amp;nbsp;test.undertrigger_bi//&lt;br&gt;
create&amp;nbsp;trigger&amp;nbsp;test.undertrigger_bi&amp;nbsp;before&amp;nbsp;insert&amp;nbsp;on&amp;nbsp;test.undertrigger&amp;nbsp;&lt;br&gt;
for&amp;nbsp;each&amp;nbsp;row&lt;br&gt;
begin&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;insert&amp;nbsp;into&amp;nbsp;test.log&amp;nbsp;(message,&amp;nbsp;date)&amp;nbsp;values&amp;nbsp;&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(concat('Insert&amp;nbsp;new&amp;nbsp;row&amp;nbsp;to&amp;nbsp;test.undertrigger&amp;nbsp;:&amp;nbsp;id=',NEW.id,',&amp;nbsp;name=',NEW.name,&amp;nbsp;'Id&amp;nbsp;sum&amp;nbsp;:',&amp;nbsp;(select&amp;nbsp;sum(id)&amp;nbsp;from&amp;nbsp;test.undertrigger)),&amp;nbsp;NOW());&amp;nbsp;&lt;br&gt;
&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;--&amp;nbsp;insert&amp;nbsp;into&amp;nbsp;test.log&amp;nbsp;(message,&amp;nbsp;date)&amp;nbsp;values&amp;nbsp;&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;--&amp;nbsp;(concat('Insert&amp;nbsp;new&amp;nbsp;row&amp;nbsp;to&amp;nbsp;test.undertrigger&amp;nbsp;:&amp;nbsp;id=',OLD.id,',&amp;nbsp;name=',OLD.name),&amp;nbsp;NOW());&amp;nbsp;&amp;nbsp;--&amp;nbsp;ERROR&amp;nbsp;:&amp;nbsp;There&amp;nbsp;is&amp;nbsp;no&amp;nbsp;OLD&amp;nbsp;row&amp;nbsp;in&amp;nbsp;insert&amp;nbsp;trigger&lt;br&gt;
end//&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
--&amp;nbsp;before&amp;nbsp;VS&amp;nbsp;after&amp;nbsp;triggers&lt;br&gt;
drop&amp;nbsp;trigger&amp;nbsp;if&amp;nbsp;exists&amp;nbsp;test.undertrigger_ai//&lt;br&gt;
create&amp;nbsp;trigger&amp;nbsp;test.undertrigger_ai&amp;nbsp;after&amp;nbsp;insert&amp;nbsp;on&amp;nbsp;test.undertrigger&amp;nbsp;&lt;br&gt;
for&amp;nbsp;each&amp;nbsp;row&lt;br&gt;
begin&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;insert&amp;nbsp;into&amp;nbsp;test.log&amp;nbsp;(message,&amp;nbsp;date)&amp;nbsp;values&amp;nbsp;&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(concat('AFTER&amp;nbsp;Insert&amp;nbsp;new&amp;nbsp;row&amp;nbsp;to&amp;nbsp;test.undertrigger&amp;nbsp;:&amp;nbsp;id=',NEW.id,',&amp;nbsp;name=',NEW.name,';&amp;nbsp;Id&amp;nbsp;sum&amp;nbsp;:',&amp;nbsp;(select&amp;nbsp;sum(id)&amp;nbsp;from&amp;nbsp;test.undertrigger))&amp;nbsp;,&amp;nbsp;NOW());&amp;nbsp;&lt;br&gt;
&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;--&amp;nbsp;insert&amp;nbsp;into&amp;nbsp;test.log&amp;nbsp;(message,&amp;nbsp;date)&amp;nbsp;values&amp;nbsp;&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;--&amp;nbsp;(concat('Insert&amp;nbsp;new&amp;nbsp;row&amp;nbsp;to&amp;nbsp;test.undertrigger&amp;nbsp;:&amp;nbsp;id=',OLD.id,',&amp;nbsp;name=',OLD.name),&amp;nbsp;NOW());&amp;nbsp;&amp;nbsp;--&amp;nbsp;ERROR&amp;nbsp;:&amp;nbsp;There&amp;nbsp;is&amp;nbsp;no&amp;nbsp;OLD&amp;nbsp;row&amp;nbsp;in&amp;nbsp;insert&amp;nbsp;trigger&lt;br&gt;
end//&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
--&amp;nbsp;NOTE&amp;nbsp;If&amp;nbsp;constraint&amp;nbsp;failed&amp;nbsp;triggers&amp;nbsp;are&amp;nbsp;ROLLED&amp;nbsp;BACK.&amp;nbsp;!!!&lt;br&gt;
&lt;br&gt;
select&amp;nbsp;concat('1',&amp;nbsp;null)//&amp;nbsp;&amp;nbsp;--&amp;nbsp;=)&amp;nbsp;result&amp;nbsp;is&amp;nbsp;null&amp;nbsp;in&amp;nbsp;MySQL&lt;br&gt;</questionanswer>
  </question>
  <question id="0_1_2_0_6:1" type="2">
    <questiontext>&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;MySQL&amp;nbsp;triggers&amp;nbsp;:&amp;nbsp;describe&amp;nbsp;what&amp;nbsp;is&amp;nbsp;NEW&amp;nbsp;and&amp;nbsp;OLD&amp;nbsp;objects.&lt;br&gt;
MySQL&amp;nbsp;triggers&amp;nbsp;:&amp;nbsp;BEFORE&amp;nbsp;vs&amp;nbsp;AFTER&amp;nbsp;triggers,&amp;nbsp;describe.&lt;br&gt;
How&amp;nbsp;to&amp;nbsp;cancel&amp;nbsp;inserting&amp;nbsp;in&amp;nbsp;BEFORE&amp;nbsp;INSERT&amp;nbsp;trigger&amp;nbsp;?&amp;nbsp;&lt;br&gt;
&amp;nbsp;&amp;nbsp;</questiontext>
    <questionanswer>Triggers&amp;nbsp;and&amp;nbsp;Old/New&amp;nbsp;Values&lt;br&gt;
Within&amp;nbsp;the&amp;nbsp;body&amp;nbsp;of&amp;nbsp;a&amp;nbsp;trigger,&amp;nbsp;it’s&amp;nbsp;possible&amp;nbsp;to&amp;nbsp;reference&amp;nbsp;field&amp;nbsp;values&amp;nbsp;from&amp;nbsp;both&amp;nbsp;before&amp;nbsp;and&lt;br&gt;
after&amp;nbsp;the&amp;nbsp;trigger&amp;nbsp;event&amp;nbsp;by&amp;nbsp;prefixing&amp;nbsp;the&amp;nbsp;field&amp;nbsp;name&amp;nbsp;with&amp;nbsp;the&amp;nbsp;OLD&amp;nbsp;and&amp;nbsp;NEW&amp;nbsp;keywords.&amp;nbsp;This&lt;br&gt;
means&amp;nbsp;that,&amp;nbsp;for&amp;nbsp;example,&amp;nbsp;if&amp;nbsp;you&amp;nbsp;have&amp;nbsp;an&amp;nbsp;UPDATE&amp;nbsp;trigger&amp;nbsp;on&amp;nbsp;a&amp;nbsp;table,&amp;nbsp;the&amp;nbsp;SQL&amp;nbsp;statements&lt;br&gt;
within&amp;nbsp;the&amp;nbsp;trigger&amp;nbsp;body&amp;nbsp;can&amp;nbsp;access&amp;nbsp;both&amp;nbsp;the&amp;nbsp;existing&amp;nbsp;field&amp;nbsp;values&amp;nbsp;(OLD)&amp;nbsp;and&amp;nbsp;the&amp;nbsp;new,&lt;br&gt;
incoming&amp;nbsp;field&amp;nbsp;values&amp;nbsp;(NEW).&lt;br&gt;
==================================================&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;BEFORE&amp;nbsp;vs&amp;nbsp;AFTER&amp;nbsp;triggers&lt;br&gt;
MySQL&amp;nbsp;5.1&amp;nbsp;did&amp;nbsp;not&amp;nbsp;make&amp;nbsp;any&amp;nbsp;changes&amp;nbsp;to&amp;nbsp;the&amp;nbsp;semantics&amp;nbsp;of&amp;nbsp;how&amp;nbsp;triggers&amp;nbsp;work.&lt;br&gt;
MySQL&amp;nbsp;tries&amp;nbsp;to&amp;nbsp;support&amp;nbsp;the&amp;nbsp;ANSI/ISO&amp;nbsp;SQL&amp;nbsp;specification&amp;nbsp;for&amp;nbsp;trigger&amp;nbsp;semantics.&lt;br&gt;
&lt;br&gt;
You&amp;nbsp;can&amp;nbsp;imagine&amp;nbsp;there's&amp;nbsp;a&amp;nbsp;sequence&amp;nbsp;of&amp;nbsp;operations&amp;nbsp;that&amp;nbsp;runs&amp;nbsp;as&amp;nbsp;a&amp;nbsp;row&amp;nbsp;is&amp;nbsp;written&lt;br&gt;
to&amp;nbsp;the&amp;nbsp;database:&lt;br&gt;
&lt;br&gt;
Run&amp;nbsp;BEFORE&amp;nbsp;triggers&lt;br&gt;
Evaluate&amp;nbsp;constraints,&amp;nbsp;enforce&amp;nbsp;NOT&amp;nbsp;NULL,&amp;nbsp;apply&amp;nbsp;DEFAULT&amp;nbsp;values&lt;br&gt;
Write&amp;nbsp;the&amp;nbsp;row&amp;nbsp;to&amp;nbsp;the&amp;nbsp;database&lt;br&gt;
Update&amp;nbsp;indexes&lt;br&gt;
Run&amp;nbsp;AFTER&amp;nbsp;triggers&lt;br&gt;
&lt;br&gt;
(NOTE3&amp;nbsp;:&amp;nbsp;in&amp;nbsp;example&amp;nbsp;you&amp;nbsp;can&amp;nbsp;see&amp;nbsp;,&amp;nbsp;that&amp;nbsp;order&amp;nbsp;of&amp;nbsp;execution&amp;nbsp;is&amp;nbsp;:&amp;nbsp;before&amp;nbsp;trigger&amp;nbsp;-&amp;nbsp;constraints&amp;nbsp;-&amp;nbsp;after&amp;nbsp;trigger,&amp;nbsp;&lt;br&gt;
you&amp;nbsp;can&amp;nbsp;see&amp;nbsp;it&amp;nbsp;from&amp;nbsp;'insert&amp;nbsp;into&amp;nbsp;test.log&amp;nbsp;(message,&amp;nbsp;date)&amp;nbsp;values&amp;nbsp;&lt;br&gt;
(concat('AFTER&amp;nbsp;Insert&amp;nbsp;new&amp;nbsp;row&amp;nbsp;to&amp;nbsp;test.undertrigger&amp;nbsp;:&amp;nbsp;id=',NEW.id,',&amp;nbsp;name=',NEW.name,';&amp;nbsp;Id&amp;nbsp;sum&amp;nbsp;:',&lt;br&gt;
(select&amp;nbsp;sum(id)&amp;nbsp;from&amp;nbsp;test.undertrigger))&amp;nbsp;,&amp;nbsp;NOW());&amp;nbsp;')&amp;nbsp;&lt;-&amp;nbsp;we&amp;nbsp;insert&amp;nbsp;sum&amp;nbsp;of&amp;nbsp;Id's&amp;nbsp;in&amp;nbsp;before&amp;nbsp;and&amp;nbsp;after&amp;nbsp;trigger&amp;nbsp;to&amp;nbsp;&lt;br&gt;
demonstrate&amp;nbsp;order&lt;br&gt;
===================================================&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Cancel&amp;nbsp;inserting&amp;nbsp;from&amp;nbsp;BEFORE&amp;nbsp;INSERT&amp;nbsp;trigger&amp;nbsp;:&amp;nbsp;&lt;br&gt;
&lt;br&gt;
drop&amp;nbsp;trigger&amp;nbsp;if&amp;nbsp;exists&amp;nbsp;test.undertrigger_bi//&lt;br&gt;
create&amp;nbsp;trigger&amp;nbsp;test.undertrigger_bi&amp;nbsp;before&amp;nbsp;insert&amp;nbsp;on&amp;nbsp;test.undertrigger&amp;nbsp;&lt;br&gt;
for&amp;nbsp;each&amp;nbsp;row&lt;br&gt;
begin&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;insert&amp;nbsp;into&amp;nbsp;test.log&amp;nbsp;(message,&amp;nbsp;date)&amp;nbsp;values&amp;nbsp;&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(concat('Insert&amp;nbsp;new&amp;nbsp;row&amp;nbsp;to&amp;nbsp;test.undertrigger&amp;nbsp;:&amp;nbsp;id=',NEW.id,',&amp;nbsp;name=',NEW.name,&amp;nbsp;'Id&amp;nbsp;sum&amp;nbsp;:',&amp;nbsp;(select&amp;nbsp;sum(id)&amp;nbsp;from&amp;nbsp;test.undertrigger)),&amp;nbsp;NOW());&amp;nbsp;&lt;br&gt;
&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;--&amp;nbsp;insert&amp;nbsp;into&amp;nbsp;test.log&amp;nbsp;(message,&amp;nbsp;date)&amp;nbsp;values&amp;nbsp;&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;--&amp;nbsp;(concat('Insert&amp;nbsp;new&amp;nbsp;row&amp;nbsp;to&amp;nbsp;test.undertrigger&amp;nbsp;:&amp;nbsp;id=',OLD.id,',&amp;nbsp;name=',OLD.name),&amp;nbsp;NOW());&amp;nbsp;&amp;nbsp;--&amp;nbsp;ERROR&amp;nbsp;:&amp;nbsp;There&amp;nbsp;is&amp;nbsp;no&amp;nbsp;OLD&amp;nbsp;row&amp;nbsp;in&amp;nbsp;insert&amp;nbsp;trigger&lt;br&gt;
end//&lt;br&gt;
&lt;br&gt;
https://dev.mysql.com/doc/refman/5.5/en/signal.html&lt;br&gt;
==================================================&lt;br&gt;
Look&amp;nbsp;at&amp;nbsp;example&lt;br&gt;
(NOTE&amp;nbsp;:&amp;nbsp;OLD&amp;nbsp;object&amp;nbsp;is&amp;nbsp;not&amp;nbsp;present&amp;nbsp;in&amp;nbsp;BEFORE&amp;nbsp;INSERT&amp;nbsp;TRIGGERS,&amp;nbsp;and&amp;nbsp;&lt;br&gt;
NEW&amp;nbsp;object&amp;nbsp;is&amp;nbsp;not&amp;nbsp;present&amp;nbsp;in&amp;nbsp;AFTER&amp;nbsp;DELETE&amp;nbsp;trigger)&lt;br&gt;
&lt;br&gt;
(NOTE2&amp;nbsp;:&amp;nbsp;IF&amp;nbsp;constraint&amp;nbsp;check&amp;nbsp;fails&amp;nbsp;then&amp;nbsp;BEFORE&amp;nbsp;and&amp;nbsp;AFTER&amp;nbsp;triggers&amp;nbsp;are&amp;nbsp;ROLLED&amp;nbsp;BACK&amp;nbsp;,&amp;nbsp;it&amp;nbsp;is&amp;nbsp;in&amp;nbsp;example)&lt;br&gt;
&amp;nbsp;&lt;br&gt;
&lt;br&gt;
select&amp;nbsp;current_user();&lt;br&gt;
&lt;br&gt;
select&amp;nbsp;*&amp;nbsp;from&amp;nbsp;test.log;&lt;br&gt;
truncate&amp;nbsp;table&amp;nbsp;test.log;&lt;br&gt;
create&amp;nbsp;table&amp;nbsp;test.log(id&amp;nbsp;int&amp;nbsp;primary&amp;nbsp;key&amp;nbsp;auto_increment,&lt;br&gt;
message&amp;nbsp;varchar(100),&lt;br&gt;
date&amp;nbsp;datetime);&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
truncate&amp;nbsp;table&amp;nbsp;test.undertrigger;&lt;br&gt;
drop&amp;nbsp;table&amp;nbsp;if&amp;nbsp;exists&amp;nbsp;test.undertrigger;&lt;br&gt;
create&amp;nbsp;table&amp;nbsp;test.undertrigger(&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;id&amp;nbsp;int&amp;nbsp;primary&amp;nbsp;key&amp;nbsp;auto_increment,&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;name&amp;nbsp;varchar&amp;nbsp;(20),&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;calculated&amp;nbsp;int&amp;nbsp;not&amp;nbsp;null&lt;br&gt;
);&lt;br&gt;
&lt;br&gt;
insert&amp;nbsp;into&amp;nbsp;test.undertrigger&amp;nbsp;(name,&amp;nbsp;calculated)&amp;nbsp;values('y',&amp;nbsp;3);&lt;br&gt;
select&amp;nbsp;*&amp;nbsp;from&amp;nbsp;test.undertrigger;&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
drop&amp;nbsp;trigger&amp;nbsp;if&amp;nbsp;exists&amp;nbsp;test.undertrigger_bi;&lt;br&gt;
delimiter&amp;nbsp;//&lt;br&gt;
create&amp;nbsp;trigger&amp;nbsp;test.undertrigger_bi&amp;nbsp;before&amp;nbsp;insert&amp;nbsp;on&amp;nbsp;test.undertrigger&amp;nbsp;&lt;br&gt;
for&amp;nbsp;each&amp;nbsp;row&lt;br&gt;
begin&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;--&amp;nbsp;DECLARE&amp;nbsp;EXIT&amp;nbsp;Handler&amp;nbsp;for&amp;nbsp;1644&amp;nbsp;insert&amp;nbsp;into&amp;nbsp;test.log&amp;nbsp;(message,&amp;nbsp;date)&amp;nbsp;values&amp;nbsp;('Trying&amp;nbsp;to&amp;nbsp;insert&amp;nbsp;wrong&amp;nbsp;value&amp;nbsp;into&amp;nbsp;test.undertrigger_bi',&amp;nbsp;NOW());&amp;nbsp;&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&amp;nbsp;length(NEW.name)&amp;nbsp;&lt;&gt;&amp;nbsp;4&amp;nbsp;then&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;insert&amp;nbsp;into&amp;nbsp;test.log&amp;nbsp;(message,&amp;nbsp;date)&amp;nbsp;values&amp;nbsp;('Insert&amp;nbsp;new&amp;nbsp;row&amp;nbsp;to&amp;nbsp;test.undertrigger',&amp;nbsp;NOW());&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;else&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;SIGNAL&amp;nbsp;SQLSTATE&amp;nbsp;'45000'&amp;nbsp;SET&amp;nbsp;MESSAGE_TEXT&amp;nbsp;=&amp;nbsp;'pps';&amp;nbsp;--&amp;nbsp;this&amp;nbsp;revert&amp;nbsp;all&amp;nbsp;changes,&amp;nbsp;i&amp;nbsp;dont&amp;nbsp;know&amp;nbsp;how&amp;nbsp;to&amp;nbsp;ADD&amp;nbsp;SOMETHING&amp;nbsp;TO&amp;nbsp;LOG&amp;nbsp;TABLE&amp;nbsp;after&amp;nbsp;cancel&amp;nbsp;inserting&amp;nbsp;&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;end&amp;nbsp;if;&lt;br&gt;
end//&lt;br&gt;
&lt;br&gt;
show&amp;nbsp;variables//&lt;br&gt;
&lt;br&gt;
show&amp;nbsp;triggers//&lt;br&gt;
&lt;br&gt;
drop&amp;nbsp;trigger&amp;nbsp;if&amp;nbsp;exists&amp;nbsp;test.undertrigger_bi//&lt;br&gt;
create&amp;nbsp;trigger&amp;nbsp;test.undertrigger_bi&amp;nbsp;before&amp;nbsp;insert&amp;nbsp;on&amp;nbsp;test.undertrigger&amp;nbsp;&lt;br&gt;
for&amp;nbsp;each&amp;nbsp;row&lt;br&gt;
begin&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;insert&amp;nbsp;into&amp;nbsp;test.log&amp;nbsp;(message,&amp;nbsp;date)&amp;nbsp;values&amp;nbsp;&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(concat('Insert&amp;nbsp;new&amp;nbsp;row&amp;nbsp;to&amp;nbsp;test.undertrigger&amp;nbsp;:&amp;nbsp;id=',NEW.id,',&amp;nbsp;name=',NEW.name,&amp;nbsp;'Id&amp;nbsp;sum&amp;nbsp;:',&amp;nbsp;(select&amp;nbsp;sum(id)&amp;nbsp;from&amp;nbsp;test.undertrigger)),&amp;nbsp;NOW());&amp;nbsp;&lt;br&gt;
&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;--&amp;nbsp;insert&amp;nbsp;into&amp;nbsp;test.log&amp;nbsp;(message,&amp;nbsp;date)&amp;nbsp;values&amp;nbsp;&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;--&amp;nbsp;(concat('Insert&amp;nbsp;new&amp;nbsp;row&amp;nbsp;to&amp;nbsp;test.undertrigger&amp;nbsp;:&amp;nbsp;id=',OLD.id,',&amp;nbsp;name=',OLD.name),&amp;nbsp;NOW());&amp;nbsp;&amp;nbsp;--&amp;nbsp;ERROR&amp;nbsp;:&amp;nbsp;There&amp;nbsp;is&amp;nbsp;no&amp;nbsp;OLD&amp;nbsp;row&amp;nbsp;in&amp;nbsp;insert&amp;nbsp;trigger&lt;br&gt;
end//&lt;br&gt;
&lt;br&gt;
--&amp;nbsp;before&amp;nbsp;VS&amp;nbsp;after&amp;nbsp;triggers&lt;br&gt;
drop&amp;nbsp;trigger&amp;nbsp;if&amp;nbsp;exists&amp;nbsp;test.undertrigger_ai//&lt;br&gt;
create&amp;nbsp;trigger&amp;nbsp;test.undertrigger_ai&amp;nbsp;after&amp;nbsp;insert&amp;nbsp;on&amp;nbsp;test.undertrigger&amp;nbsp;&lt;br&gt;
for&amp;nbsp;each&amp;nbsp;row&lt;br&gt;
begin&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;insert&amp;nbsp;into&amp;nbsp;test.log&amp;nbsp;(message,&amp;nbsp;date)&amp;nbsp;values&amp;nbsp;&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(concat('AFTER&amp;nbsp;Insert&amp;nbsp;new&amp;nbsp;row&amp;nbsp;to&amp;nbsp;test.undertrigger&amp;nbsp;:&amp;nbsp;id=',NEW.id,',&amp;nbsp;name=',NEW.name,';&amp;nbsp;Id&amp;nbsp;sum&amp;nbsp;:',&amp;nbsp;(select&amp;nbsp;sum(id)&amp;nbsp;from&amp;nbsp;test.undertrigger))&amp;nbsp;,&amp;nbsp;NOW());&amp;nbsp;&lt;br&gt;
&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;--&amp;nbsp;insert&amp;nbsp;into&amp;nbsp;test.log&amp;nbsp;(message,&amp;nbsp;date)&amp;nbsp;values&amp;nbsp;&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;--&amp;nbsp;(concat('Insert&amp;nbsp;new&amp;nbsp;row&amp;nbsp;to&amp;nbsp;test.undertrigger&amp;nbsp;:&amp;nbsp;id=',OLD.id,',&amp;nbsp;name=',OLD.name),&amp;nbsp;NOW());&amp;nbsp;&amp;nbsp;--&amp;nbsp;ERROR&amp;nbsp;:&amp;nbsp;There&amp;nbsp;is&amp;nbsp;no&amp;nbsp;OLD&amp;nbsp;row&amp;nbsp;in&amp;nbsp;insert&amp;nbsp;trigger&lt;br&gt;
end//&lt;br&gt;
&lt;br&gt;
--&amp;nbsp;NOTE&amp;nbsp;If&amp;nbsp;constraint&amp;nbsp;failed&amp;nbsp;triggers&amp;nbsp;are&amp;nbsp;ROLLED&amp;nbsp;BACK.&amp;nbsp;!!!&lt;br&gt;
&lt;br&gt;
select&amp;nbsp;concat('1',&amp;nbsp;null)//&amp;nbsp;&amp;nbsp;--&amp;nbsp;=)&amp;nbsp;result&amp;nbsp;is&amp;nbsp;null&amp;nbsp;in&amp;nbsp;MySQL&lt;br&gt;
&lt;br&gt;
==================================================</questionanswer>
  </question>
  <question id="0_1_2_0_6:2" type="2">
    <questiontext>&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;MySQL&amp;nbsp;scheduled&amp;nbsp;events,&amp;nbsp;describe.&amp;nbsp;Provide&amp;nbsp;examples.&lt;br&gt;
&amp;nbsp;&amp;nbsp;</questiontext>
    <questionanswer>http://dev.mysql.com/doc/refman/5.1/en/create-event.html&lt;br&gt;
================================================&lt;br&gt;
Note&amp;nbsp;To&amp;nbsp;create&amp;nbsp;a&amp;nbsp;scheduled&amp;nbsp;event,&amp;nbsp;a&amp;nbsp;user&amp;nbsp;must&amp;nbsp;have&amp;nbsp;the&amp;nbsp;EVENT&amp;nbsp;privilege.&amp;nbsp;To&amp;nbsp;turn&amp;nbsp;the&amp;nbsp;global&lt;br&gt;
event&amp;nbsp;scheduler&amp;nbsp;on&amp;nbsp;or&amp;nbsp;off,&amp;nbsp;a&amp;nbsp;user&amp;nbsp;must&amp;nbsp;have&amp;nbsp;the&amp;nbsp;SUPER&amp;nbsp;privilege.&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
Event&amp;nbsp;Security&lt;br&gt;
The&amp;nbsp;CREATE&amp;nbsp;EVENT&amp;nbsp;command&amp;nbsp;supports&amp;nbsp;a&amp;nbsp;DEFINER&amp;nbsp;clause,&amp;nbsp;which&amp;nbsp;specifies&amp;nbsp;the&amp;nbsp;user&lt;br&gt;
account&amp;nbsp;whose&amp;nbsp;privileges&amp;nbsp;should&amp;nbsp;be&amp;nbsp;considered&amp;nbsp;when&amp;nbsp;executing&amp;nbsp;the&amp;nbsp;event&amp;nbsp;code.&amp;nbsp;For&amp;nbsp;the&lt;br&gt;
event&amp;nbsp;to&amp;nbsp;execute&amp;nbsp;successfully,&amp;nbsp;this&amp;nbsp;user&amp;nbsp;should&amp;nbsp;have&amp;nbsp;all&amp;nbsp;the&amp;nbsp;privileges&amp;nbsp;necessary&amp;nbsp;to&lt;br&gt;
perform&amp;nbsp;the&amp;nbsp;statements&amp;nbsp;listed&amp;nbsp;in&amp;nbsp;the&amp;nbsp;event&amp;nbsp;body.&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
You&amp;nbsp;can&amp;nbsp;also&amp;nbsp;configure&amp;nbsp;the&amp;nbsp;event&amp;nbsp;to&amp;nbsp;fire&amp;nbsp;only&amp;nbsp;within&amp;nbsp;a&amp;nbsp;certain&amp;nbsp;time&amp;nbsp;period&amp;nbsp;by&lt;br&gt;
specifying&amp;nbsp;optional&amp;nbsp;STARTS&amp;nbsp;and&amp;nbsp;ENDS&amp;nbsp;clauses,&amp;nbsp;which&amp;nbsp;contain&amp;nbsp;the&amp;nbsp;starting&amp;nbsp;and&amp;nbsp;ending&lt;br&gt;
times&amp;nbsp;for&amp;nbsp;the&amp;nbsp;event.&amp;nbsp;Here’s&amp;nbsp;a&amp;nbsp;revision&amp;nbsp;of&amp;nbsp;the&amp;nbsp;previous&amp;nbsp;example,&amp;nbsp;which&amp;nbsp;configures&amp;nbsp;the&lt;br&gt;
event&amp;nbsp;to&amp;nbsp;fire&amp;nbsp;only&amp;nbsp;during&amp;nbsp;a&amp;nbsp;particular&amp;nbsp;month:&lt;br&gt;
&lt;br&gt;
mysql&gt;&amp;nbsp;DELIMITER&amp;nbsp;//&lt;br&gt;
mysql&gt;&amp;nbsp;CREATE&amp;nbsp;EVENT&amp;nbsp;util_hour&lt;br&gt;
-&gt;&amp;nbsp;ON&amp;nbsp;SCHEDULE&amp;nbsp;EVERY&amp;nbsp;1&amp;nbsp;HOUR&lt;br&gt;
-&gt;&amp;nbsp;STARTS&amp;nbsp;'2009-04-01&amp;nbsp;00:00:01'&lt;br&gt;
-&gt;&amp;nbsp;ENDS&amp;nbsp;'2009-04-30&amp;nbsp;23:59:01'&lt;br&gt;
-&gt;&amp;nbsp;ENABLE&lt;br&gt;
-&gt;&amp;nbsp;DO&lt;br&gt;
-&gt;&amp;nbsp;BEGIN&lt;br&gt;
-&gt;&amp;nbsp;DECLARE&amp;nbsp;fid&amp;nbsp;INT;&lt;br&gt;
-&gt;&amp;nbsp;DECLARE&amp;nbsp;fdate&amp;nbsp;DATE;&lt;br&gt;
....&lt;br&gt;
....&lt;br&gt;
====================================================&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Example&amp;nbsp;:&amp;nbsp;&lt;br&gt;
&lt;br&gt;
show&amp;nbsp;variables;&lt;br&gt;
&lt;br&gt;
SHOW&amp;nbsp;EVENTS;&lt;br&gt;
&lt;br&gt;
set&amp;nbsp;global&amp;nbsp;event_scheduler&amp;nbsp;=&amp;nbsp;ON;&lt;br&gt;
&lt;br&gt;
/*&amp;nbsp;MySQL’s&amp;nbsp;event&amp;nbsp;scheduling&amp;nbsp;engine&amp;nbsp;is&amp;nbsp;deactivated&amp;nbsp;and&amp;nbsp;must&amp;nbsp;be&amp;nbsp;activated&amp;nbsp;with&amp;nbsp;the&lt;br&gt;
following&amp;nbsp;command:&lt;br&gt;
mysql&gt;&amp;nbsp;SET&amp;nbsp;GLOBAL&amp;nbsp;event_scheduler&amp;nbsp;=&amp;nbsp;ON;&amp;nbsp;*/&lt;br&gt;
&lt;br&gt;
drop&amp;nbsp;event&amp;nbsp;pax_day;&lt;br&gt;
&lt;br&gt;
DELIMITER&amp;nbsp;//&lt;br&gt;
CREATE&amp;nbsp;EVENT&amp;nbsp;pax_day&lt;br&gt;
&amp;nbsp;ON&amp;nbsp;SCHEDULE&amp;nbsp;EVERY&amp;nbsp;1&amp;nbsp;Minute&lt;br&gt;
&amp;nbsp;STARTS&amp;nbsp;'2015-03-24&amp;nbsp;22:26:00'&amp;nbsp;ENABLE&lt;br&gt;
&amp;nbsp;DO&lt;br&gt;
&amp;nbsp;BEGIN&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;insert&amp;nbsp;into&amp;nbsp;test.log(message,date)&amp;nbsp;values&amp;nbsp;('Scheduled&amp;nbsp;event&amp;nbsp;every&amp;nbsp;minute',&amp;nbsp;NOW());&lt;br&gt;
&amp;nbsp;END//&lt;br&gt;
&lt;br&gt;
alter&amp;nbsp;event&amp;nbsp;pax_day&amp;nbsp;disable//&lt;br&gt;
&lt;br&gt;
select&amp;nbsp;*&amp;nbsp;from&amp;nbsp;test.log//</questionanswer>
  </question>
</questions>
